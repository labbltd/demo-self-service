var e,t,n={851:(EA,AA,_A)=>{var CA=_A(681);Object.defineProperty(AA,"reduxBatch",{enumerable:!0,get:function(){return CA.reduxBatch}})},681:(EA,AA)=>{Object.defineProperty(AA,"__esModule",{value:!0}),AA.reduxBatch=function(EA){var AA=[],_A=void 0;function CA(){AA===_A&&(AA=AA.slice())}function SA(EA){if("function"!=typeof EA)throw new Error("Invalid listener, expected a function");var _A=!0;return CA(),AA.push(EA),function(){_A&&(CA(),AA.splice(AA.indexOf(EA),1),_A=!1)}}function DA(){for(var EA=AA,CA=0;CA<EA.length;++CA)_A=EA,EA[CA]()}return function(){var AA=EA.apply(void 0,arguments),_A=!1,CA=!1;function TA(EA){return Array.isArray(EA)?EA.map((function(EA){return TA(EA)})):AA.dispatch(EA)}return AA.subscribe((function(){CA?_A=!0:DA()})),Object.assign({},AA,{dispatch:function(EA){var AA=CA;AA||(_A=!1,CA=!0);var SA=TA(EA),NA=_A&&!AA;return AA||(_A=!1,CA=!1),NA&&DA(),SA},subscribe:SA})}}},52:(EA,AA,_A)=>{EA.exports=_A(851)},631:(EA,AA,_A)=>{var CA="__lodash_hash_undefined__",SA=/^\[object .+?Constructor\]$/,DA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,TA="object"==typeof self&&self&&self.Object===Object&&self,NA=DA||TA||Function("return this")();function PA(EA,AA){return!(!EA||!EA.length)&&function(EA,AA){if(AA!=AA)return function(EA,AA){for(var _A=EA.length,CA=-1;++CA<_A;)if(AA(EA[CA],CA,EA))return CA;return-1}(EA,OA);for(var _A=-1,CA=EA.length;++_A<CA;)if(EA[_A]===AA)return _A;return-1}(EA,AA)>-1}function RA(EA,AA,_A){for(var CA=-1,SA=EA?EA.length:0;++CA<SA;)if(_A(AA,EA[CA]))return!0;return!1}function bA(EA,AA){for(var _A=-1,CA=AA.length,SA=EA.length;++_A<CA;)EA[SA+_A]=AA[_A];return EA}function OA(EA){return EA!=EA}function vA(EA,AA){return EA.has(AA)}var xA,wA=Array.prototype,MA=Function.prototype,LA=Object.prototype,GA=NA["__core-js_shared__"],UA=(xA=/[^.]+$/.exec(GA&&GA.keys&&GA.keys.IE_PROTO||""))?"Symbol(src)_1."+xA:"",FA=MA.toString,jA=LA.hasOwnProperty,VA=LA.toString,kA=RegExp("^"+FA.call(jA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),BA=NA.Symbol,$A=LA.propertyIsEnumerable,WA=wA.splice,HA=BA?BA.isConcatSpreadable:void 0,qA=Math.max,zA=n_(NA,"Map"),YA=n_(Object,"create");function KA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function JA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function XA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function QA(EA){var AA=-1,_A=EA?EA.length:0;for(this.__data__=new XA;++AA<_A;)this.add(EA[AA])}function ZA(EA,AA){for(var _A,CA,SA=EA.length;SA--;)if((_A=EA[SA][0])===(CA=AA)||_A!=_A&&CA!=CA)return SA;return-1}function e_(EA,AA,_A,CA,SA){var DA=-1,TA=EA.length;for(_A||(_A=r_),SA||(SA=[]);++DA<TA;){var NA=EA[DA];AA>0&&_A(NA)?AA>1?e_(NA,AA-1,_A,CA,SA):bA(SA,NA):CA||(SA[SA.length]=NA)}return SA}function t_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function n_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!u_(EA)||UA&&UA in EA)return!1;var AA=l_(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?kA:SA;return AA.test(function(EA){if(null!=EA){try{return FA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}function r_(EA){return i_(EA)||function(EA){return c_(EA)&&jA.call(EA,"callee")&&(!$A.call(EA,"callee")||"[object Arguments]"==VA.call(EA))}(EA)||!!(HA&&EA&&EA[HA])}KA.prototype.clear=function(){this.__data__=YA?YA(null):{}},KA.prototype.delete=function(EA){return this.has(EA)&&delete this.__data__[EA]},KA.prototype.get=function(EA){var AA=this.__data__;if(YA){var _A=AA[EA];return _A===CA?void 0:_A}return jA.call(AA,EA)?AA[EA]:void 0},KA.prototype.has=function(EA){var AA=this.__data__;return YA?void 0!==AA[EA]:jA.call(AA,EA)},KA.prototype.set=function(EA,AA){return this.__data__[EA]=YA&&void 0===AA?CA:AA,this},JA.prototype.clear=function(){this.__data__=[]},JA.prototype.delete=function(EA){var AA=this.__data__,_A=ZA(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():WA.call(AA,_A,1),0))},JA.prototype.get=function(EA){var AA=this.__data__,_A=ZA(AA,EA);return _A<0?void 0:AA[_A][1]},JA.prototype.has=function(EA){return ZA(this.__data__,EA)>-1},JA.prototype.set=function(EA,AA){var _A=this.__data__,CA=ZA(_A,EA);return CA<0?_A.push([EA,AA]):_A[CA][1]=AA,this},XA.prototype.clear=function(){this.__data__={hash:new KA,map:new(zA||JA),string:new KA}},XA.prototype.delete=function(EA){return t_(this,EA).delete(EA)},XA.prototype.get=function(EA){return t_(this,EA).get(EA)},XA.prototype.has=function(EA){return t_(this,EA).has(EA)},XA.prototype.set=function(EA,AA){return t_(this,EA).set(EA,AA),this},QA.prototype.add=QA.prototype.push=function(EA){return this.__data__.set(EA,CA),this},QA.prototype.has=function(EA){return this.__data__.has(EA)};var s_,a_,o_=(s_=function(EA,AA){return c_(EA)?function(EA,AA,_A,CA){var SA,DA=-1,TA=PA,NA=!0,bA=EA.length,OA=[],xA=AA.length;if(!bA)return OA;_A&&(AA=function(EA,AA){for(var _A=-1,CA=EA?EA.length:0,SA=Array(CA);++_A<CA;)SA[_A]=AA(EA[_A],_A,EA);return SA}(AA,(SA=_A,function(EA){return SA(EA)}))),CA?(TA=RA,NA=!1):AA.length>=200&&(TA=vA,NA=!1,AA=new QA(AA));e:for(;++DA<bA;){var wA=EA[DA],MA=_A?_A(wA):wA;if(wA=CA||0!==wA?wA:0,NA&&MA==MA){for(var LA=xA;LA--;)if(AA[LA]===MA)continue e;OA.push(wA)}else TA(AA,MA,CA)||OA.push(wA)}return OA}(EA,e_(AA,1,c_,!0)):[]},a_=qA(void 0===a_?s_.length-1:a_,0),function(){for(var EA=arguments,AA=-1,_A=qA(EA.length-a_,0),CA=Array(_A);++AA<_A;)CA[AA]=EA[a_+AA];AA=-1;for(var SA=Array(a_+1);++AA<a_;)SA[AA]=EA[AA];return SA[a_]=CA,function(EA,AA,_A){switch(_A.length){case 0:return EA.call(AA);case 1:return EA.call(AA,_A[0]);case 2:return EA.call(AA,_A[0],_A[1]);case 3:return EA.call(AA,_A[0],_A[1],_A[2])}return EA.apply(AA,_A)}(s_,this,SA)}),i_=Array.isArray;function c_(EA){return function(EA){return!!EA&&"object"==typeof EA}(EA)&&function(EA){return null!=EA&&function(EA){return"number"==typeof EA&&EA>-1&&EA%1==0&&EA<=9007199254740991}(EA.length)&&!l_(EA)}(EA)}function l_(EA){var AA=u_(EA)?VA.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}function u_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}EA.exports=o_},188:(EA,AA,_A)=>{var CA,SA="__lodash_hash_undefined__",DA=1/0,TA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NA=/^\w*$/,PA=/^\./,RA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bA=/\\(\\)?/g,OA=/^\[object .+?Constructor\]$/,vA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,xA="object"==typeof self&&self&&self.Object===Object&&self,wA=vA||xA||Function("return this")(),MA=Array.prototype,LA=Function.prototype,GA=Object.prototype,UA=wA["__core-js_shared__"],FA=(CA=/[^.]+$/.exec(UA&&UA.keys&&UA.keys.IE_PROTO||""))?"Symbol(src)_1."+CA:"",jA=LA.toString,VA=GA.hasOwnProperty,kA=GA.toString,BA=RegExp("^"+jA.call(VA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$A=wA.Symbol,WA=MA.splice,HA=e_(wA,"Map"),qA=e_(Object,"create"),zA=$A?$A.prototype:void 0,YA=zA?zA.toString:void 0;function KA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function JA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function XA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function QA(EA,AA){for(var _A,CA,SA=EA.length;SA--;)if((_A=EA[SA][0])===(CA=AA)||_A!=_A&&CA!=CA)return SA;return-1}function ZA(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function e_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!a_(EA)||FA&&FA in EA)return!1;var AA=function(EA){var AA=a_(EA)?kA.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?BA:OA;return AA.test(function(EA){if(null!=EA){try{return jA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}KA.prototype.clear=function(){this.__data__=qA?qA(null):{}},KA.prototype.delete=function(EA){return this.has(EA)&&delete this.__data__[EA]},KA.prototype.get=function(EA){var AA=this.__data__;if(qA){var _A=AA[EA];return _A===SA?void 0:_A}return VA.call(AA,EA)?AA[EA]:void 0},KA.prototype.has=function(EA){var AA=this.__data__;return qA?void 0!==AA[EA]:VA.call(AA,EA)},KA.prototype.set=function(EA,AA){return this.__data__[EA]=qA&&void 0===AA?SA:AA,this},JA.prototype.clear=function(){this.__data__=[]},JA.prototype.delete=function(EA){var AA=this.__data__,_A=QA(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():WA.call(AA,_A,1),0))},JA.prototype.get=function(EA){var AA=this.__data__,_A=QA(AA,EA);return _A<0?void 0:AA[_A][1]},JA.prototype.has=function(EA){return QA(this.__data__,EA)>-1},JA.prototype.set=function(EA,AA){var _A=this.__data__,CA=QA(_A,EA);return CA<0?_A.push([EA,AA]):_A[CA][1]=AA,this},XA.prototype.clear=function(){this.__data__={hash:new KA,map:new(HA||JA),string:new KA}},XA.prototype.delete=function(EA){return ZA(this,EA).delete(EA)},XA.prototype.get=function(EA){return ZA(this,EA).get(EA)},XA.prototype.has=function(EA){return ZA(this,EA).has(EA)},XA.prototype.set=function(EA,AA){return ZA(this,EA).set(EA,AA),this};var t_=r_((function(EA){var AA;EA=null==(AA=EA)?"":function(EA){if("string"==typeof EA)return EA;if(o_(EA))return YA?YA.call(EA):"";var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}(AA);var _A=[];return PA.test(EA)&&_A.push(""),EA.replace(RA,(function(EA,AA,CA,SA){_A.push(CA?SA.replace(bA,"$1"):AA||EA)})),_A}));function n_(EA){if("string"==typeof EA||o_(EA))return EA;var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}function r_(EA,AA){if("function"!=typeof EA||AA&&"function"!=typeof AA)throw new TypeError("Expected a function");var _A=function(){var CA=arguments,SA=AA?AA.apply(this,CA):CA[0],DA=_A.cache;if(DA.has(SA))return DA.get(SA);var TA=EA.apply(this,CA);return _A.cache=DA.set(SA,TA),TA};return _A.cache=new(r_.Cache||XA),_A}r_.Cache=XA;var s_=Array.isArray;function a_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}function o_(EA){return"symbol"==typeof EA||function(EA){return!!EA&&"object"==typeof EA}(EA)&&"[object Symbol]"==kA.call(EA)}EA.exports=function(EA,AA,_A){var CA=null==EA?void 0:function(EA,AA){var _A;AA=function(EA,AA){if(s_(EA))return!1;var _A=typeof EA;return!("number"!=_A&&"symbol"!=_A&&"boolean"!=_A&&null!=EA&&!o_(EA))||NA.test(EA)||!TA.test(EA)||null!=AA&&EA in Object(AA)}(AA,EA)?[AA]:s_(_A=AA)?_A:t_(_A);for(var CA=0,SA=AA.length;null!=EA&&CA<SA;)EA=EA[n_(AA[CA++])];return CA&&CA==SA?EA:void 0}(EA,AA);return void 0===CA?_A:CA}},928:(EA,AA,_A)=>{var CA,SA="__lodash_hash_undefined__",DA=1/0,TA=9007199254740991,NA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PA=/^\w*$/,RA=/^\./,bA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OA=/\\(\\)?/g,vA=/^\[object .+?Constructor\]$/,xA=/^(?:0|[1-9]\d*)$/,wA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,MA="object"==typeof self&&self&&self.Object===Object&&self,LA=wA||MA||Function("return this")(),GA=Array.prototype,UA=Function.prototype,FA=Object.prototype,jA=LA["__core-js_shared__"],VA=(CA=/[^.]+$/.exec(jA&&jA.keys&&jA.keys.IE_PROTO||""))?"Symbol(src)_1."+CA:"",kA=UA.toString,BA=FA.hasOwnProperty,$A=FA.toString,WA=RegExp("^"+kA.call(BA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),HA=LA.Symbol,qA=FA.propertyIsEnumerable,zA=GA.splice,YA=s_(LA,"Map"),KA=s_(Object,"create"),JA=HA?HA.prototype:void 0,XA=JA?JA.toString:void 0;function QA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function ZA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function e_(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function t_(EA,AA){for(var _A,CA,SA=EA.length;SA--;)if((_A=EA[SA][0])===(CA=AA)||_A!=_A&&CA!=CA)return SA;return-1}function n_(EA,AA){return null!=EA&&BA.call(EA,AA)}function r_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function s_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!d_(EA)||VA&&VA in EA)return!1;var AA=l_(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?WA:vA;return AA.test(function(EA){if(null!=EA){try{return kA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}QA.prototype.clear=function(){this.__data__=KA?KA(null):{}},QA.prototype.delete=function(EA){return this.has(EA)&&delete this.__data__[EA]},QA.prototype.get=function(EA){var AA=this.__data__;if(KA){var _A=AA[EA];return _A===SA?void 0:_A}return BA.call(AA,EA)?AA[EA]:void 0},QA.prototype.has=function(EA){var AA=this.__data__;return KA?void 0!==AA[EA]:BA.call(AA,EA)},QA.prototype.set=function(EA,AA){return this.__data__[EA]=KA&&void 0===AA?SA:AA,this},ZA.prototype.clear=function(){this.__data__=[]},ZA.prototype.delete=function(EA){var AA=this.__data__,_A=t_(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():zA.call(AA,_A,1),0))},ZA.prototype.get=function(EA){var AA=this.__data__,_A=t_(AA,EA);return _A<0?void 0:AA[_A][1]},ZA.prototype.has=function(EA){return t_(this.__data__,EA)>-1},ZA.prototype.set=function(EA,AA){var _A=this.__data__,CA=t_(_A,EA);return CA<0?_A.push([EA,AA]):_A[CA][1]=AA,this},e_.prototype.clear=function(){this.__data__={hash:new QA,map:new(YA||ZA),string:new QA}},e_.prototype.delete=function(EA){return r_(this,EA).delete(EA)},e_.prototype.get=function(EA){return r_(this,EA).get(EA)},e_.prototype.has=function(EA){return r_(this,EA).has(EA)},e_.prototype.set=function(EA,AA){return r_(this,EA).set(EA,AA),this};var a_=i_((function(EA){var AA;EA=null==(AA=EA)?"":function(EA){if("string"==typeof EA)return EA;if(h_(EA))return XA?XA.call(EA):"";var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}(AA);var _A=[];return RA.test(EA)&&_A.push(""),EA.replace(bA,(function(EA,AA,CA,SA){_A.push(CA?SA.replace(OA,"$1"):AA||EA)})),_A}));function o_(EA){if("string"==typeof EA||h_(EA))return EA;var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}function i_(EA,AA){if("function"!=typeof EA||AA&&"function"!=typeof AA)throw new TypeError("Expected a function");var _A=function(){var CA=arguments,SA=AA?AA.apply(this,CA):CA[0],DA=_A.cache;if(DA.has(SA))return DA.get(SA);var TA=EA.apply(this,CA);return _A.cache=DA.set(SA,TA),TA};return _A.cache=new(i_.Cache||e_),_A}i_.Cache=e_;var c_=Array.isArray;function l_(EA){var AA=d_(EA)?$A.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}function u_(EA){return"number"==typeof EA&&EA>-1&&EA%1==0&&EA<=TA}function d_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}function p_(EA){return!!EA&&"object"==typeof EA}function h_(EA){return"symbol"==typeof EA||p_(EA)&&"[object Symbol]"==$A.call(EA)}EA.exports=function(EA,AA){return null!=EA&&function(EA,AA,_A){var CA;AA=function(EA,AA){if(c_(EA))return!1;var _A=typeof EA;return!("number"!=_A&&"symbol"!=_A&&"boolean"!=_A&&null!=EA&&!h_(EA))||PA.test(EA)||!NA.test(EA)||null!=AA&&EA in Object(AA)}(AA,EA)?[AA]:c_(CA=AA)?CA:a_(CA);for(var SA,DA=-1,RA=AA.length;++DA<RA;){var bA=o_(AA[DA]);if(!(SA=null!=EA&&_A(EA,bA)))break;EA=EA[bA]}return SA||!!(RA=EA?EA.length:0)&&u_(RA)&&function(EA,AA){return!!(AA=AA??TA)&&("number"==typeof EA||xA.test(EA))&&EA>-1&&EA%1==0&&EA<AA}(bA,RA)&&(c_(EA)||function(EA){return function(EA){return p_(EA)&&function(EA){return null!=EA&&u_(EA.length)&&!l_(EA)}(EA)}(EA)&&BA.call(EA,"callee")&&(!qA.call(EA,"callee")||"[object Arguments]"==$A.call(EA))}(EA))}(EA,AA,n_)}},529:(EA,AA,_A)=>{EA=_A.nmd(EA);var CA,SA,DA,TA="[object Map]",NA="[object Promise]",PA="[object Set]",RA="[object WeakMap]",bA="[object DataView]",OA=/^\[object .+?Constructor\]$/,vA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,xA="object"==typeof self&&self&&self.Object===Object&&self,wA=vA||xA||Function("return this")(),MA=AA&&!AA.nodeType&&AA,LA=MA&&EA&&!EA.nodeType&&EA,GA=LA&&LA.exports===MA,UA=Function.prototype,FA=Object.prototype,jA=wA["__core-js_shared__"],VA=(CA=/[^.]+$/.exec(jA&&jA.keys&&jA.keys.IE_PROTO||""))?"Symbol(src)_1."+CA:"",kA=UA.toString,BA=FA.hasOwnProperty,$A=FA.toString,WA=RegExp("^"+kA.call(BA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),HA=GA?wA.Buffer:void 0,qA=FA.propertyIsEnumerable,zA=HA?HA.isBuffer:void 0,YA=(SA=Object.keys,DA=Object,function(EA){return SA(DA(EA))}),KA=o_(wA,"DataView"),JA=o_(wA,"Map"),XA=o_(wA,"Promise"),QA=o_(wA,"Set"),ZA=o_(wA,"WeakMap"),e_=!qA.call({valueOf:1},"valueOf"),t_=c_(KA),n_=c_(JA),r_=c_(XA),s_=c_(QA),a_=c_(ZA);function o_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!h_(EA)||function(EA){return!!VA&&VA in EA}(EA))return!1;var AA=p_(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?WA:OA;return AA.test(c_(EA))}(_A)?_A:void 0}var i_=function(EA){return $A.call(EA)};function c_(EA){if(null!=EA){try{return kA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(KA&&i_(new KA(new ArrayBuffer(1)))!=bA||JA&&i_(new JA)!=TA||XA&&i_(XA.resolve())!=NA||QA&&i_(new QA)!=PA||ZA&&i_(new ZA)!=RA)&&(i_=function(EA){var AA=$A.call(EA),_A="[object Object]"==AA?EA.constructor:void 0,CA=_A?c_(_A):void 0;if(CA)switch(CA){case t_:return bA;case n_:return TA;case r_:return NA;case s_:return PA;case a_:return RA}return AA});var l_=Array.isArray;function u_(EA){return null!=EA&&function(EA){return"number"==typeof EA&&EA>-1&&EA%1==0&&EA<=9007199254740991}(EA.length)&&!p_(EA)}var d_=zA||function(){return!1};function p_(EA){var AA=h_(EA)?$A.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}function h_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}EA.exports=function(EA){if(u_(EA)&&(l_(EA)||"string"==typeof EA||"function"==typeof EA.splice||d_(EA)||function(EA){return function(EA){return function(EA){return!!EA&&"object"==typeof EA}(EA)&&u_(EA)}(EA)&&BA.call(EA,"callee")&&(!qA.call(EA,"callee")||"[object Arguments]"==$A.call(EA))}(EA)))return!EA.length;var AA=i_(EA);if(AA==TA||AA==PA)return!EA.size;if(e_||function(EA){var AA=EA&&EA.constructor;return EA===("function"==typeof AA&&AA.prototype||FA)}(EA))return!YA(EA).length;for(var _A in EA)if(BA.call(EA,_A))return!1;return!0}},216:(EA,AA,_A)=>{EA=_A.nmd(EA);var CA="__lodash_hash_undefined__",SA=9007199254740991,DA="[object Arguments]",TA="[object Array]",NA="[object Boolean]",PA="[object Date]",RA="[object Error]",bA="[object Function]",OA="[object Map]",vA="[object Number]",xA="[object Object]",wA="[object Promise]",MA="[object RegExp]",LA="[object Set]",GA="[object String]",UA="[object WeakMap]",FA="[object ArrayBuffer]",jA="[object DataView]",VA=/^\[object .+?Constructor\]$/,kA=/^(?:0|[1-9]\d*)$/,BA={};BA["[object Float32Array]"]=BA["[object Float64Array]"]=BA["[object Int8Array]"]=BA["[object Int16Array]"]=BA["[object Int32Array]"]=BA["[object Uint8Array]"]=BA["[object Uint8ClampedArray]"]=BA["[object Uint16Array]"]=BA["[object Uint32Array]"]=!0,BA[DA]=BA[TA]=BA[FA]=BA[NA]=BA[jA]=BA[PA]=BA[RA]=BA[bA]=BA[OA]=BA[vA]=BA[xA]=BA[MA]=BA[LA]=BA[GA]=BA[UA]=!1;var $A="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,WA="object"==typeof self&&self&&self.Object===Object&&self,HA=$A||WA||Function("return this")(),qA=AA&&!AA.nodeType&&AA,zA=qA&&EA&&!EA.nodeType&&EA,YA=zA&&zA.exports===qA,KA=YA&&$A.process,JA=function(){try{return KA&&KA.binding&&KA.binding("util")}catch(EA){}}(),XA=JA&&JA.isTypedArray;function QA(EA,AA){for(var _A=-1,CA=null==EA?0:EA.length;++_A<CA;)if(AA(EA[_A],_A,EA))return!0;return!1}function ZA(EA){var AA=-1,_A=Array(EA.size);return EA.forEach((function(EA,CA){_A[++AA]=[CA,EA]})),_A}function e_(EA){var AA=-1,_A=Array(EA.size);return EA.forEach((function(EA){_A[++AA]=EA})),_A}var t_,n_,r_,s_=Array.prototype,a_=Function.prototype,o_=Object.prototype,i_=HA["__core-js_shared__"],c_=a_.toString,l_=o_.hasOwnProperty,u_=(t_=/[^.]+$/.exec(i_&&i_.keys&&i_.keys.IE_PROTO||""))?"Symbol(src)_1."+t_:"",d_=o_.toString,p_=RegExp("^"+c_.call(l_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h_=YA?HA.Buffer:void 0,g_=HA.Symbol,f_=HA.Uint8Array,m_=o_.propertyIsEnumerable,y_=s_.splice,E_=g_?g_.toStringTag:void 0,I_=Object.getOwnPropertySymbols,A_=h_?h_.isBuffer:void 0,__=(n_=Object.keys,r_=Object,function(EA){return n_(r_(EA))}),C_=z_(HA,"DataView"),S_=z_(HA,"Map"),D_=z_(HA,"Promise"),T_=z_(HA,"Set"),N_=z_(HA,"WeakMap"),P_=z_(Object,"create"),R_=X_(C_),b_=X_(S_),O_=X_(D_),v_=X_(T_),x_=X_(N_),w_=g_?g_.prototype:void 0,M_=w_?w_.valueOf:void 0;function L_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function G_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function U_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function F_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.__data__=new U_;++AA<_A;)this.add(EA[AA])}function j_(EA){var AA=this.__data__=new G_(EA);this.size=AA.size}function V_(EA,AA){for(var _A=EA.length;_A--;)if(Q_(EA[_A][0],AA))return _A;return-1}function k_(EA){return null==EA?void 0===EA?"[object Undefined]":"[object Null]":E_&&E_ in Object(EA)?function(EA){var AA=l_.call(EA,E_),_A=EA[E_];try{EA[E_]=void 0;var CA=!0}catch(EA){}var SA=d_.call(EA);return CA&&(AA?EA[E_]=_A:delete EA[E_]),SA}(EA):function(EA){return d_.call(EA)}(EA)}function B_(EA){return aC(EA)&&k_(EA)==DA}function $_(EA,AA,_A,CA,SA){return EA===AA||(null==EA||null==AA||!aC(EA)&&!aC(AA)?EA!=EA&&AA!=AA:function(EA,AA,_A,CA,SA,bA){var wA=eC(EA),UA=eC(AA),VA=wA?TA:K_(EA),kA=UA?TA:K_(AA),BA=(VA=VA==DA?xA:VA)==xA,$A=(kA=kA==DA?xA:kA)==xA,WA=VA==kA;if(WA&&tC(EA)){if(!tC(AA))return!1;wA=!0,BA=!1}if(WA&&!BA)return bA||(bA=new j_),wA||oC(EA)?W_(EA,AA,_A,CA,SA,bA):function(EA,AA,_A,CA,SA,DA,TA){switch(_A){case jA:if(EA.byteLength!=AA.byteLength||EA.byteOffset!=AA.byteOffset)return!1;EA=EA.buffer,AA=AA.buffer;case FA:return!(EA.byteLength!=AA.byteLength||!DA(new f_(EA),new f_(AA)));case NA:case PA:case vA:return Q_(+EA,+AA);case RA:return EA.name==AA.name&&EA.message==AA.message;case MA:case GA:return EA==AA+"";case OA:var bA=ZA;case LA:var xA=1&CA;if(bA||(bA=e_),EA.size!=AA.size&&!xA)return!1;var wA=TA.get(EA);if(wA)return wA==AA;CA|=2,TA.set(EA,AA);var UA=W_(bA(EA),bA(AA),CA,SA,DA,TA);return TA.delete(EA),UA;case"[object Symbol]":if(M_)return M_.call(EA)==M_.call(AA)}return!1}(EA,AA,VA,_A,CA,SA,bA);if(!(1&_A)){var HA=BA&&l_.call(EA,"__wrapped__"),qA=$A&&l_.call(AA,"__wrapped__");if(HA||qA){var zA=HA?EA.value():EA,YA=qA?AA.value():AA;return bA||(bA=new j_),SA(zA,YA,_A,CA,bA)}}return!!WA&&(bA||(bA=new j_),function(EA,AA,_A,CA,SA,DA){var TA=1&_A,NA=H_(EA),PA=NA.length;if(PA!=H_(AA).length&&!TA)return!1;for(var RA=PA;RA--;){var bA=NA[RA];if(!(TA?bA in AA:l_.call(AA,bA)))return!1}var OA=DA.get(EA);if(OA&&DA.get(AA))return OA==AA;var vA=!0;DA.set(EA,AA),DA.set(AA,EA);for(var xA=TA;++RA<PA;){var wA=EA[bA=NA[RA]],MA=AA[bA];if(CA)var LA=TA?CA(MA,wA,bA,AA,EA,DA):CA(wA,MA,bA,EA,AA,DA);if(!(void 0===LA?wA===MA||SA(wA,MA,_A,CA,DA):LA)){vA=!1;break}xA||(xA="constructor"==bA)}if(vA&&!xA){var GA=EA.constructor,UA=AA.constructor;GA==UA||!("constructor"in EA)||!("constructor"in AA)||"function"==typeof GA&&GA instanceof GA&&"function"==typeof UA&&UA instanceof UA||(vA=!1)}return DA.delete(EA),DA.delete(AA),vA}(EA,AA,_A,CA,SA,bA))}(EA,AA,_A,CA,$_,SA))}function W_(EA,AA,_A,CA,SA,DA){var TA=1&_A,NA=EA.length,PA=AA.length;if(NA!=PA&&!(TA&&PA>NA))return!1;var RA=DA.get(EA);if(RA&&DA.get(AA))return RA==AA;var bA=-1,OA=!0,vA=2&_A?new F_:void 0;for(DA.set(EA,AA),DA.set(AA,EA);++bA<NA;){var xA=EA[bA],wA=AA[bA];if(CA)var MA=TA?CA(wA,xA,bA,AA,EA,DA):CA(xA,wA,bA,EA,AA,DA);if(void 0!==MA){if(MA)continue;OA=!1;break}if(vA){if(!QA(AA,(function(EA,AA){if(TA=AA,!vA.has(TA)&&(xA===EA||SA(xA,EA,_A,CA,DA)))return vA.push(AA);var TA}))){OA=!1;break}}else if(xA!==wA&&!SA(xA,wA,_A,CA,DA)){OA=!1;break}}return DA.delete(EA),DA.delete(AA),OA}function H_(EA){return function(EA,AA,_A){var CA=AA(EA);return eC(EA)?CA:function(EA,AA){for(var _A=-1,CA=AA.length,SA=EA.length;++_A<CA;)EA[SA+_A]=AA[_A];return EA}(CA,_A(EA))}(EA,iC,Y_)}function q_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function z_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){return!(!sC(EA)||function(EA){return!!u_&&u_ in EA}(EA))&&(nC(EA)?p_:VA).test(X_(EA))}(_A)?_A:void 0}L_.prototype.clear=function(){this.__data__=P_?P_(null):{},this.size=0},L_.prototype.delete=function(EA){var AA=this.has(EA)&&delete this.__data__[EA];return this.size-=AA?1:0,AA},L_.prototype.get=function(EA){var AA=this.__data__;if(P_){var _A=AA[EA];return _A===CA?void 0:_A}return l_.call(AA,EA)?AA[EA]:void 0},L_.prototype.has=function(EA){var AA=this.__data__;return P_?void 0!==AA[EA]:l_.call(AA,EA)},L_.prototype.set=function(EA,AA){var _A=this.__data__;return this.size+=this.has(EA)?0:1,_A[EA]=P_&&void 0===AA?CA:AA,this},G_.prototype.clear=function(){this.__data__=[],this.size=0},G_.prototype.delete=function(EA){var AA=this.__data__,_A=V_(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():y_.call(AA,_A,1),--this.size,0))},G_.prototype.get=function(EA){var AA=this.__data__,_A=V_(AA,EA);return _A<0?void 0:AA[_A][1]},G_.prototype.has=function(EA){return V_(this.__data__,EA)>-1},G_.prototype.set=function(EA,AA){var _A=this.__data__,CA=V_(_A,EA);return CA<0?(++this.size,_A.push([EA,AA])):_A[CA][1]=AA,this},U_.prototype.clear=function(){this.size=0,this.__data__={hash:new L_,map:new(S_||G_),string:new L_}},U_.prototype.delete=function(EA){var AA=q_(this,EA).delete(EA);return this.size-=AA?1:0,AA},U_.prototype.get=function(EA){return q_(this,EA).get(EA)},U_.prototype.has=function(EA){return q_(this,EA).has(EA)},U_.prototype.set=function(EA,AA){var _A=q_(this,EA),CA=_A.size;return _A.set(EA,AA),this.size+=_A.size==CA?0:1,this},F_.prototype.add=F_.prototype.push=function(EA){return this.__data__.set(EA,CA),this},F_.prototype.has=function(EA){return this.__data__.has(EA)},j_.prototype.clear=function(){this.__data__=new G_,this.size=0},j_.prototype.delete=function(EA){var AA=this.__data__,_A=AA.delete(EA);return this.size=AA.size,_A},j_.prototype.get=function(EA){return this.__data__.get(EA)},j_.prototype.has=function(EA){return this.__data__.has(EA)},j_.prototype.set=function(EA,AA){var _A=this.__data__;if(_A instanceof G_){var CA=_A.__data__;if(!S_||CA.length<199)return CA.push([EA,AA]),this.size=++_A.size,this;_A=this.__data__=new U_(CA)}return _A.set(EA,AA),this.size=_A.size,this};var Y_=I_?function(EA){return null==EA?[]:(EA=Object(EA),function(EA,AA){for(var _A=-1,CA=null==EA?0:EA.length,SA=0,DA=[];++_A<CA;){var TA=EA[_A];AA(TA)&&(DA[SA++]=TA)}return DA}(I_(EA),(function(AA){return m_.call(EA,AA)})))}:function(){return[]},K_=k_;function J_(EA,AA){return!!(AA=AA??SA)&&("number"==typeof EA||kA.test(EA))&&EA>-1&&EA%1==0&&EA<AA}function X_(EA){if(null!=EA){try{return c_.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}function Q_(EA,AA){return EA===AA||EA!=EA&&AA!=AA}(C_&&K_(new C_(new ArrayBuffer(1)))!=jA||S_&&K_(new S_)!=OA||D_&&K_(D_.resolve())!=wA||T_&&K_(new T_)!=LA||N_&&K_(new N_)!=UA)&&(K_=function(EA){var AA=k_(EA),_A=AA==xA?EA.constructor:void 0,CA=_A?X_(_A):"";if(CA)switch(CA){case R_:return jA;case b_:return OA;case O_:return wA;case v_:return LA;case x_:return UA}return AA});var Z_=B_(function(){return arguments}())?B_:function(EA){return aC(EA)&&l_.call(EA,"callee")&&!m_.call(EA,"callee")},eC=Array.isArray,tC=A_||function(){return!1};function nC(EA){if(!sC(EA))return!1;var AA=k_(EA);return AA==bA||"[object GeneratorFunction]"==AA||"[object AsyncFunction]"==AA||"[object Proxy]"==AA}function rC(EA){return"number"==typeof EA&&EA>-1&&EA%1==0&&EA<=SA}function sC(EA){var AA=typeof EA;return null!=EA&&("object"==AA||"function"==AA)}function aC(EA){return null!=EA&&"object"==typeof EA}var oC=XA?function(EA){return function(AA){return EA(AA)}}(XA):function(EA){return aC(EA)&&rC(EA.length)&&!!BA[k_(EA)]};function iC(EA){return null!=(AA=EA)&&rC(AA.length)&&!nC(AA)?function(EA,AA){var _A=eC(EA),CA=!_A&&Z_(EA),SA=!_A&&!CA&&tC(EA),DA=!_A&&!CA&&!SA&&oC(EA),TA=_A||CA||SA||DA,NA=TA?function(EA,AA){for(var _A=-1,CA=Array(EA);++_A<EA;)CA[_A]=AA(_A);return CA}(EA.length,String):[],PA=NA.length;for(var RA in EA)!AA&&!l_.call(EA,RA)||TA&&("length"==RA||SA&&("offset"==RA||"parent"==RA)||DA&&("buffer"==RA||"byteLength"==RA||"byteOffset"==RA)||J_(RA,PA))||NA.push(RA);return NA}(EA):function(EA){if(_A=(AA=EA)&&AA.constructor,AA!==("function"==typeof _A&&_A.prototype||o_))return __(EA);var AA,_A,CA=[];for(var SA in Object(EA))l_.call(EA,SA)&&"constructor"!=SA&&CA.push(SA);return CA}(EA);var AA}EA.exports=function(EA,AA){return $_(EA,AA)}},692:(EA,AA,_A)=>{EA=_A.nmd(EA);var CA="__lodash_hash_undefined__",SA=9007199254740991,DA="[object Arguments]",TA="[object Function]",NA="[object Object]",PA=/^\[object .+?Constructor\]$/,RA=/^(?:0|[1-9]\d*)$/,bA={};bA["[object Float32Array]"]=bA["[object Float64Array]"]=bA["[object Int8Array]"]=bA["[object Int16Array]"]=bA["[object Int32Array]"]=bA["[object Uint8Array]"]=bA["[object Uint8ClampedArray]"]=bA["[object Uint16Array]"]=bA["[object Uint32Array]"]=!0,bA[DA]=bA["[object Array]"]=bA["[object ArrayBuffer]"]=bA["[object Boolean]"]=bA["[object DataView]"]=bA["[object Date]"]=bA["[object Error]"]=bA[TA]=bA["[object Map]"]=bA["[object Number]"]=bA[NA]=bA["[object RegExp]"]=bA["[object Set]"]=bA["[object String]"]=bA["[object WeakMap]"]=!1;var OA,vA,xA,wA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,MA="object"==typeof self&&self&&self.Object===Object&&self,LA=wA||MA||Function("return this")(),GA=AA&&!AA.nodeType&&AA,UA=GA&&EA&&!EA.nodeType&&EA,FA=UA&&UA.exports===GA,jA=FA&&wA.process,VA=function(){try{return UA&&UA.require&&UA.require("util").types||jA&&jA.binding&&jA.binding("util")}catch(EA){}}(),kA=VA&&VA.isTypedArray,BA=Array.prototype,$A=Function.prototype,WA=Object.prototype,HA=LA["__core-js_shared__"],qA=$A.toString,zA=WA.hasOwnProperty,YA=(OA=/[^.]+$/.exec(HA&&HA.keys&&HA.keys.IE_PROTO||""))?"Symbol(src)_1."+OA:"",KA=WA.toString,JA=qA.call(Object),XA=RegExp("^"+qA.call(zA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),QA=FA?LA.Buffer:void 0,ZA=LA.Symbol,e_=LA.Uint8Array,t_=(QA&&QA.allocUnsafe,vA=Object.getPrototypeOf,xA=Object,function(EA){return vA(xA(EA))}),n_=Object.create,r_=WA.propertyIsEnumerable,s_=BA.splice,a_=ZA?ZA.toStringTag:void 0,o_=function(){try{var EA=N_(Object,"defineProperty");return EA({},"",{}),EA}catch(EA){}}(),i_=QA?QA.isBuffer:void 0,c_=Math.max,l_=Date.now,u_=N_(LA,"Map"),d_=N_(Object,"create"),p_=function(){function EA(){}return function(AA){if(!F_(AA))return{};if(n_)return n_(AA);EA.prototype=AA;var _A=new EA;return EA.prototype=void 0,_A}}();function h_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function g_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function f_(EA){var AA=-1,_A=null==EA?0:EA.length;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function m_(EA){var AA=this.__data__=new g_(EA);this.size=AA.size}function y_(EA,AA,_A){(void 0!==_A&&!v_(EA[AA],_A)||void 0===_A&&!(AA in EA))&&A_(EA,AA,_A)}function E_(EA,AA,_A){var CA=EA[AA];zA.call(EA,AA)&&v_(CA,_A)&&(void 0!==_A||AA in EA)||A_(EA,AA,_A)}function I_(EA,AA){for(var _A=EA.length;_A--;)if(v_(EA[_A][0],AA))return _A;return-1}function A_(EA,AA,_A){"__proto__"==AA&&o_?o_(EA,AA,{configurable:!0,enumerable:!0,value:_A,writable:!0}):EA[AA]=_A}h_.prototype.clear=function(){this.__data__=d_?d_(null):{},this.size=0},h_.prototype.delete=function(EA){var AA=this.has(EA)&&delete this.__data__[EA];return this.size-=AA?1:0,AA},h_.prototype.get=function(EA){var AA=this.__data__;if(d_){var _A=AA[EA];return _A===CA?void 0:_A}return zA.call(AA,EA)?AA[EA]:void 0},h_.prototype.has=function(EA){var AA=this.__data__;return d_?void 0!==AA[EA]:zA.call(AA,EA)},h_.prototype.set=function(EA,AA){var _A=this.__data__;return this.size+=this.has(EA)?0:1,_A[EA]=d_&&void 0===AA?CA:AA,this},g_.prototype.clear=function(){this.__data__=[],this.size=0},g_.prototype.delete=function(EA){var AA=this.__data__,_A=I_(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():s_.call(AA,_A,1),--this.size,0))},g_.prototype.get=function(EA){var AA=this.__data__,_A=I_(AA,EA);return _A<0?void 0:AA[_A][1]},g_.prototype.has=function(EA){return I_(this.__data__,EA)>-1},g_.prototype.set=function(EA,AA){var _A=this.__data__,CA=I_(_A,EA);return CA<0?(++this.size,_A.push([EA,AA])):_A[CA][1]=AA,this},f_.prototype.clear=function(){this.size=0,this.__data__={hash:new h_,map:new(u_||g_),string:new h_}},f_.prototype.delete=function(EA){var AA=T_(this,EA).delete(EA);return this.size-=AA?1:0,AA},f_.prototype.get=function(EA){return T_(this,EA).get(EA)},f_.prototype.has=function(EA){return T_(this,EA).has(EA)},f_.prototype.set=function(EA,AA){var _A=T_(this,EA),CA=_A.size;return _A.set(EA,AA),this.size+=_A.size==CA?0:1,this},m_.prototype.clear=function(){this.__data__=new g_,this.size=0},m_.prototype.delete=function(EA){var AA=this.__data__,_A=AA.delete(EA);return this.size=AA.size,_A},m_.prototype.get=function(EA){return this.__data__.get(EA)},m_.prototype.has=function(EA){return this.__data__.has(EA)},m_.prototype.set=function(EA,AA){var _A=this.__data__;if(_A instanceof g_){var CA=_A.__data__;if(!u_||CA.length<199)return CA.push([EA,AA]),this.size=++_A.size,this;_A=this.__data__=new f_(CA)}return _A.set(EA,AA),this.size=_A.size,this};function __(EA){return null==EA?void 0===EA?"[object Undefined]":"[object Null]":a_&&a_ in Object(EA)?function(EA){var AA=zA.call(EA,a_),_A=EA[a_];try{EA[a_]=void 0;var CA=!0}catch(EA){}var SA=KA.call(EA);return CA&&(AA?EA[a_]=_A:delete EA[a_]),SA}(EA):function(EA){return KA.call(EA)}(EA)}function C_(EA){return j_(EA)&&__(EA)==DA}function S_(EA,AA,_A,CA,SA){EA!==AA&&function(EA,AA,_A){for(var CA=-1,SA=Object(EA),DA=_A(EA),TA=DA.length;TA--;){var NA=DA[++CA];if(!1===AA(SA[NA],NA,SA))break}}(AA,(function(DA,TA){if(SA||(SA=new m_),F_(DA))!function(EA,AA,_A,CA,SA,DA,TA){var PA=b_(EA,_A),RA=b_(AA,_A),bA=TA.get(RA);if(bA)y_(EA,_A,bA);else{var OA,vA,xA,wA,MA,LA=DA?DA(PA,RA,_A+"",EA,AA,TA):void 0,GA=void 0===LA;if(GA){var UA=w_(RA),FA=!UA&&L_(RA),jA=!UA&&!FA&&V_(RA);LA=RA,UA||FA||jA?w_(PA)?LA=PA:j_(MA=PA)&&M_(MA)?LA=function(EA,AA){var _A=-1,CA=EA.length;for(AA||(AA=Array(CA));++_A<CA;)AA[_A]=EA[_A];return AA}(PA):FA?(GA=!1,LA=function(EA){return EA.slice()}(RA)):jA?(GA=!1,wA=new(xA=(OA=RA).buffer).constructor(xA.byteLength),new e_(wA).set(new e_(xA)),vA=wA,LA=new OA.constructor(vA,OA.byteOffset,OA.length)):LA=[]:function(EA){if(!j_(EA)||__(EA)!=NA)return!1;var AA=t_(EA);if(null===AA)return!0;var _A=zA.call(AA,"constructor")&&AA.constructor;return"function"==typeof _A&&_A instanceof _A&&qA.call(_A)==JA}(RA)||x_(RA)?(LA=PA,x_(PA)?LA=function(EA){return function(EA,AA,_A){var CA=!_A;_A||(_A={});for(var SA=-1,DA=AA.length;++SA<DA;){var TA=AA[SA],NA=void 0;void 0===NA&&(NA=EA[TA]),CA?A_(_A,TA,NA):E_(_A,TA,NA)}return _A}(EA,k_(EA))}(PA):F_(PA)&&!G_(PA)||(LA=function(EA){return"function"!=typeof EA.constructor||R_(EA)?{}:p_(t_(EA))}(RA))):GA=!1}GA&&(TA.set(RA,LA),SA(LA,RA,CA,DA,TA),TA.delete(RA)),y_(EA,_A,LA)}}(EA,AA,TA,_A,S_,CA,SA);else{var PA=CA?CA(b_(EA,TA),DA,TA+"",EA,AA,SA):void 0;void 0===PA&&(PA=DA),y_(EA,TA,PA)}}),k_)}var D_=o_?function(EA,AA){return o_(EA,"toString",{configurable:!0,enumerable:!1,value:(_A=AA,function(){return _A}),writable:!0});var _A}:W_;function T_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function N_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){return!(!F_(EA)||function(EA){return!!YA&&YA in EA}(EA))&&(G_(EA)?XA:PA).test(function(EA){if(null!=EA){try{return qA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}function P_(EA,AA){var _A=typeof EA;return!!(AA=AA??SA)&&("number"==_A||"symbol"!=_A&&RA.test(EA))&&EA>-1&&EA%1==0&&EA<AA}function R_(EA){var AA=EA&&EA.constructor;return EA===("function"==typeof AA&&AA.prototype||WA)}function b_(EA,AA){if(("constructor"!==AA||"function"!=typeof EA[AA])&&"__proto__"!=AA)return EA[AA]}var O_=function(EA){var AA=0,_A=0;return function(){var CA=l_(),SA=16-(CA-_A);if(_A=CA,SA>0){if(++AA>=800)return arguments[0]}else AA=0;return EA.apply(void 0,arguments)}}(D_);function v_(EA,AA){return EA===AA||EA!=EA&&AA!=AA}var x_=C_(function(){return arguments}())?C_:function(EA){return j_(EA)&&zA.call(EA,"callee")&&!r_.call(EA,"callee")},w_=Array.isArray;function M_(EA){return null!=EA&&U_(EA.length)&&!G_(EA)}var L_=i_||function(){return!1};function G_(EA){if(!F_(EA))return!1;var AA=__(EA);return AA==TA||"[object GeneratorFunction]"==AA||"[object AsyncFunction]"==AA||"[object Proxy]"==AA}function U_(EA){return"number"==typeof EA&&EA>-1&&EA%1==0&&EA<=SA}function F_(EA){var AA=typeof EA;return null!=EA&&("object"==AA||"function"==AA)}function j_(EA){return null!=EA&&"object"==typeof EA}var V_=kA?function(EA){return function(AA){return EA(AA)}}(kA):function(EA){return j_(EA)&&U_(EA.length)&&!!bA[__(EA)]};function k_(EA){return M_(EA)?function(EA,AA){var _A=w_(EA),CA=!_A&&x_(EA),SA=!_A&&!CA&&L_(EA),DA=!_A&&!CA&&!SA&&V_(EA),TA=_A||CA||SA||DA,NA=TA?function(EA,AA){for(var _A=-1,CA=Array(EA);++_A<EA;)CA[_A]=AA(_A);return CA}(EA.length,String):[],PA=NA.length;for(var RA in EA)!AA&&!zA.call(EA,RA)||TA&&("length"==RA||SA&&("offset"==RA||"parent"==RA)||DA&&("buffer"==RA||"byteLength"==RA||"byteOffset"==RA)||P_(RA,PA))||NA.push(RA);return NA}(EA,!0):function(EA){if(!F_(EA))return function(EA){var AA=[];if(null!=EA)for(var _A in Object(EA))AA.push(_A);return AA}(EA);var AA=R_(EA),_A=[];for(var CA in EA)("constructor"!=CA||!AA&&zA.call(EA,CA))&&_A.push(CA);return _A}(EA)}var B_,$_=(B_=function(EA,AA,_A,CA){S_(EA,AA,_A,CA)},function(EA,AA){return O_(function(EA,AA,_A){return AA=c_(void 0===AA?EA.length-1:AA,0),function(){for(var CA=arguments,SA=-1,DA=c_(CA.length-AA,0),TA=Array(DA);++SA<DA;)TA[SA]=CA[AA+SA];SA=-1;for(var NA=Array(AA+1);++SA<AA;)NA[SA]=CA[SA];return NA[AA]=_A(TA),function(EA,AA,_A){switch(_A.length){case 0:return EA.call(AA);case 1:return EA.call(AA,_A[0]);case 2:return EA.call(AA,_A[0],_A[1]);case 3:return EA.call(AA,_A[0],_A[1],_A[2])}return EA.apply(AA,_A)}(EA,this,NA)}}(EA,AA,W_),EA+"")}((function(EA,AA){var _A=-1,CA=AA.length,SA=CA>1?AA[CA-1]:void 0,DA=CA>2?AA[2]:void 0;for(SA=B_.length>3&&"function"==typeof SA?(CA--,SA):void 0,DA&&function(EA,AA,_A){if(!F_(_A))return!1;var CA=typeof AA;return!!("number"==CA?M_(_A)&&P_(AA,_A.length):"string"==CA&&AA in _A)&&v_(_A[AA],EA)}(AA[0],AA[1],DA)&&(SA=CA<3?void 0:SA,CA=1),EA=Object(EA);++_A<CA;){var TA=AA[_A];TA&&B_(EA,TA,_A,SA)}return EA})));function W_(EA){return EA}EA.exports=$_},835:(EA,AA,_A)=>{var CA,SA="__lodash_hash_undefined__",DA=1/0,TA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NA=/^\w*$/,PA=/^\./,RA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bA=/\\(\\)?/g,OA=/^\[object .+?Constructor\]$/,vA=/^(?:0|[1-9]\d*)$/,xA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,wA="object"==typeof self&&self&&self.Object===Object&&self,MA=xA||wA||Function("return this")(),LA=Array.prototype,GA=Function.prototype,UA=Object.prototype,FA=MA["__core-js_shared__"],jA=(CA=/[^.]+$/.exec(FA&&FA.keys&&FA.keys.IE_PROTO||""))?"Symbol(src)_1."+CA:"",VA=GA.toString,kA=UA.hasOwnProperty,BA=UA.toString,$A=RegExp("^"+VA.call(kA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),WA=MA.Symbol,HA=LA.splice,qA=n_(MA,"Map"),zA=n_(Object,"create"),YA=WA?WA.prototype:void 0,KA=YA?YA.toString:void 0;function JA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function XA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function QA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function ZA(EA,AA,_A){var CA=EA[AA];kA.call(EA,AA)&&i_(CA,_A)&&(void 0!==_A||AA in EA)||(EA[AA]=_A)}function e_(EA,AA){for(var _A=EA.length;_A--;)if(i_(EA[_A][0],AA))return _A;return-1}function t_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function n_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!l_(EA)||jA&&jA in EA)return!1;var AA=function(EA){var AA=l_(EA)?BA.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?$A:OA;return AA.test(function(EA){if(null!=EA){try{return VA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}function r_(EA,AA){return!!(AA=AA??9007199254740991)&&("number"==typeof EA||vA.test(EA))&&EA>-1&&EA%1==0&&EA<AA}JA.prototype.clear=function(){this.__data__=zA?zA(null):{}},JA.prototype.delete=function(EA){return this.has(EA)&&delete this.__data__[EA]},JA.prototype.get=function(EA){var AA=this.__data__;if(zA){var _A=AA[EA];return _A===SA?void 0:_A}return kA.call(AA,EA)?AA[EA]:void 0},JA.prototype.has=function(EA){var AA=this.__data__;return zA?void 0!==AA[EA]:kA.call(AA,EA)},JA.prototype.set=function(EA,AA){return this.__data__[EA]=zA&&void 0===AA?SA:AA,this},XA.prototype.clear=function(){this.__data__=[]},XA.prototype.delete=function(EA){var AA=this.__data__,_A=e_(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():HA.call(AA,_A,1),0))},XA.prototype.get=function(EA){var AA=this.__data__,_A=e_(AA,EA);return _A<0?void 0:AA[_A][1]},XA.prototype.has=function(EA){return e_(this.__data__,EA)>-1},XA.prototype.set=function(EA,AA){var _A=this.__data__,CA=e_(_A,EA);return CA<0?_A.push([EA,AA]):_A[CA][1]=AA,this},QA.prototype.clear=function(){this.__data__={hash:new JA,map:new(qA||XA),string:new JA}},QA.prototype.delete=function(EA){return t_(this,EA).delete(EA)},QA.prototype.get=function(EA){return t_(this,EA).get(EA)},QA.prototype.has=function(EA){return t_(this,EA).has(EA)},QA.prototype.set=function(EA,AA){return t_(this,EA).set(EA,AA),this};var s_=o_((function(EA){var AA;EA=null==(AA=EA)?"":function(EA){if("string"==typeof EA)return EA;if(u_(EA))return KA?KA.call(EA):"";var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}(AA);var _A=[];return PA.test(EA)&&_A.push(""),EA.replace(RA,(function(EA,AA,CA,SA){_A.push(CA?SA.replace(bA,"$1"):AA||EA)})),_A}));function a_(EA){if("string"==typeof EA||u_(EA))return EA;var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}function o_(EA,AA){if("function"!=typeof EA||AA&&"function"!=typeof AA)throw new TypeError("Expected a function");var _A=function(){var CA=arguments,SA=AA?AA.apply(this,CA):CA[0],DA=_A.cache;if(DA.has(SA))return DA.get(SA);var TA=EA.apply(this,CA);return _A.cache=DA.set(SA,TA),TA};return _A.cache=new(o_.Cache||QA),_A}function i_(EA,AA){return EA===AA||EA!=EA&&AA!=AA}o_.Cache=QA;var c_=Array.isArray;function l_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}function u_(EA){return"symbol"==typeof EA||function(EA){return!!EA&&"object"==typeof EA}(EA)&&"[object Symbol]"==BA.call(EA)}EA.exports=function(EA,AA,_A){return null==EA?EA:function(EA,AA,_A,CA){if(!l_(EA))return EA;AA=function(EA,AA){if(c_(EA))return!1;var _A=typeof EA;return!("number"!=_A&&"symbol"!=_A&&"boolean"!=_A&&null!=EA&&!u_(EA))||NA.test(EA)||!TA.test(EA)||null!=AA&&EA in Object(AA)}(AA,EA)?[AA]:function(EA){return c_(EA)?EA:s_(EA)}(AA);for(var SA=-1,DA=AA.length,PA=DA-1,RA=EA;null!=RA&&++SA<DA;){var bA=a_(AA[SA]),OA=_A;if(SA!=PA){var vA=RA[bA];void 0===(OA=CA?CA(vA,bA,RA):void 0)&&(OA=l_(vA)?vA:r_(AA[SA+1])?[]:{})}ZA(RA,bA,OA),RA=RA[bA]}return EA}(EA,AA,_A)}},521:(EA,AA,_A)=>{var CA,SA="__lodash_hash_undefined__",DA=1/0,TA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NA=/^\w*$/,PA=/^\./,RA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bA=/\\(\\)?/g,OA=/^\[object .+?Constructor\]$/,vA="object"==typeof _A.g&&_A.g&&_A.g.Object===Object&&_A.g,xA="object"==typeof self&&self&&self.Object===Object&&self,wA=vA||xA||Function("return this")(),MA=Array.prototype,LA=Function.prototype,GA=Object.prototype,UA=wA["__core-js_shared__"],FA=(CA=/[^.]+$/.exec(UA&&UA.keys&&UA.keys.IE_PROTO||""))?"Symbol(src)_1."+CA:"",jA=LA.toString,VA=GA.hasOwnProperty,kA=GA.toString,BA=RegExp("^"+jA.call(VA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$A=wA.Symbol,WA=MA.splice,HA=t_(wA,"Map"),qA=t_(Object,"create"),zA=$A?$A.prototype:void 0,YA=zA?zA.toString:void 0;function KA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function JA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function XA(EA){var AA=-1,_A=EA?EA.length:0;for(this.clear();++AA<_A;){var CA=EA[AA];this.set(CA[0],CA[1])}}function QA(EA,AA){for(var _A,CA,SA=EA.length;SA--;)if((_A=EA[SA][0])===(CA=AA)||_A!=_A&&CA!=CA)return SA;return-1}function ZA(EA){return o_(EA)?EA:r_(EA)}function e_(EA,AA){var _A,CA,SA=EA.__data__;return("string"==(CA=typeof(_A=AA))||"number"==CA||"symbol"==CA||"boolean"==CA?"__proto__"!==_A:null===_A)?SA["string"==typeof AA?"string":"hash"]:SA.map}function t_(EA,AA){var _A=function(EA,AA){return null==EA?void 0:EA[AA]}(EA,AA);return function(EA){if(!i_(EA)||FA&&FA in EA)return!1;var AA=function(EA){var AA=i_(EA)?kA.call(EA):"";return"[object Function]"==AA||"[object GeneratorFunction]"==AA}(EA)||function(EA){var AA=!1;if(null!=EA&&"function"!=typeof EA.toString)try{AA=!!(EA+"")}catch(EA){}return AA}(EA)?BA:OA;return AA.test(function(EA){if(null!=EA){try{return jA.call(EA)}catch(EA){}try{return EA+""}catch(EA){}}return""}(EA))}(_A)?_A:void 0}function n_(EA,AA){if(o_(EA))return!1;var _A=typeof EA;return!("number"!=_A&&"symbol"!=_A&&"boolean"!=_A&&null!=EA&&!c_(EA))||NA.test(EA)||!TA.test(EA)||null!=AA&&EA in Object(AA)}KA.prototype.clear=function(){this.__data__=qA?qA(null):{}},KA.prototype.delete=function(EA){return this.has(EA)&&delete this.__data__[EA]},KA.prototype.get=function(EA){var AA=this.__data__;if(qA){var _A=AA[EA];return _A===SA?void 0:_A}return VA.call(AA,EA)?AA[EA]:void 0},KA.prototype.has=function(EA){var AA=this.__data__;return qA?void 0!==AA[EA]:VA.call(AA,EA)},KA.prototype.set=function(EA,AA){return this.__data__[EA]=qA&&void 0===AA?SA:AA,this},JA.prototype.clear=function(){this.__data__=[]},JA.prototype.delete=function(EA){var AA=this.__data__,_A=QA(AA,EA);return!(_A<0||(_A==AA.length-1?AA.pop():WA.call(AA,_A,1),0))},JA.prototype.get=function(EA){var AA=this.__data__,_A=QA(AA,EA);return _A<0?void 0:AA[_A][1]},JA.prototype.has=function(EA){return QA(this.__data__,EA)>-1},JA.prototype.set=function(EA,AA){var _A=this.__data__,CA=QA(_A,EA);return CA<0?_A.push([EA,AA]):_A[CA][1]=AA,this},XA.prototype.clear=function(){this.__data__={hash:new KA,map:new(HA||JA),string:new KA}},XA.prototype.delete=function(EA){return e_(this,EA).delete(EA)},XA.prototype.get=function(EA){return e_(this,EA).get(EA)},XA.prototype.has=function(EA){return e_(this,EA).has(EA)},XA.prototype.set=function(EA,AA){return e_(this,EA).set(EA,AA),this};var r_=a_((function(EA){var AA;EA=null==(AA=EA)?"":function(EA){if("string"==typeof EA)return EA;if(c_(EA))return YA?YA.call(EA):"";var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}(AA);var _A=[];return PA.test(EA)&&_A.push(""),EA.replace(RA,(function(EA,AA,CA,SA){_A.push(CA?SA.replace(bA,"$1"):AA||EA)})),_A}));function s_(EA){if("string"==typeof EA||c_(EA))return EA;var AA=EA+"";return"0"==AA&&1/EA==-DA?"-0":AA}function a_(EA,AA){if("function"!=typeof EA||AA&&"function"!=typeof AA)throw new TypeError("Expected a function");var _A=function(){var CA=arguments,SA=AA?AA.apply(this,CA):CA[0],DA=_A.cache;if(DA.has(SA))return DA.get(SA);var TA=EA.apply(this,CA);return _A.cache=DA.set(SA,TA),TA};return _A.cache=new(a_.Cache||XA),_A}a_.Cache=XA;var o_=Array.isArray;function i_(EA){var AA=typeof EA;return!!EA&&("object"==AA||"function"==AA)}function c_(EA){return"symbol"==typeof EA||function(EA){return!!EA&&"object"==typeof EA}(EA)&&"[object Symbol]"==kA.call(EA)}EA.exports=function(EA,AA){return null==EA||function(EA,AA){EA=function(EA,AA){return 1==AA.length?EA:function(EA,AA){for(var _A=0,CA=(AA=n_(AA,EA)?[AA]:ZA(AA)).length;null!=EA&&_A<CA;)EA=EA[s_(AA[_A++])];return _A&&_A==CA?EA:void 0}(EA,function(EA,AA,_A){var CA=-1,SA=EA.length;AA<0&&(AA=-AA>SA?0:SA+AA),(_A=_A>SA?SA:_A)<0&&(_A+=SA),SA=AA>_A?0:_A-AA>>>0,AA>>>=0;for(var DA=Array(SA);++CA<SA;)DA[CA]=EA[CA+AA];return DA}(AA,0,-1))}(EA,AA=n_(AA,EA)?[AA]:ZA(AA));var _A,CA,SA=s_((CA=(_A=AA)?_A.length:0)?_A[CA-1]:void 0);return!(null!=EA&&VA.call(EA,SA))||delete EA[SA]}(EA,AA)}},953:EA=>{class t{constructor(EA,AA,_A,CA,TA){this.converter=SA(),this.width=EA,this.poly=AA,this.xor_in=_A,this.reflected_xor_in=DA(_A,EA),this.xor_out=CA,this.reflect=TA,this.msb_mask=1<<this.width-1,this.mask=this.msb_mask-1<<1|1,this.crc_shift=this.width<8?8-this.width:0,this.shifted_xor_in=this.xor_in<<this.crc_shift;let NA=this.gen_table();this.table=NA,8!==this.width||this.xor_in||this.xor_out||this.reflect||(this.calculate=function(EA){EA=this.converter.validate_buffer(EA);let AA=0;for(let _A=0;_A<EA.length;_A++)AA=NA[AA^EA[_A]];return AA})}calculate(EA){let AA;EA=this.converter.validate_buffer(EA);let{table:_A,width:CA,crc_shift:SA,mask:DA}=this;if(this.reflect){AA=this.reflected_xor_in;for(let CA=0;CA<EA.length;CA++)AA=(_A[255&(AA^EA[CA])]^AA>>>8)&DA}else{AA=this.shifted_xor_in;for(let TA=0;TA<EA.length;TA++)AA=_A[255&(AA>>CA-8+SA^EA[TA])]<<SA^AA<<8-SA&DA<<SA;AA>>=SA}return AA^=this.xor_out,AA>>>0}calculate_no_table(EA){EA=this.converter.validate_buffer(EA);let AA=this.xor_in;for(let _A=0;_A<EA.length;_A++){let CA=EA[_A];this.reflect&&(CA=DA(CA,8));for(let EA=0;EA<8;EA++){let _A=AA&this.msb_mask;CA&128>>EA&&(_A^=this.msb_mask),AA<<=1,_A&&(AA^=this.poly)}AA&=this.mask}return this.reflect&&(AA=DA(AA,this.width)),AA^=this.xor_out,AA>>>0}gen_table(){let EA=[];for(let AA=0;AA<256;AA++){let _A=AA;this.reflect&&(_A=DA(_A,8)),_A<<=this.width-8+this.crc_shift;for(let EA=0;EA<8;EA++)_A&this.msb_mask<<this.crc_shift?(_A<<=1,_A^=this.poly<<this.crc_shift):_A<<=1;this.reflect&&(_A=DA(_A>>this.crc_shift,this.width)<<this.crc_shift),_A=_A>>this.crc_shift&this.mask,EA[AA]=_A>>>0}return new Int32Array(EA)}print_table(){let EA=this.table,AA=Math.ceil(this.width/4),_A=AA<4?4:3,CA=EA.length>>_A,SA=1<<_A,DA="";for(let TA=0;TA<CA;TA++){let CA="";for(let DA=0;DA<SA;DA++){let SA=EA[TA<<_A|DA];SA="000000000"+SA.toString(16),SA=SA.substr(SA.length-AA),CA+="0x"+SA+", "}DA+="  "+CA+"\n"}return DA="[\n"+DA.slice(0,-3)+"\n]",DA}}const AA="undefined"!=typeof Buffer,_A="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,CA=void 0!==typeof BigInt&&BigInt(256);class a{validate_buffer(EA){switch(typeof EA){case"number":{if(!Number.isSafeInteger(EA)||EA<0)throw Error(`number data must be a nonnegative safe integer, not ${EA}`);if(this.fromUInt32&&EA<=4294967295)return this.fromUInt32(EA);const AA=[];for(;EA>0||AA.length<4;)AA.unshift(EA%256),EA=Math.floor(EA/256);return this.fromByteArray(AA)}case"string":return this.fromString(EA);case"bigint":{if(EA<0)throw Error(`bigint data must be nonnegative, not ${EA}`);const AA=[];for(;EA>0||AA.length<4;)AA.unshift(Number(EA%CA)),EA/=CA;return this.fromByteArray(AA)}default:if(AA&&Buffer.isBuffer(EA))return EA;if(_A){if(ArrayBuffer.isView(EA))return new Uint8Array(EA.buffer,EA.byteOffset,EA.byteLength);if(EA instanceof ArrayBuffer)return new Uint8Array(EA)}throw new Error(`Unrecognized data type ${typeof EA}: ${EA}`)}}}class o extends a{fromUInt32(EA){const AA=Buffer.alloc(4);return AA.writeUInt32BE(EA),AA}fromByteArray=Buffer.from.bind(Buffer);fromString=Buffer.from.bind(Buffer)}class i extends a{fromByteArray=Uint8Array.from.bind(Uint8Array);fromString(EA){return new TextEncoder("utf-8").encode(EA)}}function SA(EA=!1){if(_A&&(EA||!AA))return new i;if(AA)return new o;throw Error("either need TypedArrays or Buffer")}function DA(EA,AA){let _A=0;for(let CA=0;CA<AA;CA++)_A=_A<<1|1&EA,EA>>=1;return _A}const TA={crc1:new t(1,1,0,0,!1),crc6:new t(6,47,0,0,!1),crc8:new t(8,7,0,0,!1),crc10:new t(10,563,0,0,!1),crc16:new t(16,32773,0,0,!0),crc24:new t(24,8801531,11994318,0,!1),crc32:new t(32,79764919,4294967295,4294967295,!0),crc32c:new t(32,517762881,4294967295,4294967295,!0)};function NA(EA){}EA.exports={CRC:t,crc:function(EA,AA,_A,CA,SA){let DA=new t(EA,AA,_A,CA,SA);return DA.calculate.bind(DA)},makeBufferConverter:SA,models:TA,crc1:NA,crc6:NA,crc8:NA,crc10:NA,crc16:NA,crc24:NA,crc32:NA,crc32c:NA};for(let PA in TA){let AA=TA[PA];EA.exports[PA]=AA.calculate.bind(AA)}},754:EA=>{function AA(EA){return Promise.resolve().then((()=>{var AA=new Error("Cannot find module '"+EA+"'");throw AA.code="MODULE_NOT_FOUND",AA}))}AA.keys=()=>[],AA.resolve=AA,AA.id=754,EA.exports=AA}},r={};function s(EA){var AA=r[EA];if(void 0!==AA)return AA.exports;var _A=r[EA]={id:EA,loaded:!1,exports:{}};return n[EA](_A,_A.exports,s),_A.loaded=!0,_A.exports}s.m=n,s.n=EA=>{var AA=EA&&EA.__esModule?()=>EA.default:()=>EA;return s.d(AA,{a:AA}),AA},s.d=(EA,AA)=>{for(var _A in AA)s.o(AA,_A)&&!s.o(EA,_A)&&Object.defineProperty(EA,_A,{enumerable:!0,get:AA[_A]})},s.f={},s.e=EA=>Promise.all(Object.keys(s.f).reduce(((AA,_A)=>(s.f[_A](EA,AA),AA)),[])),s.u=EA=>"js/531.393debc0.js",s.miniCssF=EA=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(EA,AA)=>Object.prototype.hasOwnProperty.call(EA,AA),s.r=EA=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(EA,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(EA,"__esModule",{value:!0})},s.nmd=EA=>(EA.paths=[],EA.children||(EA.children=[]),EA),(()=>{var EA;if("string"==typeof import.meta.url&&(EA=import.meta.url),!EA)throw new Error("Automatic publicPath is not supported in this browser");EA=EA.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=EA})(),e={388:0},t=EA=>{var AA,_A,{__webpack_ids__:CA,__webpack_modules__:SA,__webpack_runtime__:DA}=EA,TA=0;for(AA in SA)s.o(SA,AA)&&(s.m[AA]=SA[AA]);for(DA&&DA(s);TA<CA.length;TA++)_A=CA[TA],s.o(e,_A)&&e[_A]&&e[_A][0](),e[CA[TA]]=0},s.f.j=(EA,AA)=>{var _A=s.o(e,EA)?e[EA]:void 0;if(0!==_A)if(_A)AA.push(_A[1]);else{var CA=import("./"+s.u(EA)).then(t,(AA=>{throw 0!==e[EA]&&(e[EA]=void 0),AA}));CA=Promise.race([CA,new Promise((AA=>_A=e[EA]=[AA]))]),AA.push(_A[1]=CA)}};var a={};s.d(a,{A:()=>yA});var o={};s.r(o),s.d(o,{buildContextName:()=>X,buildModalContext:()=>ee,buildTransientContextName:()=>J,getContainerIdFromContext:()=>ne,getParentContext:()=>te,getParentContextName:()=>K,getTargetFromContext:()=>Z,getTransientContext:()=>Q});var i={};s.r(i),s.d(i,{getResolvedTargetName:()=>_t,getRoutingInfo:()=>Ct,getSemanticURLFromRoutingInfo:()=>St});var c={};s.r(c),s.d(c,{evaluate:()=>Zt,handleChange:()=>Jt,hasDeclareExpression:()=>Xt,updateDeclareExpressions:()=>Qt});var l={};s.r(l),s.d(l,{publishExpressions:()=>Fr,publishResponse:()=>jr});var u={};s.r(u),s.d(u,{hasBrowserEnv:()=>Pa,hasStandardBrowserEnv:()=>Da,hasStandardBrowserWebWorkerEnv:()=>ba,navigator:()=>Ra,origin:()=>Oa});var d={};s.r(d),s.d(d,{CONTAINER_NAMES:()=>od,CONTAINER_TYPES:()=>ad,addRootContainerItem:()=>Vd,areContainerItemsPresent:()=>pd,clearTransientData:()=>Hd,closeContainerItem:()=>jd,getActiveContainerItemContext:()=>Sd,getActiveContainerItemIDFromRoutingInfo:()=>rp,getActiveContainerItemName:()=>Ed,getActiveContext:()=>Zd,getChildContainerItems:()=>Td,getChildContainers:()=>Nd,getChildContainersContexts:()=>Pd,getContainerAPI:()=>Yd,getContainerAccessOrder:()=>dd,getContainerData:()=>cd,getContainerItemByKey:()=>md,getContainerItemData:()=>ld,getContainerItemName:()=>gd,getContainerItems:()=>ud,getContainerLimit:()=>vd,getContainerParentContext:()=>np,getContainerType:()=>Id,getContextByTargetAndKey:()=>tp,getDataContextName:()=>Cd,getFlowContainer:()=>ap,getLeastRecentlyUsedNonDirtyContainerItemID:()=>Ud,getParentContainerItem:()=>sp,getRootContainerName:()=>Qd,getSuggestionContexts:()=>Rd,getTargetFromContainerItemID:()=>Fd,getTransientItems:()=>Bd,hasContainerItems:()=>Od,isContainerDirty:()=>Ld,isContainerInitialized:()=>yd,isContainerItemActive:()=>Ad,isContainerItemContextBeingUsedInOtherContainers:()=>$d,isContainerItemExists:()=>hd,isContainerLimitReached:()=>wd,isContainerMultipleMode:()=>bd,isContainerSingleMode:()=>Dd,purgeTransientData:()=>qd,removeContainer:()=>Kd,replaceTransientData:()=>Wd,resetContainersPayload:()=>Md,setContainerLimit:()=>xd,updateCaseContextEtag:()=>Jd,updateParentLastUpdateTime:()=>ep,updateRelatedContextEtag:()=>Xd,updateTransientData:()=>Gd});var p={};s.r(p),s.d(p,{getAdditionalInfo:()=>sh,getDataPageKeys:()=>th,getDataPageMetadata:()=>zp,getEmbeddedPropertyMetadata:()=>kp,getFieldParameters:()=>Jp,getFieldsByClassName:()=>Xp,getGenAICoach:()=>Zp,getInsight:()=>Kp,getLookUpDataPage:()=>nh,getLookUpDataPageInfo:()=>rh,getParagraph:()=>Qp,getPersonalizationMetadata:()=>Yp,getPropertyMetadata:()=>Vp,getResolvedFieldMetadata:()=>ah,getSavableDataPage:()=>eh,isViewExists:()=>Hp,mergeStore:()=>jp,resolveNavigation:()=>qp,resolveView:()=>Wp,updateNavigationStore:()=>Bp,updateStores:()=>Gp,updateViewStore:()=>$p});var h={};s.r(h),s.d(h,{dispatch:()=>ph,doesContextExist:()=>Ph,getActionType:()=>Eh,getContextValue:()=>yh,getDataObject:()=>hh,getReferenceTokens:()=>lh,getSharedDataObject:()=>gh,getStore:()=>dh,getValue:()=>mh,isMergeable:()=>_h,lookupContextValue:()=>Ih,mergeDeep:()=>Ch,removeItem:()=>Ah,replaceValue:()=>Th,resetStore:()=>Nh,setStore:()=>uh,updateValue:()=>Sh});var g={};s.r(g),s.d(g,{activateContainerItem:()=>ng,addContainerItem:()=>qh,addMessages:()=>rg,addSharedData:()=>hg,addTransientItem:()=>zh,addWork:()=>Bh,clearTransientData:()=>Kh,createWork:()=>Uh,error:()=>pg,finishAssignment:()=>cg,initContainers:()=>Wh,listAction:()=>fg,loadView:()=>kh,mergeData:()=>jh,openAssignment:()=>lg,openWorkByHandle:()=>Gh,postProcess:()=>dg,purgeTransientData:()=>Jh,removeAllTransientItems:()=>ag,removeContainerItem:()=>sg,removeSharedData:()=>gg,removeTransientItem:()=>og,replaceContainerItem:()=>ig,replaceTransientData:()=>Xh,resetContainers:()=>Hh,resetLoading:()=>eg,setLoading:()=>Zh,setSharedProperty:()=>yg,setStateProperty:()=>Ig,showCasePreview:()=>mg,showHarness:()=>Vh,showHistory:()=>ug,showPage:()=>$h,upMergeAndRemoveContainerItem:()=>tg,updateContainerItem:()=>Qh,updateTransientData:()=>Yh});var f={};s.r(f),s.d(f,{doesRestApiExist:()=>Km,getCancelTokenSource:()=>Xm,getCaseApi:()=>Zm,getHeaderProcessor:()=>qm,invokeCustomRestApi:()=>Ym,invokeRestApi:()=>zm,isRequestCanceled:()=>Jm,registerInterceptor:()=>Qm});var m={};s.r(m),s.d(m,{fetchViewResources:()=>ME,updateViewResources:()=>wE});var y=s(216),I=s.n(y);let E,A,_;const C=EA=>{EA&&(E=EA=EA||{"base-server":"http://localhost:1080/prweb/","data-end-point":"api/v1/stream/data","action-end-point":"api/v1/stream/action"},E.BASEURL=EA.server,E.ACTIONURL=EA["action-end-point"],E.DATAURL=EA["data-end-point"],_=EA.reAuthUrl)},S=()=>_,T=()=>E.BASEURL,N=EA=>fetch(`${E.BASEURL}${E.ACTIONURL}`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(EA)}),P=EA=>{A=EA},R=()=>A;var D=s(953),b=s(521),O=s.n(b),v=s(928),x=s.n(v),w=s(188),M=s.n(w),L=s(835),U=s.n(L),F=s(692),j=s.n(F),V=s(529),k=s.n(V);const $=new class{constructor(){this.needsMapping=!1}getNeedsMapping(){return this.needsMapping}setNeedsMapping(EA){this.needsMapping=EA}map(EA){return this.needsMapping?this.replacer(EA):EA}analyseResponse(EA){EA?.data?.objectInfo&&window?.PCore?.getEnvironmentInfo()?.isUnifiedObject()?this.setNeedsMapping(!0):this.setNeedsMapping(!1)}replacer(EA){return this.needsMapping&&(EA=EA.replace("caseInfo","objectInfo").replace("caseTypeName","objectTypeName").replace("caseTypeID","objectTypeID")),EA}},B={APP:{APP:"app",ROOT:"root",PXREQUESTOR:"pxRequestor",PXUSERNAME:".pxUserName",OPERATORID:"OperatorID",USERNAME:"pxRequestor.pxUserName",PXUSERIDENTIFIER:".pxUserIdentifier",USERIDENTIFIER:"pxRequestor.pxUserIdentifier",PYIMAGEINSKEY:".pyImageInsKey",OPERATORID_IMG_INSKEY:"OperatorID.pyImageInsKey",OPERATORID_LOCALE:"OperatorID.pyUseLocale",APPLICATION_LABEL:"Application.pyLabel",APPLICATION_RULE_NAME:"Application.pyRuleName"},RESOURCE_TYPES:{ASSIGNMENT:"ASSIGNMENT",CASE:"CASE",DATA:"DATA",PAGE:"PAGE"},RESOURCE_STATUS:{CREATE:"CREATE",UPDATE:"UPDATE",OPEN_FLOW_ACTION:"OPEN_FLOW_ACTION"},VIEW_NAMES:{PY_CASE_TAB:"pyCaseTab",DATA_OBJECT_CREATE_VIEW:"Create",DATA_OBJECT_EDIT_VIEW:"pyEdit",PY_DATA_PREVIEW:"pyDataPreview",PY_DETAILS:"pyDetails"},CONTAINERS:{ROOT_CONTAINER:"RootContainer",VIEW_CONTAINER:"ViewContainer",FLOW_CONTAINER:"FlowContainer",MODAL_VIEW_CONTAINER:"ModalViewContainer",PREVIEW_VIEW_CONTAINER:"PreviewViewContainer",HYBRID_VIEW_CONTAINER:"HybridViewContainer"},WORK_BASKET:{MY_WORK_LIST:"myWorkList",REPORTEE:"reportee",WORK_QUEUE:"workQueue",DATA_PAGES:{D__PY_GET_USER_WORK_LIST_BY_USER_ID:"D_pyGetUserWorkListByUserId",D__WORK_BASKET:"D_WorkBasket",D__PY_MY_WORK_LIST:"D_pyMyWorkList"}},CONTEXT_TREE_NODE_TYPES:{VIEW:"VIEW",FIELD:"FIELD",DECLARATIVE_TARGET:"DECLARATIVE_TARGET",WHEN:"WHEN",CONTEXT:"CONTEXT",PAGELIST:"PAGELIST"},WORKLIST:"worklist",WAIT:"wait",TODO:"todo",STANDARD_FLOW:"Standard",CASE:"CASE",ASSIGNMENT:"ASSIGNMENT",FIX_BROKEN_ASSIGNMENTS:"FixBrokenAssignments",PAGE:"PAGE",PZINSKEY:".pzInsKey",CREATE_DETAILS_VIEW_NAME:"pzCreateDetails",PREVIEW_VIEW_NAME:"pyCasePreview",CASESUMMARY_VIEW_NAME:"pyCaseSummary",APPSHELL_ACTIVE_CASES:"appshell-activecases",TRACE_ID:"x-b3-traceid",LOAD_VIEW_STRING:"View",PRIMARY:"primary",DEFER_UPDATE_CASESUMMARY_VIEW:"deferUpdateCaseSummaryView",NEXT_ASSIGNMENT_INFO_ID:"nextAssignmentInfo.ID",WORKCLASS:"Work-",DATA_INFO:{DATA_INFO_CONTENT:"dataInfo.content"},CASE_INFO:{CASE_INFO:"caseInfo",CASE_INFO_CONTENT:"caseInfo.content",CASE_INFO_NAME:"caseInfo.name",CASE_INFO_ID:"caseInfo.ID",CASE_INFO_CLASSID:"caseInfo.content.classID",CASE_TYPE_ID:"caseInfo.caseTypeID",CASE_TYPE_NAME:"caseInfo.caseTypeName",CASE_INFO_PZINSKEY:"caseInfo.content.pzInsKey",CASE_INFO_ACTIONS:"caseInfo.availableActions",VIEW_NAME:"caseInfo.content.pyViewName",ACTION_BUTTONS:"caseInfo.actionButtons",ACTIVE_ACTION_ID:"caseInfo.activeActionID",ASSIGNMENT_LABEL:"caseInfo.assignments[0].name",ASSIGNMENT_ID:"caseInfo.assignments[0].ID",ASSIGNMENTS:"caseInfo.assignments",INSTRUCTIONS:"caseInfo.assignments[0].instructions",NAVIGATION:"caseInfo.navigation",STAGES:"caseInfo.stages",STAGEID:"caseInfo.stageID",CASECLASS:"caseInfo.caseClass",AVAILABLEACTIONS:"caseInfo.availableActions",AVAILABLEPROCESSES:"caseInfo.availableProcesses",D_CASE_ASSIGNMENTS_RESULTS:"caseInfo.assignments",CHILD_ASSIGNMENTS:"caseInfo.childCases",ASSIGNMENTACTION_ID:"caseInfo.assignments[0].actions[0].ID",ISINCREATESTAGE:"caseInfo.isInCreateStage",APPROVALFLAG:"caseInfo.content.pyApprovalResult",DUPLICATECASEFLAG:"caseInfo.content.pyDuplicateCaseActions",DUPLICATECASEID:"caseInfo.content.pyDuplicateID",DUPLICATECASEINSKEY:"caseInfo.content.pyDuplicateCaseReference.pzInsKey",HEADERS:"caseInfo.headers",PARENTCASEINFO:"caseInfo.parentCaseInfo",REMOTESYSTEMID:"caseInfo.headers.RemoteSystemID",CASE_RELATED_CASE_TYPES:"caseInfo.relatedCaseTypes",CASES:"caseInfo.cases",GETNEXTWORK:"caseInfo.confirmationLinks.getNextWork",ACTION_REFRESH_CONDITIONS:"caseInfo.assignments[0].actions[0].refreshConditions",IS_LOCAL_ACTION:"caseInfo.isLocalAction",BUSINESS_ID:"caseInfo.businessID",IS_FIRST_ASSIGNMENT:"caseInfo.isFirstAssignment"},ACTIONS:{ACTION_ID:"actionID",ACTIONS:"availableActions",DELETEAVIALACTIONS:"deleteAvailActions",FLOWACTION:"FlowAction",DATA_PAGES:{D_PY_ADDITIONAL_CASE_ACTIONS:"D_pyAdditionalCaseActions"}},PROCESS:{FLOWPROBLEMS:"FlowProblems"},PAGE_TYPES:{PAGE:"page",LANDINGPAGE:"landingpage",LISTPAGE:"listpage"},LOCAL_ACTION_TYPE:{CASE_WIDE:"case",EXPRESS:"express",ASSIGNMENT:"Assignment",LOCAL_ACTION:"LocalAction"},LOCAL_ACTIONS:{TRANSFER_ASSIGNMENT:"pyTransferAssignment"},CONTENT:"content",MODAL:"modal",STOPMERGEACTIONS:"stopMergeActions",IS_CREATE_DATA_OBJECT:"isCreateDataObject",SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME:"context_data.caseInfo.content.summary_of_assignment__.lastSubmitTime",SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME:"context_data.caseInfo.content.summary_of_attachments__.lastRefreshTime",CONTEXT_DATA_ASSIGNMENTID:"context_data.assignmentID",BANNER_VARIANT_SUCCESS:"success",BANNER_VARIANT_WARNING:"warning",BANNER_VARIANT_URGENT:"urgent",BANNER_VARIANT_INFO:"info",MESSAGES:{MESSAGES_TYPE_SUCCESS:"success",MESSAGES_TYPE_INFO:"info",MESSAGES_TYPE_ERROR:"error"},PUB_SUB_EVENTS:{EVENT_RENDER_APP:"renderApp",EVENT_UNMOUNT_APP:"unmountApp",EVENT_REAUTH:"reAuth",EVENT_FULL_REAUTH:"fullReAuth",EVENT_CUSTOM_REAUTH:"customReAuth",EVENT_CANCEL:"cancel",EVENT_MINIMIZE:"minimize",EVENT_EXPRESS_LOCALACTION:"expressLocalActionSubmit",EVENT_LOCALACTION_SUBMISSION:"localActionSubmit",EVENT_BULKACTION:"bulkActionSubmit",EVENT_SHOW_CANCEL_ALERT:"showCancelAlert",EVENT_SHOW_DELETE_ALERT:"showDeleteAlert",EVENT_DASHBOARD_FILTER_CHANGE:"dashboardFilterChange",EVENT_DASHBOARD_FILTER_CLEAR_ALL:"dashboardFilterClearAll",EVENT_PROMOTED_FILTERS_CHANGE:"promotedFiltersChange",EVENT_LOGOFF:"Logoff",EVENT_TRANSIENT_ITEMS:{UPDATE_PROMOTED_FILTERS:"updatePromotedFilters"},UI_EVENTS:{SHOW_PAGE_INIT:"showPageInit",SHOW_PAGE_DONE:"showPageDone",SHOW_PAGE_STARTED:"showPageStarted"},CASE_EVENTS:{CASE_ATTACHMENTS_UPDATED_FROM_CASEVIEW:"caseAttachmentsUpdateFromCaseview",CASE_FOLLOWER_UPDATED_BY_OPERATOR_FROM_CASEVIEW:"caseFollowerUpdateByOperatorFromCaseview",CASE_FOLLOWER_UPDATE_BY_OPERATOR_FROM_WIDGET:"caseFollowerUpdateByOperatorFromWidget",CASE_CREATED:"caseCreated",CREATE_STAGE_DONE:"caseCreatedDone",CREATE_STAGE_CANCELLED:"caseCancelled",CREATE_STAGE_SAVED:"caseSaved",CREATE_STAGE_DELETED:"caseDeleted",ASSIGNMENT_SUBMISSION:"assignmentSubmission",END_OF_ASSIGNMENT_PROCESSING:"endOfAssignmentProcessing",CLOSE_CONFIRM_VIEW:"closeConfirmView",CASE_OPENED:"caseOpened",CASE_CLOSED:"caseClosed",ASSIGNMENT_OPENED:"assignmentOpened",CASE_PREVIEW:"casePreview",CURRENT_ASSIGNMENT_UPDATED:"currentAssignmentUpdated",CASE_LOCK_EVENT:"caseLockEvent",NOTIFICATION_UPDATED:"notificationUpdated"},BOOTSTRAP_SHELL_EVENTS:{CONSTELLATION_LOADED:"CONSTELLATION_LOADED"},CONTAINER_EVENTS:{CLOSE_CONTAINER_ITEM:"CLOSE_CONTAINER_ITEM",CLOSE_MULTI_TYPE_PRIMARY_CONTAINER_ITEM:"CLOSE_MULTI_TYPE_PRIMARY_CONTAINER_ITEM"},DISPLAY_CASE_CREATED_TOASTER:"displayCaseCreatedToaster",DATA_EVENTS:{DATA_OBJECT_CREATED:"dataObjectCreated",DATA_OBJECT_DELETED:"dataObjectDeleted",DATA_OBJECT_UPDATED:"dataObjectUpdated"},FETCH_SUCCESS:"fetchSuccess",REVERSE_COEXISTENCE_EVENTS:{HANDLE_DISCARD:"handleDiscard",CHECK_IS_FORM_DIRTY:"checkIsFormDirty"},TIMEOUT_REMINDER:"sessionAboutToTimeout",RESET_TIMER:"resetInactivityTimer"},CONTAINER_TYPE:{MULTIPLE:"multiple",SINGLE:"single",HYBRID:"HybridViewContainer"},REMOTE_SYSTEM_ID:"RemoteSystemID",LIST_SELECTION_MODE:{MULTI:"multi",SINGLE:"single",MULTI_ON_HOVER:"multi_on_hover"},SUBMISSION_FAILURE_TYPE:{FORM_VALIDATION_ERROR:"formValidationError"},USER_SETTINGS:{UTILITY_PANEL_USER_STATE_PATH:"presentation.templates.CaseView.utilityPanelExpanded",SUMMARY_PANEL_USER_STATE_PATH:"presentation.templates.CaseView.summaryPanelExpanded",ASSIGNMENT_COLLAPSED_STATE_PATH:"presentation.templates.CaseView.assignmentWidgetCollapsed",CASE_VIEW_PATH:"presentation.templates.CaseView"},PROMISE_VALUE:{RESOLVE:"resolve",REJECT:"reject"},APP_TYPE:{UIKIT:"uikit",THEME_COSMOS:"themecosmos"},VIEW_TYPE:{PY_EMBEDASSIGNMENT:"pyEmbedAssignment",PY_DETAILS:"pyDetails"}},G={CONTEXT:"context",AJAXCONTAINER:"primary",VIEW_CONTAINER:"ViewContainer",APP_SHELL:"AppShell",ROOT_CONTAINER:"RootContainer",HYBRID_VIEW_CONTAINER:"HybridViewContainer",MODAL_VIEW_CONTAINER:"ModalViewContainer",FLOW_CONTAINER:"FlowContainer",PREVIEW_VIEW_CONTAINER:"PreviewViewContainer",OBJECT_PAGE:"ObjectPage",CASE_CREATE_STAGE:"CaseCreateStage",CASE_VIEW:"CaseView",VIEW:"view",CASE_PREVIEW:"CasePreview",CASE_STAGES:"Stages",CASEMESSAGES:"caseMessages",SUGGESTION:"suggestion",PREVIEW:"preview",TERTIARY:"tertiary",DEFAULT:"default",ACPRIMARY:"primary",ACTERTIARY:"tertiary",PERFORM_MODE:"perform",CASE_VIEW_MODE_PROP:".caseViewMode",REVIEW_MODE:"review",WORKAREA:"workarea",ACPRIMARY_NAME:"ACPRIMARY",ACTERTIARY_NAME:"ACTERTIARY",THREADNAMESEPARATOR:"/",JOINCHARACTER:"_",FORWARD_SLASH_STRING:"/",UNDERSCORE_STRING:"_",WORK_ID:"WORK_ID",EMPTY_STRING:"",PROPERTY_MESSAGES:"propertyMessages__",CONTEXT_MESSAGES:"contextMessages__",HTTP_MESSAGES:"httpMessages__",PAGE_MESSAGES:"pageMessages__",SUMMARY_OF_LISTS:"summary_of_lists__",SUMMARY_OF_GROUPS:"summary_of_groups__",SUMMARY_OF_MESSAGES:"summary_of_messages__",SUMMARY_OF_FIELD_VALUES:"summary_of_field_values__",SUMMARY_OF_WHEN_CONDITIONS:"summary_of_when_conditions__",SUMMARY_OF_EXPRESSIONS:"summary_of_expressions__",SUMMARY_OF_ASSOCIATED_LISTS:"summary_of_associated_lists__",CONTEXT_DATA:"context_data",TABLE:EA=>`Table[${EA}]`,HTTP:"HTTP",PROPERTY:"PROPERTY",PAGE_ERRORS:"page_level_errors",NO_MESSAGES:"No messages existing",PULSE_REFERENCE:"pulse.messages",IS_LOADING:"isLoading",APPROVED:"Approved",REJECTED:"Rejected",DUPLICATE:"Duplicate",IGNORE:"Ignore",PARAGRAPH:"PARAGRAPH",X_ORIGIN_CHANNEL:"x-origin-channel",AUTHORING_PREVIEW_CONTAINER:"root/authoring-preview",ERROR_FIELD_IN_PAGE:"erroneousInputOutputFieldInPage",ERROR_IN_PAGE_IDENTIFIER:"erroneousInputOutputIdentifier",UI_RESOURCES:"uiResources",UI_RESOURCES_CONTEXT_DATA:"uiResources.context_data",ACTION_BUTTONS:"uiResources.actionButtons",RESOURCES:"uiResources.resources",ROOT:"uiResources.root",CASE_INFO_IS_LOCAL_ACTION:"caseInfo.isLocalAction",DATA:"data",OPTIONS:"options",VIEWS:"uiResources.resources.views",NAVIGATIONS:"uiResources.resources.navigations",COMPONENTS:"uiResources.components",LOCALE_REFERENCES:"uiResources.localeReferences",STATIC_SERVER_URL:"staticServer",APPLICATION_DATA:"data.Application",REFERENCED_USERS:"referencedUsers",CASE_INFO_REFRESH_CONDITIONS:"caseInfo.refreshConditions",FIELD_LEVEL_SUCCESS:"success",FIELD_LEVEL_WARNING:"warning",FIELD_LEVEL_ERROR:"error",HASH_DELIMITER:"~^|^~",NULL_STRING:"null",DATA_PAGE:"DataPage",DECISION:"Decision",RULE_REFERENCE:"RuleReference",GET_PAGE_DATA:"getPageData",PROPERTY_ANNOTATION:"@P",FIELD_LABEL_ANNOTATION:"@FL",ATTACHMENT_ANNOTATION:"@ATTACHMENT",ASSOCIATED_PROPERTY_ANNOTATION:"@ASSOCIATED",CLASS_ANNOTATION:"@CLASS",ASSOCIATED:"associated",CLASS_ID:".classID",CLASSID:"classID",READONLY:"readonly",SHARED:"shared",RELOAD_IF_OLDER_THAN:"reloadIfOlderThan",RELOAD_ONCE_PER_INTERACTION:"reloadOncePerInteraction",PY_DETAILS:"pyDetails",PY_CONFIRM:"pyConfirm",LIST_ACTIONS:{INSERT:"INSERT",UPDATE:"UPDATE",DELETE:"DELETE",DELETE_ALL:"DELETE ALL",MOVE:"MOVE",SELECT:"SELECT",DESELECT:"DESELECT"},LIST_ACTIONS_TYPE:{SELECT_DESELECT:"SELECT_DESELECT",DESELECT_ALL:"DESELECT_ALL"},ENV_INFO_KEYS:{APPLICATION_NAME:"APPLICATION_NAME",APPLICATION_DESC:"APPLICATION_DESC",ACCESS_GROUP:"ACCESS_GROUP",USER_NAME:"USER_NAME",USER_ID:"USER_ID",USER_IMAGE:"USER_IMAGE",LOCALE:"LOCALE",TIMEZONE:"TIMEZONE",WORK_GROUP:"WORK_GROUP"},ID:"ID",SCALARLIST:"ScalarList",COREHEADERS:"coreHeaders",SKIPCOREHEADERS:"skipCoreHeaders",COREHEADER_APP_DEBUG_ID:"X-Pega-App-Debug-ID",COREHEADER_APP_DEBUG_LEVELS:"X-Pega-App-Debug-Levels",CONTEXT_DATA_MODAL_VIEW:{IS_MULTI_RECORD_DATA:"context_data.modalView.isMultiRecordData",VIEW_NAME:"context_data.modalView.viewName",PARENT_CONTEXT:"context_data.modalView.parentContext",INTERESTPAGE:"context_data.modalView.interestPage"},DATA_CLASS_NOT_FOUND:"Data object class not found",PRIORITY:{CRITICAL:100,HIGH:500,MEDIUM:1e3,LOW:2e3,TRIVIAL:3e3},...B,EMBED:"EMBED",getProperty:EA=>$.map(EA)},W="pyRemoteCaseDetails";class H{static remoteCaseMapping={};static setRemoteCaseMapping=EA=>{this.remoteCaseMapping=EA,this.setAdditionalParameters()};static getRemoteCaseMapping=()=>this.remoteCaseMapping;static getRemoteCase=EA=>this.remoteCaseMapping?.[EA];static isRemoteCase=EA=>!!(EA&&this.remoteCaseMapping&&this.remoteCaseMapping[EA]);static getRemoteHeaderByContext=EA=>xh.getProperty(".RemoteSystemID",G.CASE_INFO.HEADERS,EA);static getRemoteHeader=EA=>this.remoteCaseMapping[EA]?.RemoteSystemID;static injectRemoteCaseHeader=(EA,AA,_A)=>{if(EA&&EA.RemoteSystemID)return;const CA=this.getRemoteHeaderByContext(_A);CA?EA.RemoteSystemID=CA:AA&&this.isRemoteCase(AA.caseTypeID)&&(EA.RemoteSystemID=this.getRemoteHeader(AA.caseTypeID))};static isTraditionalRemoteCase=(EA="")=>"Traditional"===H.getRemoteCase(EA)?.RemoteApplicationType;static setAdditionalParameters=()=>{const EA=fp.environmentInfoObject?.pyRemoteCaseTypeList;EA?.forEach((EA=>{const AA=this.getRemoteCase(EA.pyWorkTypeImplementationClassName);AA&&(AA.name=EA.pyWorkTypeName)}))};static getRemoteHeaderFromSourceClass=EA=>{const AA=Object.values(this.remoteCaseMapping).find((AA=>AA.RemoteClassName===EA));return AA?.RemoteSystemID}}const q=H,z={},Y=new Map,K=EA=>{let AA=G.EMPTY_STRING;return AA=EA&&EA.includes(G.FORWARD_SLASH_STRING)?EA.substring(0,EA.lastIndexOf("/")):EA,AA},X=(EA,AA,_A=!1)=>{let CA=G.EMPTY_STRING;if(AA&&EA){let SA=`${AA}${G.FORWARD_SLASH_STRING}${EA}`;const DA=cd(SA);if(DA||AA!==G.APP.APP&&AA!==G.APP.ROOT)if(DA){if(_A&&z[SA])return CA=`${SA}${G.UNDERSCORE_STRING}${z[SA]}`,CA;z[SA]?z[SA]+=1:z[SA]=1,CA=`${SA}${G.UNDERSCORE_STRING}${z[SA]}`}else CA=X(EA,K(AA));else SA=`${AA}${G.FORWARD_SLASH_STRING}${G.PRIMARY}`,z[SA]?z[SA]+=1:z[SA]=1,CA=`${SA}${G.UNDERSCORE_STRING}${z[SA]}`}return CA},J=(EA,AA)=>{if(EA&&AA){const _A=(Y[AA]?.[EA]??0)+1;return Y[AA]||(Y[AA]={}),Y[AA][EA]=_A,`${AA}${G.FORWARD_SLASH_STRING}${EA}_${_A}`}return""},Q=(EA,AA)=>{if(EA&&AA){const _A=Y[AA]?.[EA];return _A?`${AA}${G.FORWARD_SLASH_STRING}${EA}_${_A}`:J(EA,AA)}return""},Z=EA=>{let AA=G.EMPTY_STRING;return EA&&(AA=EA.substring(EA.lastIndexOf("/")+1,EA.lastIndexOf("_")).toLowerCase()),AA},ee=(EA,AA)=>{if(null===EA)return AA;const[,_A]=AA.split(G.FORWARD_SLASH_STRING);return EA+G.FORWARD_SLASH_STRING+_A},te=EA=>{const AA=EA.indexOf(G.FORWARD_SLASH_STRING),_A=EA.lastIndexOf(G.FORWARD_SLASH_STRING);return AA===_A?EA:EA.substring(0,_A)},ne=EA=>{const AA=EA.split(G.FORWARD_SLASH_STRING);return 2===AA.length?EA:AA[0]+G.FORWARD_SLASH_STRING+AA[2]},re="SET_PROPERTY",se="REPLACE_PROPERTY",ae="FIELD_CHANGE",oe="LOAD_VIEW",ie="SHOW_PAGE",ce="SHOW_DATA",le="SHOW_INSIGHT",ue="SHOW_DASHBOARD",de="SET_LOADING",pe="RESET_LOADING",he="SET_SHARED_PROPERTY",ge="CREATE_WORK",fe="OPEN_WORK_BY_HANDLE",me="UPDATE_DOCUMENT",ye="FINISH_ASSIGNMENT",Ie="CANCEL_ASSIGNMENT",Ee="OPEN_ASSIGNMENT",Ae="MERGE_DATA",_e="REMOVE_ITEM",Ce="GET_DATAOBJECT_ACTIONS",Se="SHOW_HISTORY",Te="ERROR",Ne="INIT_CONTAINERS",Pe="RESET_CONTAINERS",Re="ADD_CONTAINER_ITEM",De="REMOVE_CONTAINER_ITEM",be="ADD_TRANSIENT_ITEM",Oe="UPDATE_TRANSIENT_DATA",ve="REMOVE_TRANSIENT_ITEM",xe="REMOVE_ALL_TRANSIENT_ITEMS",we="CLEAR_TRANSIENT_DATA",Me="PURGE_TRANSIENT_DATA",Le="REPLACE_TRANSIENT_DATA",Ue="ACTIVATE_CONTAINER_ITEM",Fe="UPDATE_CONTAINER_ITEM",je="UPMERGE_AND_REMOVE_CONTAINER_ITEM",Ve="REPLACE_CONTAINER_ITEM",ke="ACTIVATE_MODAL_CONTAINER_ITEM",$e="REMOVE_CONTAINER",Be="ADD_SUGGESTION_CONTEXT",Ge="showView",We="showData",He="showInsight",qe="showDashboard",ze="openWorkByHandle",Ye="openAssignment",Ke="createNewWork",Xe="SHOW_CANCEL_ALERT",Je="openLocalAction",Qe="openProcessAction",Ze="caseWideActions",et="openBulkAction",tt="performBulkAction",nt="ADD_MESSAGES",rt="CLEAR_MESSAGES",st="RESET_STORE",at="FETCH_DATAPAGE",ot="ADD_SHARED_DATA",it="REMOVE_SHARED_DATA",ct="LIST_ACTION",lt="DELETE_CASE_SUMMARY",ut="ALTER_BLOCKING_ACTION_COUNT",dt="CREATE_DATA_OBJECT",pt="DELETE_DATA_OBJECT",ht="VIEW_DATA_OBJECT",gt="UPDATE_DATA_OBJECT",ft="OPEN_DATA_OBJECT_ACTION",mt="SUBMIT_DATA_OBJECT_ACTION",yt="OPEN_EMBEDDED_DATA_MODAL",It="SUBMIT_EMBEDDED_DATA_MODAL",Et="FILL_FORM_WITH_AI",At="openCase",_t=(EA,AA)=>{if(!EA||!AA)return null;let _A,CA=G.EMPTY_STRING;return AA&&(CA=`${AA}${G.FORWARD_SLASH_STRING}${EA}`,_A=cd(CA),_A||AA.includes("/")?_A||(CA=_t(EA,K(AA))):CA=`${AA}${G.FORWARD_SLASH_STRING}${EA}`),CA},Ct=(EA,AA)=>{const _A=_t(EA,AA);return _A&&cd(_A)?cd(_A):{}},St=(EA,AA)=>gp.getSemanticURL(Ge,{page:EA},AA),Tt=new class{error=EA=>{console.error(EA)}};class Nt{constructor(EA,AA,_A){this._grammar=EA,this._state="expectOperand",this._tree=null,this._exprStr=AA||"",this._endState=_A||{}}static _setParent(EA,AA){Object.defineProperty(EA,"_parent",{value:AA,writable:!0})}_addToken(EA){const AA=wt[this._state],_A=this._exprStr;if(this._exprStr+=EA.element,AA.subHandler){this._subParser||this._startSubExpression(_A);const AA=this._subParser._addToken(EA);AA&&(this._endSubExpression(),this._state=AA)}else{if(!AA.operatorTypes[EA.tokenType]){if(this._endState[EA.tokenType])return this._endState[EA.tokenType];throw new Error(`Token ${EA.element} (${EA.tokenType}) unexpected in expression: ${this._exprStr}`)}{const _A=AA.operatorTypes[EA.tokenType],CA=xt[EA.tokenType];CA&&CA.call(this,EA),_A.toState&&(this._state=_A.toState)}}return!1}addTokens(EA){EA.forEach(this._addToken,this)}buildAst(){return this._subParser&&this._endSubExpression(),this._state="complete",this._position?this._tree:null}_startSubExpression(EA){const{endStates:AA}=wt[this._state];this._subParser=new Nt(this._grammar,EA,AA)}_endSubExpression(){wt[this._state].subHandler.call(this,this._subParser.buildAst()),this._subParser=null}setPositionInAST(EA){this._position?(this._position.right=EA,Nt._setParent(EA,this._position)):this._tree=EA,this._position=EA}}const Pt=Nt,Rt="identifier",Dt={operatorType:"binaryOperator",precedence:1,evaluate:(EA,AA)=>EA&&AA},bt={operatorType:"binaryOperator",precedence:1,evaluate:(EA,AA)=>EA||AA},Ot={">":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA>AA},">=":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA>=AA},"<":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA<AA},"<=":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA<=AA},"==":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA===AA},"!=":{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA!==AA},"!":{operatorType:"unaryOperator",precedence:999,evaluate:EA=>{let{value:AA}=EA;return"true"!==AA&&"false"!==AA||(AA="true"===AA),!AA}},"(":{operatorType:"openParenthesis"},")":{operatorType:"closeParenthesis"},"&&":Dt,AND:Dt,and:Dt,"||":bt,OR:bt,or:bt,CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA.includes(AA)},NOT_CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>!EA.includes(AA)},STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA.startsWith(AA)},NOT_STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>!EA.startsWith(AA)},ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>EA.endsWith(AA)},NOT_ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>!EA.endsWith(AA)},IS_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:EA=>!EA},IS_NOT_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:EA=>!!EA},IS_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>AA.split(",").includes(EA)},IS_NOT_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(EA,AA)=>!AA.split(",").includes(EA)}},vt={BinaryExpression:function(EA){const AA=[];let _A="";return AA[0]=this.evaluateAST(EA.left),EA.left.operationType===Rt&&this._context&&(_A=this._context.getFieldMetadata(EA.left.value.substring(1))?.type??""),AA[1]=EA.right?this.evaluateAST(EA.right,_A):"",this._grammar[EA.operator].evaluate(AA[0],AA[1])},identifier:function(EA){return this._localDataObject?this._localDataObject[EA.value.substring(1)]??"":this._contextTreeNodeContext?xh.getLitePropertyValue(this._contextTreeNodeContext,EA.value):this._context.getValue(EA.value)??""},literal:function(EA,AA){return void 0!==AA&&""!==AA&&"True-False"!==AA||"true"!==EA.value&&"false"!==EA.value?EA.value:"true"===EA.value},UnaryExpression:function(EA){return this._grammar[EA.operator].evaluate(EA.right)}},xt={unaryOperator:function(EA){this.setPositionInAST({operationType:"UnaryExpression",operator:EA.value})},binaryOperator:function(EA){const{precedence:AA}=this._grammar[EA.value];let _A=this._position._parent;for(;_A&&_A.operator&&this._grammar[_A.operator].precedence>=AA;)this._position=_A,_A=_A._parent;const CA={operationType:"BinaryExpression",operator:EA.value,left:this._position};Pt._setParent(this._position,CA),this._position=_A,this.setPositionInAST(CA)},identifier:function(EA){const AA={operationType:Rt,value:EA.value};this.setPositionInAST(AA)},literal:function(EA){this.setPositionInAST({operationType:"literal",value:EA.value})},subExpression:function(EA){this.setPositionInAST(EA)}},wt={expectOperand:{operatorTypes:{literal:{toState:"expectBinOp"},identifier:{toState:Rt},unaryOperator:{},openParenthesis:{toState:"subExpression"}}},expectBinOp:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},identifier:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},subExpression:{subHandler:xt.subExpression,endStates:{closeParenthesis:"expectBinOp"}}},Mt=["binaryOperator","unaryOperator","openParenthesis"],Lt=/^\s*$/,Ut=/^[a-zA-Z_.$][(0-9)a-zA-Z0-9_.$]*$/,Ft=/\\\\/,jt=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],Vt=["[a-zA-Z_.\\$][(0-9)a-zA-Z0-9_.\\$]*","[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}|[0-9]{4}-[0-9]{2}-[0-9]{2}","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],kt=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/;class $t{constructor(EA){this._grammar=EA}static _isNegative(EA){return Mt.some((AA=>AA===EA[EA.length-1].tokenType))}static _isWhitespace(EA){return!!EA.match(Lt)}static _createWordboundary(EA){return(EA=EA.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(Ut)&&(EA=`\\b${EA}\\b`),EA}static _unquote(EA){const[AA]=EA,_A=new RegExp(`\\\\${AA}`,"g");return EA.substr(1,EA.length-2).replace(_A,AA).replace(Ft,"\\")}_getSplitRegex(){if(!this._splitRegex){const EA=Object.keys(this._grammar).sort(((EA,AA)=>AA.length-EA.length)).map((EA=>$t._createWordboundary(EA)),this);this._splitRegex=new RegExp(`(${[jt.join("|"),EA.join("|"),Vt.join("|")].join("|")})`)}return this._splitRegex}_splitExpression(EA){const AA=this._getSplitRegex();return EA.split(AA).filter((EA=>EA))}_createToken(EA){const AA={tokenType:"literal",value:EA,element:EA};return'"'===EA[0]||"'"===EA[0]?AA.value=$t._unquote(EA):EA.match(kt)?AA.value=parseFloat(EA):"true"===EA||"false"===EA?AA.value="true"===EA:this._grammar[EA]?AA.tokenType=this._grammar[EA].operatorType:EA.match(Ut)&&(AA.tokenType="identifier"),AA}_getTokens(EA){const AA=[];let _A=!1;for(let CA=0;CA<EA.length;CA+=1)$t._isWhitespace(EA[CA])?AA.length&&(AA[AA.length-1].element+=EA[CA]):"-"===EA[CA]&&$t._isNegative(AA)?_A=!0:(_A&&(EA[CA]=`-${EA[CA]}`,_A=!1),AA.push(this._createToken(EA[CA])));return AA}tokenize(EA){const AA=this._splitExpression(EA);return this._getTokens(AA)}}const Bt=$t,Gt=class{constructor(EA,AA){this._grammar={...Ot},this._expression=EA,this._ast=null,this._context={},this._contextTreeNodeContext=null,this._localDataObject=AA}buildAST(){const EA=new Bt(this._grammar).tokenize(this._expression),AA=new Pt(this._grammar);return AA.addTokens(EA),this._ast=AA.buildAst(),this}evaluate(EA,AA){return this._context=EA,this._contextTreeNodeContext=AA,this.evaluateAST(this._ast)}evaluateAST(EA,AA){return vt[EA.operationType].call(this,EA,AA)}},Wt=(EA,AA)=>{const _A=EA.replace(/[a-zA-Z0-9_)"'\s]=[a-zA-Z0-9_("'\s]/,(EA=>EA.replace("=","==")));return new Gt(_A,AA)},Ht=EA=>!EA||EA.buildAST(),qt=(EA,AA,_A)=>!EA||EA.evaluate(AA,_A),zt=(EA,AA,_A)=>{const CA=Wt(EA,AA),SA=Ht(CA);return qt(SA,_A)},Yt=class{static handleExpression(EA,AA,_A,CA){const SA=this.getContext(EA,CA);N({actionObject:{action:"decexp",params:{source:EA,value:AA,targets:_A},context:SA}}).then((EA=>EA.json())).then((EA=>{this.updateState(EA,CA)})).catch((EA=>window.console.log(EA)))}static getContext(EA,AA){const _A=EA.substring(0,EA.indexOf("."));return{name:_A,class:xh.getPropertyValue(`${_A}.pxObjClass`,null,AA)||xh.getPropertyValue(`${_A}.pyClassName`,null,AA)}}static updateState(EA,AA){Object.keys(EA).forEach((_A=>ph({type:re,payload:{context:AA,reference:_A,value:EA[_A]}})))}},Kt={},Xt=(EA,AA)=>Kt[AA]&&Object.prototype.hasOwnProperty.call(Kt[AA],EA),Jt=EA=>{const{context:AA}=EA;Xt(EA.reference,AA)&&Yt.handleExpression(EA.reference,EA.value,Kt[AA][EA.reference],AA)},Qt=(EA={})=>{Dh.copy(EA,Kt)},Zt=(EA,AA,_A)=>zt(EA,AA,_A?.pConnect.getPConnect()),en=new class{constructor(){this._dataSourceMap={}}hasContextName(EA){return EA in this._dataSourceMap}addContextName(EA,AA){AA&&Object.keys(AA).length>0?this._dataSourceMap[EA]=AA:this._dataSourceMap[EA]={}}getContextObjectByName(EA){return EA in this._dataSourceMap?this._dataSourceMap[EA]:null}deleteContextName(EA){this.hasContextName(EA)&&delete this._dataSourceMap[EA]}addOrUpdatePropertyInContext(EA,AA,_A){if(this.hasContextName(EA)){const CA=this.getContextObjectByName(EA);if(CA)if(Array.isArray(_A))CA[AA]=_A;else{const EA=CA[AA];CA[AA]=[...new Set([...EA,_A])]}}else{const CA={};Array.isArray(_A)?CA[AA]=_A:CA[AA]=[_A],this.addContextName(EA,CA)}}deletePropertyInContext(EA,AA){if(this.hasContextName(EA)){const _A=this.getContextObjectByName(EA);_A&&AA in _A&&delete _A[AA]}}getPropertyFromContext(EA,AA){if(this.hasContextName(EA)){const _A=this.getContextObjectByName(EA);if(_A&&AA in _A)return _A[AA]}return[]}getDependencies(EA,AA){const _A=this.getPropertyFromContext(EA,AA),CA=new Set(_A);return _A.forEach((EA=>{CA.add(EA)})),[...CA]}},tn=new class{constructor(){this.componentMap={},this.overrideMap={},this.lazyMap={},this.customComponentLazyMap={}}register(EA,AA){this.componentMap[EA]=AA}registerLazyMap(EA,AA){this.lazyMap[EA]=AA}registerCustomComponentLazyMap(EA,AA){this.customComponentLazyMap[EA]=AA}getComponent(EA){return this.componentMap[EA]}getLazyComponent(EA){return this.lazyMap[EA]}getCustomComponent(EA){return this.customComponentLazyMap[EA]}mergeComponentsMap(EA={}){Dh.copy(EA,this.componentMap)}mergeOverrideMap(EA={}){Dh.copy(EA,this.overrideMap)}getOverrideMap(){return this.overrideMap}getLazyMap(){return this.lazyMap}},nn=new class{constructor(){this.handlers={}}registerHandler(EA,AA){this.handlers[EA]=AA}getHandler(EA){return this.handlers[EA]}},rn=class{static handleAnnotation(EA,AA,_A){const CA=EA.indexOf(" "),SA=-1===CA?EA:EA.substring(0,CA),DA=nn.getHandler(SA);return DA?DA(EA.substring(CA+1),AA,_A):EA}static trimAnnotation(EA){if("string"!=typeof EA)return EA;const AA=EA.indexOf(" "),_A=EA.substring(0,AA),CA=EA.substring(AA+1);return nn.getHandler(_A)?CA:EA}static handleComponentMapping(EA,AA,_A){const CA=tn.getComponent(AA.type);if(!CA||!CA.mapping)return;const SA=CA.mapping(AA.config);if(SA&&SA["@map"]){const AA=SA["@map"],{source:CA}=AA;if(!CA)return;const DA=_A.getValue(CA);if("function"==typeof AA.advanced)AA.advanced(EA,DA);else{const _A=AA.inputs_map;EA[AA.output_property]=[];const CA=EA[AA.output_property];DA.forEach((EA=>{const AA={};Object.keys(_A).forEach((CA=>{let SA=_A[CA];SA&&0===SA.indexOf(".")?(SA=SA.substring(1),AA[CA]=EA[SA]):AA[CA]=SA})),CA.push(AA)}))}}}static getPropertyName(EA=""){if(EA&&Dh.isString(EA)){const AA=EA.startsWith(G.PROPERTY_ANNOTATION)||EA.startsWith(G.ATTACHMENT_ANNOTATION)||EA.startsWith(G.ASSOCIATED_PROPERTY_ANNOTATION),_A=AA?EA.indexOf(" "):-1;return AA?EA.substring(_A+2):EA}return EA}static getLeafPropertyName(EA){if(Dh.isString(EA)&&EA?.startsWith(G.PROPERTY_ANNOTATION)){const AA=this.getPropertyName(EA),_A=AA.split(".");return _A.length<2?AA:_A.pop()}return EA}static isProperty(EA){return Dh.isString(EA)&&!!EA?.startsWith(G.PROPERTY_ANNOTATION)}},sn=EA=>{if(EA){const{stageID:AA,stages:_A=[]}=EA,CA=_A.length;for(let EA=0;EA<CA;EA+=1)if(_A[EA].ID===AA)return"create"===_A[EA].transitionType&&"active"===_A[EA].visited_status}return!1},an=(EA,AA)=>{if(EA&&AA){const _A=Dh.getIn(AA,["assignments","0","assigneeInfo"],{}),{ID:CA,type:SA}=_A;return"worklist"===SA?.toLowerCase()&&CA===EA}return!1},on=EA=>{const{activeActionID:AA,availableActions:_A}=EA||{};if(AA&&_A){const EA=_A.find((EA=>EA.ID===AA));return Boolean(EA)}return!1},cn=(EA,AA)=>{const _A=xh.getPropertyValue(B.CASE_INFO.ACTIVE_ACTION_ID,AA,EA),CA=xh.getPropertyValue(B.CASE_INFO.AVAILABLEACTIONS,AA,EA);let SA=!1;if(CA&&_A){const EA=CA.find((EA=>EA.ID===_A));EA&&(SA=EA.type.toLowerCase()===B.LOCAL_ACTION_TYPE.CASE_WIDE.toLowerCase())}if(EA&&!CA){const AA=hh(EA);SA=AA?.context_data?.actionType===G.CASE}return SA},ln=EA=>yh(null,G.CASE_VIEW_MODE_PROP,EA)===G.PERFORM_MODE&&(EA.includes(G.WORKAREA)||EA.includes(G.MODAL)),un=EA=>{const AA=EA?.parentCaseInfo?.ID;return Boolean(EA&&AA)},dn=(EA,AA,_A)=>{let CA;const SA=EA?.find((EA=>EA.ID===AA))?.actions,DA=SA?.filter((EA=>EA.ID===G.FIX_BROKEN_ASSIGNMENTS))||[];return CA=_A&&DA?.length>0?DA[0].ID:_A||((EA,AA)=>{if(!Array.isArray(EA)||!AA)throw new Error("Invalid parameters passed to getAssignmentActionID API");return EA.find((EA=>EA.ID===AA))?.actions?.[0]?.ID})(EA,AA),CA},pn=(EA,AA,_A)=>{let CA,SA,DA,TA,NA,PA,RA,bA,OA;const vA=hh(EA);return _A?.isTriggeredFromDifferentContext?(CA=vA.caseInfo.assignments[0].ID,SA=vA.caseInfo.ID,DA=vA.caseInfo.assignments,TA=vA.caseInfo.activeActionID,NA=vA.caseInfo.availableActions,PA=vA.caseInfo,RA=vA.caseInfo.businessID,bA=vA.caseInfo.caseTypeID,OA=vA.caseInfo.caseTypeName):(CA=AA.getValue(B.CASE_INFO.ASSIGNMENT_ID),SA=AA.getValue(B.CASE_INFO.CASE_INFO_ID),DA=AA.getValue(B.CASE_INFO.ASSIGNMENTS),TA=AA.getValue(B.CASE_INFO.ACTIVE_ACTION_ID),NA=AA.getValue(B.CASE_INFO.AVAILABLEACTIONS),PA=AA.getValue(B.CASE_INFO.CASE_INFO),RA=AA.getValue(B.CASE_INFO.BUSINESS_ID),bA=AA.getValue(B.CASE_INFO.CASE_TYPE_ID),OA=AA.getValue(B.CASE_INFO.CASE_TYPE_NAME)),{assignmentID:CA,caseID:SA,assignments:DA,localActionID:TA,caseActions:NA,caseInfo:PA,businessID:RA,caseTypeID:bA,caseTypeName:OA}},hn=new class{constructor(){this.contextArray={},this.pauseDuration=2e3,this.waitingToPutUpIndicator=!1}getLoadingContext(EA){let AA=null;return EA&&(({context:AA}=EA),AA||(AA=EA.containerItemID),AA||(AA=EA.contextName)),AA}enableLoadingIndicator(EA,AA=!0){const _A=this.getLoadingContext(EA);_A&&(this.addToContextArray(_A),this.waitingToPutUpIndicator||(this.waitingToPutUpIndicator=!0,this.pauseBeforeShowing(_A).then((EA=>{AA&&void 0!==this.contextArray[EA]&&this.contextArray[EA]>0&&ph({type:de,payload:{context:EA}})}))))}pauseBeforeShowing=EA=>new Promise((AA=>setTimeout((()=>AA(EA)),this.pauseDuration)));disableLoadingIndicator(EA,AA=!0){const _A=this.getLoadingContext(EA);_A&&(this.waitingToPutUpIndicator=!1,this.removeFromContextArray(_A),AA&&void 0!==this.contextArray[_A]&&0===this.contextArray[_A]&&ph({type:pe,payload:{context:_A}}))}addToContextArray=EA=>{void 0===this.contextArray[EA]&&(this.contextArray[EA]=0),this.contextArray[EA]+=1};removeFromContextArray=EA=>{void 0!==this.contextArray[EA]&&this.contextArray[EA]>0&&(this.contextArray[EA]-=1)}},gn=new class{constructor(){this.counterActionMgrId=0,this.actionMgrActions={}}getNextActionMgrId(){return this.counterActionMgrId+=1,this.counterActionMgrId.toString()}register(EA,AA,_A,CA,SA="unknown",DA,TA=!0){if(void 0!==this.actionMgrActions[EA])return null;const NA={actionType:SA,promise:AA,resolve:_A,reject:CA,actionPayload:DA};return this.actionMgrActions[EA]=NA,TA&&hn.enableLoadingIndicator(NA.actionPayload),EA}actionManagerPromise=(EA,AA="")=>{let _A,CA;""===AA&&(AA=this.getNextActionMgrId());const SA=new Promise(((EA,AA)=>{_A=EA,CA=AA}));if(!_A||!CA)throw new Error("resolveFn or rejectFn is not defined.");return this.register(AA,SA,_A,CA,EA),{actionMgrID:AA,promise:SA}};resolveActionByID(EA,AA,_A=!0){const CA=this.actionMgrActions[EA];let SA=EA;return CA?(setTimeout((()=>{CA.resolve(AA)}),0),hn.disableLoadingIndicator(CA.actionPayload,_A)):SA=null,SA}rejectActionByID(EA,AA=!0,_A){const CA=this.actionMgrActions[EA];let SA=EA;return CA?(CA.reject(_A),hn.disableLoadingIndicator(CA.actionPayload,AA)):SA=null,SA}};class fn{constructor(EA,AA,_A={}){this.type=EA,this.name=AA,this.parent=null,this.children=[],this.eventSubscribers=[],this.value="",this.previousValue="|~#-old-#~|",this.props=_A,this.references=new Map}addReference(EA,AA){this.references.set(EA,AA)}getReference(EA){return EA?this.references.get(EA):void 0}getNode(EA,AA,_A){return this.children.find((CA=>CA.type===EA&&CA.name===AA&&CA.props.index===_A))}addNode(EA,AA,_A={}){let CA=this.getNode(EA,AA,_A.index);return CA?CA.props=_A:(CA=new fn(EA,AA,_A),CA.parent=this,this.children.push(CA)),CA}addEventListener(EA){this.eventSubscribers.push(EA)}triggerEvent(EA,AA=!1){this.eventSubscribers.forEach((AA=>{AA(EA)})),!AA&&this.parent&&this.parent.triggerEvent(EA)}setPreviousDefaultValue(){"|~#-old-#~|"===this.previousValue&&(this.previousValue=this.value)}removeReference(EA,AA){const _A=this.references.get(EA);_A?.props?.index===AA&&this.references.delete(EA)}removeChildNode(EA){const AA=this.children.findIndex((AA=>AA.name.startsWith(EA)));-1!==AA&&this.children.splice(AA,1)}removeChildren(){this.children.splice(0,this.children.length)}removeNode(EA,AA){for(let _A=this.children.length-1;_A>=0;_A-=1){const CA=this.children[_A];if(CA.props.index===AA&&CA.name===EA){this.children.splice(_A,1);break}}}}const mn=fn,yn=class{constructor(EA,AA,_A,CA={}){this.type=B.CONTEXT_TREE_NODE_TYPES.WHEN,this.subType=EA,this.referenceName=AA,this.name=_A,this.props=CA}},In=/(([^.]+)\[\d+\])/g,En=EA=>{if((EA?.split(".")??[]).length<3)return[EA];const AA=EA?.match(In);if(!AA)return[EA];let _A,CA=AA[AA.length-1];return EA=EA?.split(CA)[0],EA=EA?.substring(0,EA.length-1),[CA,_A]=CA.split("["),_A=_A?.split("]")[0],[EA,CA,_A]},An=(EA,AA)=>{if(!EA.startsWith(AA))return-1;const _A=EA.slice(AA.length).match(/\[([0-9]+)\]/);return _A?parseInt(_A[1],10):-1},{FIELD:_n,WHEN:Cn,DECLARATIVE_TARGET:Sn,PAGELIST:Tn}=G.CONTEXT_TREE_NODE_TYPES,Nn=class{constructor(EA,AA,_A={}){this.type=EA,this.name=AA,this.children=[],this.eventSubscribers=[],this.props=_A,this.references=new Map([[_n,new Map],[Cn,new Map],[Sn,new Map]])}addReference(EA,AA){if(this.references.has(AA.type)){const _A=this.references.get(AA.type);_A.set(EA,AA),this.references.set(AA.type,_A)}else if(AA.type===Tn){const _A=this.references.get(_n);_A.set(EA,AA),this.references.set(_n,_A)}}removePageListNodes(EA,AA){const _A=this.children.filter((AA=>AA.name.startsWith(EA))).filter((_A=>{const CA=An(_A.name,EA);return-1!==CA&&+CA>=AA}));_A.length>0&&_A.forEach((EA=>{this.removeChildNode(EA.name,AA)}))}removeChildNode(EA,AA){const _A=this.children.findIndex((AA=>AA.name.startsWith(EA)));if(-1!==_A){const[AA]=this.children.splice(_A,1),CA=AA?.parent;CA?.removeChildNode(EA)}const CA=this.references.get(_n),SA=this.references.get(Sn);[...CA.keys(),...SA.keys()].filter((AA=>AA.startsWith(EA))).filter((EA=>{const[,,_A]=En(EA);return+_A>=AA})).forEach((EA=>{const AA=CA.get(EA).parent;AA?.removeChildren(),CA.delete(EA)}))}getReference(EA,AA){if(this.references.has(AA))return this.references.get(AA)?.get(EA)}getNode(EA,AA,_A){return this.children.find((CA=>CA.type===EA&&CA.name===AA&&CA.props.index===_A))}addNode(EA,AA,_A={}){let CA=this.getNode(EA,AA,_A.index);return CA?CA.props=_A:(CA=new mn(EA,AA,_A),CA.parent=this,this.children.push(CA)),CA}addEventListener(EA){this.eventSubscribers.push(EA)}triggerEvent(EA){this.eventSubscribers.forEach((AA=>{AA(EA)}))}removeReference(EA,AA,_A){const CA=this.references.get(AA),SA=CA?.get(EA);SA?.props?.index===_A&&CA.delete(EA)}removeNode(EA,AA){for(let _A=this.children.length-1;_A>=0;_A-=1){const CA=this.children[_A];if(CA.props.index===AA&&CA.name===EA){this.children.splice(_A,1);break}}}addWhen(EA,AA,_A,CA,SA){if(!(_A&&CA&&EA&&AA))return;_A.startsWith(".")&&(_A=_A.substring(1));const DA=`${EA}.${_A}.${CA}`,TA=new yn(AA,_A,CA,SA),NA=this.references.get("WHEN");NA?.set(DA,TA)}},{VIEW:Pn,FIELD:Rn,CONTEXT:Dn,DECLARATIVE_TARGET:bn,WHEN:On}=B.CONTEXT_TREE_NODE_TYPES,vn=new class{constructor(){this.rootNodes={}}_isContextNodeExist(EA){return Object.keys(this.rootNodes).includes(EA)}addContextNode(EA){if(!this._isContextNodeExist(EA)){const AA=new Nn(Dn,EA);this.rootNodes[EA]=AA}return this.rootNodes[EA]}getContextNode(EA){return EA?this.rootNodes[EA]:void 0}addPageNode(EA,AA){return this.addContextNode(EA).addNode("PAGE",AA)}_addParentViewNode(EA,AA,_A){const CA=this.addContextNode(EA).addNode("PAGE",AA);let SA=CA.getReference(_A);return SA||(SA=CA.addNode("VIEW",_A),CA.addReference(_A,SA)),SA}pushChildPageNodeToParentView(EA,AA,_A){const CA=EA.children;let SA=!1;if(CA)for(let DA=0;DA<CA.length;DA+=1)if(CA[DA].name===_A){SA=!0;break}SA||CA.push(AA),AA.parent=EA}addViewNode(EA,AA,_A,CA){const SA=this.addContextNode(EA).addNode("PAGE",AA);let DA=null;DA=CA&&_A!==CA?this._addParentViewNode(EA,AA,CA).addNode("VIEW",_A):SA.addNode("VIEW",_A),SA.addReference(_A,DA);const TA=AA.split(".");for(;TA.length>0;){TA.pop();const _A=TA.join("."),DA=this.getContextNode(EA)?.getNode("PAGE",_A),NA=DA?.getReference(CA);if(NA){this.pushChildPageNodeToParentView(NA,SA,AA);break}}return DA}getViewNode(EA,AA,_A){return this.getContextNode(EA)?.getNode("PAGE",AA)?.getReference(_A)}addPageListNode(EA,AA,_A,CA,SA){if(!CA)return;CA.startsWith(".")&&(CA=CA.substring(1));const DA=this.addContextNode(EA),TA=DA.addNode("PAGE",AA)?.getReference(_A)?.addNode("PAGELIST",`${AA}.${CA}`,SA);return TA&&DA.addReference(`${AA}.${CA}`,TA),TA}updatePageListNode(EA,AA,_A,CA){_A&&(_A.startsWith(".")&&(_A=_A.substring(1)),this.addContextNode(EA).removePageListNodes(`${AA}.${_A}`,CA))}removeFieldNode(EA,AA,_A,CA,SA){const DA=this.getContextNode(EA);DA?.getNode("PAGE",AA)?.getReference(_A)?.removeNode(`${AA}${CA}`,SA),DA?.removeReference(`${AA}${CA}`,Rn,SA),DA?.removeReference(`${AA}${CA}`,bn,SA)}removeViewNode(EA,AA,_A,CA){const SA=this.getContextNode(EA),DA=SA?.getNode("PAGE",AA),TA=DA?.getReference(_A);this.removeChildViewNodes(EA,AA,_A,CA);const NA=TA?.parent?.children?.findIndex((EA=>EA.name===_A))??-1;NA>-1&&TA?.parent?.children.splice(NA,1)}removeChildViewNodes(EA,AA,_A,CA){const SA=this.getContextNode(EA),DA=SA?.getNode("PAGE",AA),TA=DA?.getReference(_A);TA?.children.forEach((DA=>{"PAGE"===DA.type?this.removeViewNode(EA,DA.name,_A,CA):DA.type===Pn?this.removeChildViewNodes(EA,AA,DA.name,CA):(SA.removeReference(DA.name,Rn,DA.props.index),SA.removeReference(DA.name,bn,DA.props.index),"PAGELIST"!==DA.type&&"Address"!==DA.props?.componentName||this.deleteAllListNodes(EA,DA.name))})),DA?.references.delete(_A)}deleteAllListNodes(EA,AA){const _A=_A=>{const CA=this.getContextNode(EA),SA=CA?.references?.get(_A);if(SA)for(const[EA]of SA)(EA===AA||EA.startsWith(`${AA}.`)||EA.startsWith(`${AA}[`))&&CA?.references?.get(_A)?.delete(EA)};_A(Rn),_A(bn)}deleteListNode(EA,AA,_A){const CA=CA=>{const SA=this.getContextNode(EA),DA=SA?.references?.get(CA);if(DA)for(const[EA]of DA)EA.includes(`${AA.join(".")}[${_A}]`)&&SA?.references?.get(CA)?.delete(EA)};CA(Rn),CA(bn)}getPageListNode(EA,AA,_A,CA){const SA=this.getContextNode(EA)?.getNode("PAGE",AA)?.getReference(_A);return SA?.children.find((EA=>"PAGELIST"===EA.type&&EA.name===`${AA}.${CA}`))}getFieldNode(EA,AA,_A,CA){return this.getViewNode(EA,AA,_A)?.getNode(Rn,CA)}_findViewNode(EA,AA,_A,CA){let SA=CA.addNode("PAGE",AA)?.getReference(_A);if(SA)return SA;const DA=AA.split(".");for(;DA.length>0;){DA.pop();const EA=DA.join(".");if(SA=CA.addNode("PAGE",EA)?.getReference(_A),SA)return SA}return this.addViewNode(EA,AA,_A)}addFieldNode(EA,AA,_A,CA,SA,DA={}){const TA=this.addContextNode(EA),NA=this._findViewNode(EA,AA,_A,TA),{isDeclarativeTarget:PA}=DA;let RA;if(RA=PA?NA.addNode(bn,`${AA}${CA}`,DA):NA.addNode(Rn,`${AA}${CA}`,DA),RA){const _A=`${AA}${CA}`;if("Address"===RA.props?.componentName&&this.deleteAllListNodes(EA,RA.name),TA.addReference(_A,RA),RA.value=SA,RA.setPreviousDefaultValue(),RA.props.isInsideList){const EA=AA.substring(0,AA.lastIndexOf("["));let _A=TA.getReference(EA,Rn);_A||(_A=NA.addNode(Rn,EA,{}),TA.addReference(EA,_A))}}return RA}removeContextTreeNode(EA){delete this.rootNodes[EA]}onViewMutate(EA,AA,_A,CA){this.getViewNode(EA,AA,_A)?.addEventListener(CA)}mutateField(EA,AA,_A,CA){const SA=this.getContextNode(EA),[DA,TA,NA]=En(AA);_A.startsWith(".")&&(_A=_A.substring(1)),TA&&this.mutatePageList(EA,DA,TA,{...CA,rowIndex:NA},!0);const PA=SA?.getReference(`${AA}.${_A}`,Rn);PA&&PA instanceof mn&&PA.triggerEvent(CA)}onPageListMutate(EA,AA,_A,CA,SA){this.getPageListNode(EA,AA,_A,CA)?.addEventListener(SA)}mutatePageList(EA,AA,_A,CA,SA=!1){const DA=this.getContextNode(EA),TA=DA?.getReference(`${AA}.${_A}`,Rn);TA&&TA instanceof mn&&TA.triggerEvent(CA,SA)}getFieldsList(EA){const AA=this.getContextNode(EA);return AA?.references.get(Rn)}getFieldReferenceForProperty(EA,AA){return this.getContextNode(EA)?.references?.get(Rn)?.get(AA)}getFieldReferencePreviousValue(EA,AA){let _A=this.getContextNode(EA)?.references?.get(Rn)?.get(AA);return _A||(_A=this.getContextNode(EA)?.references?.get(bn)?.get(AA)),_A?.value}updateFieldNodeValue(EA,AA,_A){const CA=this.getContextNode(EA)?.references?.get(Rn)?.get(AA);CA instanceof mn&&CA&&(CA.previousValue=CA.value,void 0===CA.value&&(CA.previousValue=_A),CA.value=_A)}getContextReferences(EA){if(!this.getContextNode(EA))return;const AA=this.getContextReferencesByType(EA,Rn),_A=this.getContextReferencesByType(EA,bn);return new Map([...AA.entries(),..._A.entries()])}getContextReferencesByType(EA,AA){return this.getContextNode(EA)?.references.get(AA)||new Map}isFieldExists(EA,AA){return!!this.getContextReferencesByType(EA,Rn)?.get(AA)||!!this.getContextReferencesByType(EA,bn)?.get(AA)}addWhenNode(EA,AA,_A,CA,SA,DA){const TA=this.getContextNode(EA);TA?.addWhen(AA,_A,CA,SA,DA)}getDeclarativeTargets(EA){const AA=this.getContextNode(EA),_A=AA?.references?.get(bn)||new Map,CA=[];return _A.forEach((EA=>{const AA=EA?.props||{},{propertyName:_A=""}=AA,SA=AA.pageReference??B.CASE_INFO.CASE_INFO_CONTENT;CA.push({pageReference:SA,name:_A})})),CA}getWhens(EA){const AA=this.getContextNode(EA),_A=AA?.references?.get(On)||new Map,CA=[];return _A.forEach((EA=>{const AA=EA.subType,_A=EA.referenceName,SA=EA.name,DA=EA?.props?.pageReference??B.CASE_INFO.CASE_INFO_CONTENT;CA.push({name:SA,pageReference:DA,referenceName:_A,type:AA})})),CA}},xn={REFRESH_DATA:"REFRESH_DATA",WHENS:"WHENS",DECLARE_EXPRESSIONS:"DECLARE_EXPRESSIONS",REFRESH:"refresh",REFRESH_CASE_DATA:"refreshCaseData",REFRESH_ASSIGNMENT_DATA:"refreshAssignmentData",REFRESH_CASE_VIEW:"refreshCaseView",RECALCULATE:"recalculate",RECALCULATE_CASE_DATA:"recalculateCaseData",RECALCULATE_ASSIGNMENT_DATA:"recalculateAssignmentData"},wn=EA=>({type:xn.REFRESH_DATA,payload:EA}),Mn={},Ln=(EA,AA,_A,CA,SA)=>{if(!(EA&&_A&&AA))return;const DA=SA.actionMgrID||gn.getNextActionMgrId(),TA={ID:EA,actionID:AA,context:_A,caseWideAction:CA,options:{...SA,actionMgrID:DA}};SA.isFillFormWithAI?ph((EA=>({type:Et,payload:EA}))(TA)):ph(wn(TA))},Un=(EA,AA,_A,CA,SA)=>{EA&&_A&&AA&&(CA&&(CA=Dh.convertPageRefToClipboardPageNotation(CA)),ph(wn({ID:EA,viewID:AA,context:_A,options:SA,caseViewAction:!0,interestPage:CA})))},Fn=(EA,AA,_A)=>{Mn[AA]||(Mn[AA]={}),EA&&!Mn[AA][EA]&&(Mn[AA][EA]={pageReference:_A})},jn=(EA,AA)=>{const _A={pageName:(CA=AA.substring(AA.lastIndexOf(" ")+1)).substring(0,CA.lastIndexOf(".")),propertyName:CA.substring(CA.lastIndexOf(".")+1)};var CA;const SA=Vp(_A.propertyName,EA.getValue(G.CLASS_ID,_A.pageName));return!!SA?.isDeclarativeTarget},Vn=EA=>{let AA=!1;if(EA.isWhenExist())AA=!0;else{const _A=EA.getRawMetadata()?.config?.value;if(_A){const CA=Vp(rn.getLeafPropertyName(_A),xh.resolveClassID(_A,EA.getPageReference(),EA.getContextName()));AA=!!CA?.isDeclarativeTarget,!AA&&CA?.datasource?.parameters&&(AA=((EA,AA)=>{let _A=!1;if(Array.isArray(AA)){const CA=AA=>{const CA=AA.value;return CA.startsWith("@P")&&(_A=jn(EA,CA)),_A};AA.some(CA)}else if("object"==typeof AA)for(const CA in AA)if(AA[CA].startsWith("@P")&&(_A=jn(EA,AA[CA]),_A))break;return _A})(EA,CA?.datasource?.parameters)),AA||(AA=CA?.datasource?.tableType===G.DECISION)}}AA&&Fn(EA.getCurrentView(),EA.getContextName(),EA.getPageReference())},kn=(EA,AA,_A)=>{const CA=cn(EA,AA),SA=xh.getPropertyValue(B.CASE_INFO.ACTIVE_ACTION_ID,AA,EA)?xh.getPropertyValue(B.CASE_INFO.ACTIVE_ACTION_ID,AA,EA):xh.getPropertyValue(B.CASE_INFO.ASSIGNMENTACTION_ID,AA,EA);let DA;DA=CA?xh.getPropertyValue(B.CASE_INFO.CASE_INFO_ID,AA,EA):xh.getPropertyValue(B.CASE_INFO.ASSIGNMENT_ID,AA,EA)?xh.getPropertyValue(B.CASE_INFO.ASSIGNMENT_ID,AA,EA):xh.getPropertyValue(B.CONTEXT_DATA_ASSIGNMENTID,AA,EA),Ln(DA,SA,EA,CA,_A)},$n=EA=>{const{context:AA,pageReference:_A}=EA,CA=(EA=>Mn[EA]&&Object.keys(Mn[EA]).length>0&&ln(EA))(AA);if(CA)if(xh.getPropertyValue(G.CONTEXT_DATA_MODAL_VIEW.IS_MULTI_RECORD_DATA,_A,AA)){const EA=xh.getPropertyValue(B.CASE_INFO.CASE_INFO_ID,_A,AA),CA=xh.getPropertyValue(G.CONTEXT_DATA_MODAL_VIEW.VIEW_NAME,_A,AA),SA=xh.getPropertyValue(G.CONTEXT_DATA_MODAL_VIEW.INTERESTPAGE,_A,AA);Un(EA,CA,AA,SA,{})}else kn(AA,_A,{})},Bn=(EA,AA)=>{const{requestType:_A}=EA;return EA?.options?.refreshFor&&"refresh"===_A&&(AA+=`?refreshFor=${EA?.options?.refreshFor}`),EA?.options?.isFillFormWithAI&&"refresh"===_A&&(AA+="?fillFormWithAI=true"),AA},Gn=EA=>{const AA=(EA=>{const AA=[];return vn.getDeclarativeTargets(EA).forEach((({name:EA,pageReference:_A})=>{const CA=_A.split(".");CA.shift();let SA=CA.join(".");EA&&SA&&(SA=Dh.convertPageRefToClipboardPageNotation(SA),AA.push({name:EA,context:SA}))})),AA})(EA),_A=(EA=>{const AA=[];return vn.getWhens(EA).forEach((({name:EA,type:_A,pageReference:CA})=>{const SA=CA.split(".");SA.shift();let DA=SA.join(".");EA&&DA&&(DA=Dh.convertPageRefToClipboardPageNotation(DA),AA.push({name:EA,context:DA,type:_A}))})),AA})(EA);return{fieldsWithDeclarativeTargets:AA,whens:_A}},Wn=(EA,AA)=>{const _A=EA.url?.includes("/refresh?refreshFor="),CA=AA.url?.includes("/refresh?refreshFor="),SA=EA.url?.endsWith("/refresh")&&!_A,DA=AA.url?.endsWith("/refresh")&&!CA;if(SA&&DA)return EA.url===AA.url;if(SA&&CA)return!0;if(_A){if(DA)return"CANCEL_REFRESH";if(CA)return!1}return!1},Hn=class{static formatPageReference(EA){const AA=EA?.split(".").map((EA=>{if(EA.includes("[")){const AA=EA.indexOf("["),_A=EA.indexOf("]"),CA=EA.substring(AA+1,_A),SA=Number(CA)+1;return`${EA.substring(0,AA)}(${SA})${EA.substring(_A+1)}`}return EA}));return AA.join(".")}static getFieldLabel(EA){let AA=EA?.label;if(!AA&&EA?.inheritedProps){const _A=EA?.inheritedProps;(_A.showLabel??1)&&(AA=_A.label)}return AA}},qn={CONTENT_FIELDS_PATH:[G.CONTEXT_DATA,G.CASE_INFO.CASE_INFO,G.CONTENT],FIELD_MESSAGES_PATH:[G.CONTEXT_DATA,G.CASE_INFO.CASE_INFO,G.CONTENT,G.SUMMARY_OF_MESSAGES,G.PROPERTY_MESSAGES],PAGE_MESSAGES_PATH:[G.CONTEXT_DATA,G.SUMMARY_OF_MESSAGES,G.PAGE_MESSAGES],HTTP_MESSAGES_PATH:[G.CONTEXT_DATA,G.SUMMARY_OF_MESSAGES,G.HTTP_MESSAGES],CASE_MESSAGE_PATH:[G.CASEMESSAGES]},zn=(EA="",AA="",_A,CA)=>{let SA,DA=[];null!==EA&&(SA=(EA=>EA?.startsWith(".")?EA.substring(1).split("."):EA.split("."))(EA));const TA=AA&&AA.startsWith(".")?AA.substr(1):AA;if(_A===G.PROPERTY&&EA||EA){DA=[G.CONTEXT_DATA,...TA.split(".")];for(let EA=0;EA<SA.length-1;EA+=1)DA.push(SA[EA]);DA.push(G.SUMMARY_OF_MESSAGES,G.PROPERTY_MESSAGES,SA[SA.length-1])}else _A===B.PAGE?DA=[...qn.PAGE_MESSAGES_PATH]:_A===G.HTTP?DA=[...qn.HTTP_MESSAGES_PATH]:_A===G.CASEMESSAGES?DA=[...qn.CASE_MESSAGE_PATH]:CA&&(DA=[G.CONTEXT_DATA,...TA.split(".")]);return DA.filter(Boolean)},Yn=(EA,AA,_A)=>{const CA={content:{}},SA=`${AA}[${_A}]`,DA=Dh.getIn(EA?.content,SA.split("."));return DA&&Dh.setIn(CA.content,SA.split("."),{...DA}),CA},Kn=(EA,AA,_A,CA,SA,DA,TA={})=>{const NA=((EA,AA,_A)=>AA<_A?EA.filter((EA=>parseInt(EA.match(/\d+/)?.[0],10)>AA&&parseInt(EA.match(/\d+/)?.[0],10)<=_A)):EA.filter((EA=>parseInt(EA.match(/\d+/)?.[0],10)<AA&&parseInt(EA.match(/\d+/)?.[0],10)>=_A)))(_A,CA,SA),PA=CA>SA?"up":"down";NA&&NA?.length>0&&NA?.forEach((_A=>{const CA=parseInt(_A.match(/\d+/)?.[0],10),SA=`${DA}[${CA}]`;TA[`${DA}[${CA+("up"===PA?1:-1)}]`]=Dh.getIn(EA[AA],[G.CONTEXT_DATA,...SA.split(".")]),Dh.deleteIn(EA[AA],[G.CONTEXT_DATA,...SA.split(".")])}));const RA=Object.keys(TA);RA.length>0&&RA.forEach((_A=>{Dh.setIn(EA[AA],[G.CONTEXT_DATA,..._A.split(".")],TA[_A])}))},Xn=(EA,AA,_A,CA,SA)=>{const DA=Dh.deepClone(Dh.getIn(EA,[`${AA}`])),TA=Dh.getIn(DA,[G.CONTEXT_DATA,G.CASE_INFO.CASE_INFO]);if(!TA)return;const NA=_A.substring(0,_A.lastIndexOf(".")),PA=_A.substring(_A.lastIndexOf(".")+1),RA=((EA,AA,_A)=>{const CA=Dh.getIn(EA,[G.CONTEXT_DATA,..._A.split(".")],{});return Object.keys(CA).filter((EA=>EA.includes(`${AA}[`)))})(DA,PA,NA);if(0!==RA.length)if(Yn(TA,PA,CA).content[`${PA}[${CA}]`]){const TA={},NA=`${_A}[${CA}]`,PA=Dh.getIn(DA,[G.CONTEXT_DATA,...NA.split(".")]);TA[`${_A}[${SA}]`]=PA,Dh.deleteIn(EA[AA],[G.CONTEXT_DATA,...NA.split(".")]),Kn(EA,AA,RA,CA,SA,_A,TA)}else Kn(EA,AA,RA,CA,SA,_A)},Jn=EA=>{const{type:AA,property:_A,category:CA,context:SA,pageReference:DA}=EA;let TA;_A&&(TA=_A.slice(1));const NA=hh(SA);let PA=[];const RA=Dh.getIn(NA,zn(TA,DA,CA));return AA&&"all"!==AA?(RA&&Array.isArray(RA)&&RA.length>0&&(PA=RA.filter((EA=>EA.type===AA))),AA===B.MESSAGES.MESSAGES_TYPE_ERROR&&PA.length>0&&_A&&vn.mutateField(SA,DA,_A,{messages:[...PA],type:B.MESSAGES.MESSAGES_TYPE_ERROR,fieldName:_A}),PA):RA},Qn=EA=>{const{property:AA,pageReference:_A,category:CA,context:SA,type:DA,isListEntry:TA,clearContextMessages:NA,deletingIndex:PA}=EA,RA={context:SA,type:DA};AA&&!TA?(vn.mutateField(SA,_A,AA,{type:rt,fieldName:AA}),RA.property=AA,RA.pageReference=_A):TA?(RA.pageReference=_A,RA.isListEntry=TA,RA.deletingIndex=PA):RA.category=CA,ph(NA?{type:rt,payload:{stateObj:EA.stateObj,context:SA}}:{type:rt,payload:RA})},Zn=EA=>{const{messages:AA,property:_A,pageReference:CA,category:SA,context:DA}=EA,TA={messages:AA,context:DA};_A?(TA.property=_A,TA.pageReference=CA):TA.category=SA,ph({type:nt,payload:TA})},er=(EA,AA,_A)=>{for(const CA of Object.keys(EA))AA.push(CA),CA===G.SUMMARY_OF_MESSAGES?_A.push([...AA]):"object"==typeof EA[CA]&&er(EA[CA],AA,_A),AA.pop();return _A},tr=(EA,AA)=>{let _A=Jn({context:G.APP.ROOT,category:"HTTP"});if(fp.getRenderingMode()===G.EMBED){const EA=Jn({context:G.APP.APP,category:"HTTP"});EA&&(_A=_A?_A.concat(EA):EA)}if(EA){const EA=Jn({context:AA,category:"HTTP"});_A?EA&&(_A=_A.concat(Jn({context:AA,category:"HTTP"}))):_A=Jn({context:AA,category:"HTTP"})}return _A},nr=EA=>{let AA=null;AA=Nd(EA)[0]?Ed(Nd(EA)[0]):EA,AA&&Qn({context:AA,stateObj:hh(AA),clearContextMessages:!0})},rr={addMessages:Zn,getValidationErrorMessages:EA=>{const AA=hh(EA),_A=[],CA=Dh.getIn(AA,[...qn.CONTENT_FIELDS_PATH])||{};return er(CA,[],[]).forEach((EA=>{const AA=Dh.getIn(CA,[...EA,G.PROPERTY_MESSAGES]);AA&&Object.keys(AA).forEach((EA=>{AA[EA].forEach((EA=>{EA.type===G.MESSAGES.MESSAGES_TYPE_ERROR&&(EA.fieldLabel?_A.push({label:`${EA.fieldLabel}:`,description:EA.message}):_A.push(Ip.getLocaleValue(EA.message,"Messages")))}))}))})),_A},getMessages:Jn,clearMessages:Qn,getRootContainerHttpMessages:tr,clearContextMessagesInActiveWorkArea:nr},sr=rr,ar=class{static execute(EA,AA,_A,CA){const SA={};Object.prototype.hasOwnProperty.call(_A,"nonFormProperties")&&(_A.nonFormProperties.forEach((EA=>{SA[EA]=_A[EA],delete _A[EA]})),delete _A.nonFormProperties);const DA={instruction:"INSERT",content:{...Dh.unflatten(_A)}},TA=JSON.parse(JSON.stringify(DA));return delete TA.content.classID,{instruction:{target:Dh.buildInstructionPageReference(CA,EA),content:{...TA.content},listIndex:AA,instruction:"INSERT"},actionPayload:DA,displayPropertPayload:SA}}},or=class{static execute(EA,AA,_A,CA,SA,DA,TA){const NA={instruction:"UPDATE",content:{...Dh.unflatten(CA)},isDefault:TA},PA={content:{...NA.content},target:Dh.buildInstructionPageReference(SA,AA),listIndex:_A,instruction:"UPDATE"};return DA||ph(fg({...NA,listIndex:_A-1,context:EA,referenceList:`${SA}${AA}`})),PA}},ir=class{static execute(EA,AA,_A){return{target:Dh.buildInstructionPageReference(_A,EA),listIndex:AA,instruction:"DELETE"}}},cr=class{static getDeleteAllInstruction(EA,AA){return{instruction:"DELETE ALL",target:Dh.buildInstructionPageReference(EA,AA)}}static execute(EA,AA,_A,CA){CA||ph(fg({instruction:"DESELECT_ALL",context:EA,referenceList:`${_A}${AA}`}))}},lr=class{static execute(EA,AA,_A,CA){return{target:Dh.buildInstructionPageReference(CA,EA),listMoveToIndex:_A,listIndex:AA,instruction:"MOVE"}}},ur=class{static execute(EA,AA,_A,CA){return{content:{...{...Dh.unflatten(_A)}},target:Dh.buildInstructionPageReference(CA,AA),instruction:"REPLACE"}}},dr=class{static execute(EA,AA){return{target:Dh.buildInstructionPageReference(AA,EA),instruction:"DELETE"}}},pr=class{constructor(EA){this.next=null,this.automatic=!1,this.instruction=EA,this.previous=null,this.childrenStateMachines=[]}},hr=class{constructor(EA,AA,_A){this.target=EA,this.pageReference=AA,this.contextName=_A,this.root=null,this.current=null,this.changeList={},this.targetPageReference=AA+EA,this.children=[],this.visibility=!0}addChild(EA){null===this.current&&this.insertNode({}),this.current.childrenStateMachines.push(EA)}insertNode(EA){const AA=new pr(EA);null===this.root&&(this.root=AA),null!==this.current&&(AA.previous=this.current,this.current.next=AA),this.current=AA}buildChildSumbitPageInstructions(EA,AA){let _A=[];return EA.childrenStateMachines.forEach((EA=>{EA.visibility&&(_A=_A.concat(EA.buildSubmitPageInstructions(AA)))})),_A}buildSubmitPageInstructions(EA=!1){let AA=this.root,_A=[];for(;AA;)!AA.instruction.instruction||EA&&AA.automatic||_A.push(AA.instruction),_A=[..._A,...this.buildChildSumbitPageInstructions(AA,EA)],AA=AA.next;return _A}initPageInstructions(EA,AA,_A){const CA=EA.getValue(this.target)||[];AA?CA.forEach(((EA,CA)=>{AA.forEach((AA=>{const SA=nl(AA),DA={};let TA=!0;_A&&(DA[nl(_A)]=crypto.randomUUID(),TA=!1);const NA={[SA]:Dh.getIn(EA,SA),...DA};this.update(NA,CA+1,TA,{isDefault:!0})}))})):CA.forEach(((EA,AA)=>{if(_A&&!EA[nl(_A)]){const EA={};EA[nl(_A)]=crypto.randomUUID(),this.update(EA,AA+1,!1,{isDefault:!0})}}))}getChangeList(){return this.changeList}initChangeList(EA){this.changeList[this.targetPageReference]=this.changeList[this.targetPageReference]||[],this.changeList[this.targetPageReference][EA]=this.changeList[this.targetPageReference][EA]||{}}update(EA,AA,_A,CA){const{isDefault:SA=!1,skipPageinstruction:DA}=CA,TA=or.execute(this.contextName,this.target,AA,EA,this.pageReference,_A,SA);if(!DA){if(this.initChangeList(AA-1),!SA){const _A=this.changeList?.[this.targetPageReference]?.[AA-1].content;this.changeList[this.targetPageReference][AA-1]=Ch(Dh.deepClone(_A),EA,CA)}if(this.current?.automatic!==SA||this.current?.instruction?.listIndex!==AA||"UPDATE"!==this.current?.instruction.instruction)this.insertNode(TA),SA&&(this.current.automatic=!0);else{const AA=this.current.instruction.content;this.current.instruction.content=Ch(Dh.deepClone(AA),Dh.unflatten(EA),CA)}}}delete(EA,AA){const _A=ir.execute(this.target,EA,this.pageReference);this.changeList[this.targetPageReference]?.splice(EA-1,1),this.insertNode(_A),AA||ph(fg({instruction:"DELETE",listIndex:EA-1,context:this.contextName,referenceList:`${this.pageReference}${this.target}`}))}insert(EA,AA,_A,CA){const{instruction:SA,actionPayload:DA={content:{}},displayPropertPayload:TA={}}=ar.execute(this.target,AA,EA,this.pageReference),{isDefault:NA=!1}=CA;if(this.initChangeList(AA-1),!NA){const _A=this.changeList?.[this.targetPageReference]?.[AA-1].content;this.changeList[this.targetPageReference][AA-1]=Ch(Dh.deepClone(_A),EA,CA)}this.root&&!this.root.instruction?.instruction&&this.current&&!this.current.instruction?.instruction?this.root.instruction=SA:this.insertNode(SA),_A||(DA.content={...DA.content,...TA},ph(fg({...DA,listIndex:AA-1,context:this.contextName,referenceList:`${this.pageReference}${this.target}`}))),NA&&(this.current.automatic=!0)}replacePage(EA){const AA=ur.execute(this.contextName,this.target,EA,this.pageReference);this.insertNode(AA)}deletePage(){const EA=dr.execute(this.target,this.pageReference);this.insertNode(EA)}move(EA,AA){const _A=this.changeList[this.targetPageReference]?.splice(EA-1,1);this.changeList[this.targetPageReference]?.splice(AA-1,0,_A[0]);const CA=lr.execute(this.target,EA,AA,this.pageReference);this.insertNode(CA),ph(fg({listIndex:EA-1,listMoveToIndex:AA-1,context:this.contextName,referenceList:`${this.pageReference}${this.target}`,instruction:"MOVE"}))}deleteAll(EA){const AA=cr.getDeleteAllInstruction(this.pageReference,this.target);this.changeList[this.targetPageReference]=[],this.insertNode(AA),cr.execute(this.contextName,this.target,this.pageReference,EA)}updatePage(EA){const AA=this.current.instruction.content;this.current.instruction.content=Ch(Dh.deepClone(AA),EA)}},gr={},fr={},mr={},yr=(EA,AA,_A)=>{const CA=EA.getContextName();gr[CA]||(gr[CA]={}),gr[CA][AA]||(gr[CA][AA]={content:[]}),fr[CA]||(fr[CA]=[],mr[CA]=[]),el.isStateMachineExist(CA,_A,AA)||el.setStateMachine(CA,AA,_A,new hr(AA,_A,CA))},Ir=EA=>Hn.formatPageReference(EA),Er=(EA,AA)=>{const _A=fr[EA],CA=mr[EA],SA=nl(AA),DA=SA?.substring(0,SA.indexOf("["));CA?.indexOf(DA)<0&&mr[EA].push(DA),_A?.indexOf(SA)<0&&fr[EA].push(SA)},Ar=EA=>{delete fr[EA]},_r=EA=>el.buildPageInstructionsByContext(EA),Cr=EA=>el.buildPageInstructionsByContext(EA,!0),Sr=EA=>{el.clearStateMachines(EA),delete gr[EA]},Tr=(EA,AA,_A,CA)=>{let[,SA]=AA.split(`${EA}[${CA}]`);""!==SA&&void 0!==SA&&(SA=SA.startsWith(".")?SA.substring(1):SA,Object.keys(_A).forEach((EA=>{_A[`${SA}.${EA}`]=_A[EA],delete _A[EA]})))},Nr=(EA,AA,_A,CA,SA)=>{const{skipStateUpdate:DA=!1}=SA||{},TA=_A.getContextName(),NA=_A.getReferenceList(),PA=CA||_A.getPageReference(),RA=Ir(NA);yr(_A,RA,PA),Er(TA,`${NA}[${AA}]`),Tr(NA,PA,EA,AA);const bA={instruction:G.LIST_ACTIONS.INSERT,content:{...Dh.unflatten(EA)}};delete JSON.parse(JSON.stringify(bA)).content.classID,el.getStateMachine(TA,PA,RA).insert(EA,AA+1,DA,{})},Pr=(EA,AA,_A=0,CA={})=>{const{skipStateUpdate:SA=!0,pageRef:DA}=CA,TA=AA.getContextName();let NA=AA.getReferenceList();const PA=DA||AA.getPageReference();NA||(NA=((EA,AA)=>{const _A=EA.indexOf(B.CONTENT)+B.CONTENT.length,CA=EA.lastIndexOf(`[${AA}]`);return EA.substring(_A,CA)})(PA,_A));const RA=Ir(NA);yr(AA,RA,PA),Er(TA,`${NA}[${_A}]`),Tr(NA,PA,EA,_A),el.getStateMachine(TA,PA,RA).update(EA,_A+1,SA,CA)},Rr=(EA,AA)=>{const[,_A]=EA.split("."),CA=AA?.split(".").pop();return _A===CA},Dr=(EA,AA,_A)=>{const CA={};return Object.values(EA).forEach((EA=>{if(Rr(EA,_A)){const _A=Dh.getPropertyName(EA),SA=_A.substr(_A.indexOf(".")+1).split(".");if(SA.length>1){let EA=Dh.getIn(AA,SA)??"";if(!EA){const _A=`!P!${SA.join(":")}`;EA=Dh.getIn(AA,_A)??""}Dh.setIn(CA,SA,EA)}else{const EA=Dh.getIn(AA,SA)??"";CA[SA[SA.length-1]]=EA}}})),CA},br=(EA,AA,_A,CA,SA)=>{const DA=EA.getValue(AA)||{};_A&&Object.keys(DA).length>0&&EA.clearErrorMessages({property:CA?SA:EA.getStateProps().value})},Or=(EA,AA,_A)=>new Promise((CA=>{const{skipPageInstructions:SA=!1}=_A,{selectionMode:DA,selectionList:TA,required:NA}=AA.getConfigProps(),PA=DA===G.LIST_SELECTION_MODE.MULTI,RA=AA.getContextName();let bA=AA.getPageReference(),OA=((EA,AA,_A)=>EA?_A.substring(1):AA.substring(AA.lastIndexOf(".")+1))(PA,bA,TA);const vA=AA.getRawMetadata();let xA=null;const wA=(EA=>EA?.config?.dataRelationshipContext&&"SimpleTableSelect"===EA.type&&"single"===EA.config?.selectionMode)(vA);wA&&(OA=vA?.config?.dataRelationshipContext,xA=bA.concat(".").concat(OA),bA=xA);const MA=((EA,AA,_A)=>EA?`${AA}${_A}`:AA)(PA,bA,TA),LA=((EA,AA,_A,CA)=>AA?EA.getFieldMetadata(`${_A}`):EA.getCurrentPageFieldMetadata(CA))(AA,PA,OA,xA),{datasource:{parameters:GA={}}}=LA,UA={...GA};if(((EA,AA,_A)=>{AA?.descriptors?.length&&!_A&&AA.descriptors.forEach((AA=>{const _A=Dh.getPropertyName(AA),CA=_A.substr(_A.indexOf(".")+1).split(".");EA[CA.join(".")]=AA}))})(UA,LA,PA),PA){let _A=TA;_A=Ir(_A);const CA=AA.getValue(MA)||[];yr(AA,_A,bA);const DA=[];let NA=CA.length;EA.forEach((EA=>{const AA=Dr(GA,EA,OA),TA={};if(Object.prototype.hasOwnProperty.call(EA,"displayProperty")){const AA=EA.displayProperty;TA[AA]=EA[AA]}const PA=Object.entries(AA);let vA=CA.findIndex((EA=>PA.every((([AA,_A])=>EA[AA]===_A))));if(-1===vA?(vA=NA,EA.$selected&&(NA+=1)):NA=NA?NA-1:0,!SA){const CA=el.getStateMachine(RA,bA,_A);EA.$selected?CA.insert(AA,vA+1,!0,{}):CA.delete(vA+1,!0)}DA.push({instruction:EA.$selected?G.LIST_ACTIONS.SELECT:G.LIST_ACTIONS.DESELECT,listIndex:vA,content:{...AA,...TA}})})),ph(fg({instruction:G.LIST_ACTIONS_TYPE.SELECT_DESELECT,context:RA,referenceList:`${bA}.${OA}`,actions:DA}))}else{const _A=Dr(UA,EA[0],OA);Object.keys(_A).forEach((EA=>{AA.getActionsApi().updateFieldValue(`.${EA}`,_A[EA],wA?{contextPageReference:bA}:{}),AA.getActionsApi().triggerFieldChange(`.${OA}.${EA}`,_A[EA])}))}br(AA,MA,NA,PA,OA),CA()})),vr=EA=>{if(!EA)return!1;const AA=Cr(EA);return Array.isArray(AA)&&AA.length>0},xr=(EA,AA,_A={})=>{const{skipStateUpdate:CA=!1}=_A,SA=EA.getPageReference(),DA=Ir(AA);yr(EA,AA,SA),el.getStateMachine(EA.getContextName(),SA,DA).deleteAll(CA)},wr=EA=>({insert:(AA,_A,CA,SA)=>Nr(AA,_A,EA,CA,SA),update:(AA,_A,CA)=>Pr(AA,EA,_A,CA),updateProperty:(AA,_A,CA)=>((EA,AA,_A,CA={})=>{const SA=_A.getPageReference(),{stateMachineTarget:DA}=el.getStateMachineObjByPath(`${SA}${EA}`,_A.getContextName(),`${SA}${EA}`.endsWith("]"));if(!DA){let EA=SA.substring(0,SA.lastIndexOf("["));const AA=EA.substring(EA.lastIndexOf("."));EA=EA.substring(0,EA.lastIndexOf(".")),EA&&AA&&yr(_A,AA,EA)}el.executeStateMachine(_A.getContextName(),`${SA}${EA}`,AA,!0,CA)})(AA,_A,EA,CA),deleteEntry:(AA,_A)=>((EA,AA,_A)=>{const CA=AA.getContextName(),SA=AA.getReferenceList(),DA=_A||AA.getPageReference(),TA=`${DA+SA}[${EA}]`,NA=Ir(SA);Qn({type:B.MESSAGES.MESSAGES_TYPE_ERROR,pageReference:TA,context:CA,isListEntry:!0,deletingIndex:EA}),yr(AA,NA,DA),Er(CA,`${SA}[${EA}]`),el.getStateMachine(CA,DA,NA).delete(EA+1);const PA=el.getUnConnectedStateMachines(CA)||{};Object.keys(PA).forEach((EA=>{EA.includes(`${DA}${NA}`)&&EA!==`${DA}${NA}`&&(PA[EA]=null)}))})(AA,EA,_A),reorder:(AA,_A)=>((EA,AA,_A)=>{const CA=_A.getContextName(),SA=_A.getReferenceList(),DA=_A.getPageReference(),TA=Ir(SA);yr(_A,TA,DA),Er(CA,`${SA}[${AA}]`),el.getStateMachine(CA,DA,TA).move(EA+1,AA+1)})(AA,_A,EA),setSelectedRows:(AA,_A={skipPageInstructions:!1})=>Or(AA,EA,_A),getSelectedRows:(AA=!1)=>((EA,AA)=>{const{selectionMode:_A,selectionList:CA}=AA.getConfigProps(),SA=[];let DA=AA.getPageReference();const TA=_A===G.LIST_SELECTION_MODE.MULTI;let NA=TA?CA.substring(1):DA.substring(DA.lastIndexOf(".")+1);const PA=AA.getRawMetadata();let RA=null;PA?.config?.dataRelationshipContext&&"SimpleTableSelect"===PA.type&&"single"===PA.config?.selectionMode&&(NA=PA.config.dataRelationshipContext,RA=DA.concat(".").concat(NA),DA=RA);const bA=TA?`${DA}${CA}`:DA;let OA=AA.getValue(bA)||[];if(Array.isArray(OA)||(OA=[OA]),EA)return Promise.resolve(OA);const{datasource:{parameters:vA={}}={}}=TA?AA.getFieldMetadata(`${NA}`):AA.getCurrentPageFieldMetadata(RA);return OA.forEach((EA=>{const AA=Object.values(vA).reduce(((AA,_A)=>{const CA=_A.substring(_A.lastIndexOf(".")+1);return Rr(_A,NA)&&EA[CA]?`${AA}${EA[CA]}`:AA}),"");AA.trim()&&SA.push(AA.trim())})),Promise.resolve(SA)})(AA,EA),clearSelectedRows:()=>function(EA){const{selectionList:AA,required:_A}=EA.getConfigProps(),CA=EA.getContextName(),SA=EA.getPageReference(),DA=AA,TA=`${SA}${AA}`;return new Promise((AA=>{let NA=DA;NA=Ir(NA),yr(EA,NA,SA),el.getStateMachine(CA,SA,NA).deleteAll(),br(EA,TA,_A,!0,DA),AA()}))}(EA),setVisibility:AA=>((EA,AA=!0)=>{const _A=EA.getContextName(),{selectionMode:CA,selectionList:SA,renderMode:DA,referenceList:TA}=EA.getComponentConfig();let NA;if(CA===G.LIST_SELECTION_MODE.MULTI&&SA?NA=SA:"Editable"===DA&&TA&&(NA=EA.getStateProps().referenceList),NA){NA=Ir(NA);const CA=el.getStateMachine(_A,"",`${EA.getPageReference()}${NA}`);CA&&(CA.visibility=AA)}})(EA,AA),initDefaultPageInstructions:(AA,_A,CA)=>((EA,AA,_A,CA)=>{const SA=EA.getContextName(),DA=EA.getPageReference(),TA=Ir(AA);yr(EA,TA,DA),el.getStateMachine(SA,DA,TA).initPageInstructions(EA,_A,CA)})(EA,AA,_A,CA),deleteAll:(AA,_A)=>xr(EA,AA,_A),replacePage:(AA,_A)=>((EA,AA,_A)=>{const CA=EA.getPageReference(),SA=EA.getContextName();yr(EA,AA,CA),Er(SA,Dh.buildInstructionPageReference(CA,AA)),el.getStateMachine(SA,CA,AA).replacePage(_A)})(EA,AA,_A),deletePage:AA=>((EA,AA)=>{const _A=EA.getPageReference(),CA=EA.getContextName();yr(EA,AA,_A),Er(CA,Dh.buildInstructionPageReference(_A,AA)),el.getStateMachine(CA,_A,AA).deletePage()})(EA,AA)}),Mr=new class{constructor(){this.fieldDefaults={}}updateFieldDefaults(EA){EA&&(Object.keys(this.fieldDefaults).length?Dh.mergeDeep(EA,this.fieldDefaults):Dh.copy(EA,this.fieldDefaults))}setFieldDefault(EA,AA,_A){EA&&AA&&(this.fieldDefaults[EA]=this.fieldDefaults[EA]||{},this.fieldDefaults[EA][AA]=_A)}getDefaultsforType(EA){return this.fieldDefaults[EA]}};class Lr{constructor(){this.validators={}}register(EA,AA){this.validators[EA]=AA}getValidator(EA){return this.validators[EA]}validateRequired(EA,AA,_A,CA,SA,DA){const{required:TA,value:NA}=DA;let PA=null;if("true"===TA||!0===TA){let TA=CA;switch(EA){case"radiobuttons":TA=NA;break;case"attachment":{const EA=_A?.replace(B.CASE_INFO.CASE_INFO_CONTENT,"").replace(B.DATA_INFO.DATA_INFO_CONTENT,"");TA=(mh(`.attachmentsList${EA}.${AA?.replace(".","")}`,"context_data",SA)||[]).filter((EA=>!EA.delete)),0===TA?.length&&(TA="");break}case"checkbox":TA&&"false"!==TA||(TA="");break;default:"string"==typeof TA&&(TA=TA.trim())}PA=this.getValidator("required")(TA),Lr.messageDispatcher(AA,_A,SA,PA,Hn.getFieldLabel(DA))}return PA}validateType(EA,AA,_A,CA,SA,DA){let TA=null;const NA={pageReference:_A,context:SA,property:AA,target:DA?.target,required:DA?.required};let PA=Mr.getDefaultsforType(DA?.componentName||"")?.["client-validations"];!1!==PA&&EA&&this.getValidator(EA)&&(TA=this.getValidator(EA)(CA,NA),""!==CA&&Lr.messageDispatcher(AA,_A,SA,TA,DA?.label));const RA=DA?.validationType;return PA=RA&&Mr.getDefaultsforType(RA)?.["client-validations"],!1!==PA&&RA&&this.getValidator(RA)&&(TA=this.getValidator(RA)(CA,NA),Lr.messageDispatcher(AA,_A,SA,TA,DA?.label)),TA}validate(EA,AA,_A,CA={}){const{context:SA,disabled:DA,readOnly:TA,pageReference:NA,skipRequiredValidation:PA}=CA;let RA=null;return DA||TA||(PA||(RA=this.validateRequired(EA,AA,NA,_A,SA,CA)),RA||(RA=this.validateType(EA,AA,NA,_A,SA,CA))),{message:RA}}static messageDispatcher(EA,AA,_A,CA,SA){if(CA){const DA=[];DA.push({type:B.MESSAGES.MESSAGES_TYPE_ERROR,fieldLabel:SA,message:CA}),Zn({messages:DA,property:EA,pageReference:AA,context:_A})}}isValidatorExist(EA){return!!EA.validatetype}}const Ur=new Lr,Fr=(EA,AA)=>{EA.DeclareExpressions&&Qt({[AA.context]:EA.DeclareExpressions})},jr=(EA,AA,_A=!1)=>{const CA=Dh.getIn(EA,G.RESOURCES);CA&&((EA=>{EA&&Gp(EA)})(CA),Fr(CA,AA)),_A||Fg({...EA,options:AA})},Vr="text/javascript",kr=new class{constructor(){this.loaderObj={},this.staticServerURL="",this.appStaticUrl=null,this.pegaOnlyUrl=!1,this.loadedAssets={},this.componentsConfig=null,this.appAlias="",this.b2sJWT=null,this.ccV2LibId="",this.imageBlobUrlCache={},this.svcLocaleErrorCache=new Map}getTypes={SCRIPT:"script",STYLE:"link"};getStaticServerUrl(){return this.staticServerURL}setCCV2LibId(EA){this.ccV2LibId=EA}getCCV2LibId(){return this.ccV2LibId}async getThemeSchemaJSON(){const EA=`${this.staticServerURL}themeOverrides.schema.json`;return fetch(EA).then((EA=>EA.json()))}getConstellationServiceUrl(){return this.staticServerURL?.endsWith("/")?this.staticServerURL.substring(0,this.staticServerURL.length-1):this.staticServerURL}setAppAlias(EA){this.appAlias=EA}getAppAlias(){return this.appAlias}async getSvcComponentsConfig(EA,AA={}){let _A="",CA=0;return EA.forEach((EA=>{_A+=`${0===CA?"?":"&"}field${CA}=${EA.field}&value${CA}=${EA.value}`,CA+=1})),this.pegaOnlyUrl?this.getSvcComponentsConfigSeparatedUrls(EA,_A,AA):this.getSvcComponentsConfigCombinedUrl(EA,_A,AA)}async getSvcComponentsConfigSeparatedUrls(EA,AA,_A){const CA=fp.getBuiltOnAppNames(),SA=this.loadAndFilterPegaComponentsConfig(EA,CA);let DA=Promise.resolve([]);!0!==_A.skipLoadCustomerComponents&&(DA=this.loadAndCustomerComponentsConfig(AA));const TA=this.fetchSDKComponent(AA),NA=[];if(await Promise.all([SA,DA,TA]).then((EA=>{const AA=this.mergeComponentList(EA);NA.push(...AA)})),_A.alternateDesignSystemURL&&1===NA.length){const CA=await this.getSvcComponentsConfigADS(EA,AA,_A);NA[0].alternateDesignSystemConfig=CA}return{data:{components:NA}}}mergeComponentList=EA=>{const[AA=[],_A=[],CA=[]]=EA,SA=[...AA,..._A];return this.appStaticUrl?SA.map((EA=>{const{name:AA,type:_A,subtype:SA}=EA,DA=CA.reduce(((EA,CA)=>(AA===CA.name&&_A===CA.type&&SA===CA.subtype&&(EA=CA),EA)),{});return Object.keys(DA).length>0?{...EA,alternateDesignSystemConfig:{...DA}}:EA})):SA};async fetchSDKComponent(EA){if(this.appStaticUrl&&this.appStaticUrl.length>8&&this.appStaticUrl!==this.staticServerURL){const AA=`${this.appStaticUrl}v102/${this.appAlias}/componentslist-ext${EA}`;return fetch(AA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.json())).then((EA=>EA.components)).catch((()=>[]))}return Promise.resolve([])}async loadAndFilterPegaComponentsConfig(EA,AA){return this.loadPegaComponentsConfig().then((()=>{const _A=[];return this.componentsConfig&&this.componentsConfig.forEach((CA=>{let SA=!0;EA.forEach((EA=>{Array.isArray(CA[EA.field])?CA[EA.field].includes(EA.value)||(SA=!1):CA[EA.field]!==EA.value&&(SA=!1)})),SA&&this.checkForBuiltOnSupport(AA,CA.allowedApplications)&&_A.push(CA)})),_A}))}async loadPegaComponentsConfig(){let EA=null;if(null===this.componentsConfig){const AA=`${this.staticServerURL}components/componentsconfig.json?v=${(new Date).getTime()}`;EA=fetch(AA,{method:"GET"}).then((EA=>EA.json())).then((async EA=>{this.componentsConfig=EA,this.ccV2LibId&&await this.loadLibraryComponentsConfig(this.ccV2LibId).then((EA=>{EA&&EA.length>0&&(this.componentsConfig=(this.componentsConfig||[]).concat(EA))})).catch((EA=>{console.error(`Exception while appending custom component config from library ${this.ccV2LibId} : ${EA}`)}))})).catch()}else EA=Promise.resolve();return EA}async loadLibraryComponentsConfig(EA){let AA=null;return AA=fetch(`${this.appStaticUrl}v100/componentlib/componentsconfig/${EA}?v=${Date.now()}`,{headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>{if(!EA.ok)throw console.error("Error while fetching custom component config/library component config"),new Error(EA.statusText);return EA})).then((EA=>EA.json())).then((EA=>Promise.resolve(EA))).catch((AA=>(console.error(`Exception while fetching custom component config from library ${EA} : ${AA}`),{error:AA.message}))),AA}async loadAndCustomerComponentsConfig(EA){let AA=null;if(this.appStaticUrl&&this.appStaticUrl.length>8&&this.appStaticUrl!==this.staticServerURL){const _A=`${this.appStaticUrl}v103/${this.appAlias}/componentslist${EA}`;AA=fetch(_A,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.json())).then((EA=>EA.components)).catch((()=>[]))}else AA=Promise.resolve([]);return AA}checkForBuiltOnSupport(EA,AA){if(!EA||!AA||0===EA.length||0===AA.length)return!0;const _A=EA.split(",");return 0===_A.length||_A.some((function(EA){return-1!==AA.indexOf(EA)}))}async getSvcComponentsConfigCombinedUrl(EA,AA,_A){const CA=`${this.staticServerURL}v102/${this.appAlias}/componentslist${AA}`,SA=await fetch(CA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.json())).then((EA=>({data:EA})));if(!0===_A.skipLoadCustomerComponents&&SA?.data?.components?.length>0&&(SA.data.components=SA.data.components.filter((EA=>void 0===EA.componentKey))),_A.alternateDesignSystemURL&&1===SA?.data?.components?.length){const CA=await this.getSvcComponentsConfigADS(EA,AA,_A);SA.data.components[0].alternateDesignSystemConfig=CA}return SA}getSvcComponentsConfigADS(EA,AA,_A){const CA=`${_A.alternateDesignSystemURL}${_A.alternateDesignSystemURL?.endsWith("/")?"":"/"}components/${EA[0].value}/config-ext.json`;return fetch(CA,{method:"GET"}).then((EA=>{if(EA.ok)return EA.json();throw new Error(EA.statusText)})).catch((EA=>({error:EA.message})))}getSvcImage(EA){const AA=`${this.appStaticUrl}v102/${this.appAlias}/image/${EA}`;return fetch(AA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.blob())).catch()}getSvcImageUrl(EA){const AA=`${this.appStaticUrl}v102/${this.appAlias}/image/${EA}`;return void 0===this.imageBlobUrlCache[AA]&&(this.imageBlobUrlCache[AA]=fetch(AA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.blob())).then((EA=>window.URL.createObjectURL(EA))).catch()),this.imageBlobUrlCache[AA]}getSvcLocale(EA,AA){const _A=`${this.appStaticUrl}v102/${this.appAlias}/locales/${EA}/${AA}`,CA=`${this.appStaticUrl}::${this.appAlias}::${EA}::${AA}`;return!0===this.svcLocaleErrorCache.get(CA)?Promise.resolve(null):fetch(_A,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>400===EA.status||404===EA.status?(this.svcLocaleErrorCache.set(CA,!0),null):EA)).catch((()=>null))}getSvcAvailableLocales(){const EA=`${this.appStaticUrl}v102/app/${this.appAlias}/locales/getLocaleCodes`;return fetch(EA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.json())).catch((()=>[]))}getSvcComponent(EA){const AA=`${this.appStaticUrl}v102/${this.appAlias}/component/${EA}`;return fetch(AA,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>{if(!EA.ok)throw Error(EA.statusText);return EA})).then((EA=>EA.text())).then((EA=>EA)).catch()}async importCustomComponentMap(EA){fetch(`${this.appStaticUrl}v100/componentlib/componentsmap/${EA}`,{headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>(EA.ok||console.error("Error while fetching custom component map"),EA))).then((EA=>EA.text())).then((AA=>{this.setCCV2LibId(EA);const _A=document.createElement("script");_A.src=window.URL.createObjectURL(new Blob([AA],{type:Vr})),_A.onload=()=>console.log("Custom component lib map loaded"),_A.onerror=()=>console.error("Error while appending custom component map"),document.head.appendChild(_A)})).catch((EA=>{console.error("Exception while appending custom component map : "),console.error(EA)}))}loadSvcComponent(EA){return new Promise(((AA,_A)=>{this.getSvcComponent(EA).then((CA=>{const SA=document.createElement("script");SA.src=window.URL.createObjectURL(new Blob([CA],{type:Vr})),SA.onload=()=>AA(EA),SA.onerror=()=>_A(EA),document.head.appendChild(SA)})).catch((()=>{_A(EA)}))}))}initServer(EA,AA,_A){console.log(`asset-loader.initServer(${EA}, ${AA})`),this.appStaticUrl=null,this.staticServerURL=null,this.pegaOnlyUrl=!1,this.componentsConfig=null,EA&&AA&&"no-appstatic"!==AA&&"no-cdn"!==AA?(this.appStaticUrl=AA.endsWith("/")?AA:`${AA}/`,this.staticServerURL=EA.endsWith("/")?EA:`${EA}/`,this.pegaOnlyUrl=!0):EA&&AA&&"no-appstatic"===AA?(this.staticServerURL=EA.endsWith("/")?EA:`${EA}/`,this.appStaticUrl=this.staticServerURL,this.pegaOnlyUrl=!0):EA&&AA&&"no-cdn"===AA&&(this.staticServerURL=EA.endsWith("/")?EA:`${EA}/`,this.appStaticUrl=this.staticServerURL),console.log(`asset-loader.initServer() staticServerURL=${this.staticServerURL}, appStaticUrl=${this.appStaticUrl}, pegaOnlyUrl=${this.pegaOnlyUrl})`),this.b2sJWT=_A}register(EA,AA){this.loaderObj[EA]=AA}getLoader(EA){let AA;return AA=EA?this.loaderObj[EA]:(EA,AA)=>new Promise(((_A,CA)=>{const SA=document.createElement(AA);"script"===AA?(SA.onload=()=>{_A(EA)},SA.onerror=()=>{CA(EA)},SA.type=Vr,SA.charset="UTF-8",SA.async=!1,SA.src=EA):(SA.type="text/css",SA.rel="stylesheet",SA.href=EA),document.head.appendChild(SA)})).catch((EA=>{console.log(EA)})),AA}loadAssets(EA,AA){const{isDevServerMode:_A}=AA;if(!EA)return Promise.resolve();const CA=[];return EA.forEach((EA=>{const AA=Object.keys(EA)[0];let SA=_A?Object.values(EA)[0]:this.getStaticServerUrl();SA=SA.endsWith("/")?SA:`${SA}/`,this.loadedAssets[AA]||(AA.includes(".js")?CA.push(this.getLoader()(SA+AA,this.getTypes.SCRIPT)):AA.includes(".css")&&this.getLoader()(SA+AA,this.getTypes.STYLE),this.loadedAssets[AA]=!0)})),Promise.all(CA)}getAssetsFromIsolations(EA){const AA=this.b2sJWT?.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")||"",_A=decodeURIComponent(s.g.atob(AA).split("").map((EA=>`%${`00${EA.charCodeAt(0).toString(16)}`.slice(-2)}`)).join("")),CA=JSON.parse(_A),SA=CA?.tenant_id,{restApi:DA,reqType:TA}=bg("getAssetsFromIsolations",{isolationID:SA,assetPath:EA})||{},NA=`${this.appStaticUrl}${DA}`;return fetch(NA,{method:TA,credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((EA=>EA.blob()))}},$r="component-loader",Br={},Gr=async(EA,AA)=>{const _A=kr.getLoader(),CA=AA||kr.staticServerURL;if(!EA||window.PCore&&!1===window.PCore.getBehaviorOverride("dynamicLoadComponents"))return Promise.resolve();if(kr.getLoader($r))return kr.getLoader($r)(EA,CA);const SA=[];return EA.forEach((EA=>{if(Br[EA])return;const AA=tn.getComponent(EA);if(AA)(AA.scripts||[]).forEach((EA=>{const AA=EA.startsWith("http")?EA:CA+EA;SA.push(_A(AA,kr.getTypes.SCRIPT))})),(AA.styles||[]).forEach((EA=>{SA.push(_A(CA+EA,kr.getTypes.STYLE))})),Br[EA]=!0;else{const AA=`${kr.getConstellationServiceUrl()}/v860/${kr.getAppAlias()}/component/${EA}.js`;SA.push(_A(AA,kr.getTypes.SCRIPT))}})),Promise.all(SA)};class Wr{static actionsTargetMap=new Map;static getTargetViewContainerName=EA=>{if(EA){const AA=EA.toLowerCase();let _A="primary";return this.actionsTargetMap.has(AA)&&(_A=this.actionsTargetMap.get(AA)),_A}return""};static buildActionTargetMap=EA=>{EA&&Object.keys(EA).forEach((AA=>{const _A=EA[AA];_A&&_A.actions&&_A.actions.forEach((EA=>{this.actionsTargetMap.set(EA.toLowerCase(),AA)}))}))}}const Hr=Wr,qr=class{constructor(EA,AA,_A,CA){this.eventType=EA,this.callback=_A,this.contextName=CA,this.id=AA}},zr=new class{constructor(){this.subscribers={}}publish(EA,AA){this.subscribers[EA]?.forEach((EA=>{EA.callback(AA)}))}unsubscribe(EA,AA,_A){const CA=this.subscribers[EA]||[];let SA=0,DA=-1;CA.forEach((EA=>{EA.id===AA&&EA.contextName===_A&&(DA=SA),SA+=1})),-1!==DA&&CA.splice(DA,1)}unsubscribeAllWithEventType(EA){this.subscribers[EA]=[]}subscribe(EA,AA,_A,CA,SA){this.subscribers[EA]=this.subscribers[EA]||[];let DA=!1;if(SA&&this.subscribers[EA].forEach((EA=>{DA=EA.id===AA&&EA.contextName===CA})),!DA){const SA=new qr(EA,AA,_A,CA);this.subscribers[EA].push(SA)}}clearContext(EA){const AA=this.subscribers;Object.keys(AA).forEach((AA=>{const _A=this.subscribers[AA],CA=[];_A.forEach((AA=>{AA.contextName!==EA&&CA.push(AA)})),this.subscribers[AA]=CA}))}},Yr=class{static subscribe(EA,AA,_A,CA=!1,SA="app"){zr.subscribe(EA,_A,AA,SA,CA)}static subscribeOnce(EA,AA,_A){this.subscribe(EA,AA,_A,!0)}static publish(EA,AA){zr.publish(EA,AA)}static unsubscribe(EA,AA,_A="app"){zr.unsubscribe(EA,AA,_A)}static unsubscribeAllWithEventType(EA){zr.unsubscribeAllWithEventType(EA)}static cleanContextSubscribers(EA){zr.clearContext(EA)}},Kr=EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_SUBMISSION,EA)},Xr={CASE_INFO:`${G.DATA}.${G.CASE_INFO.CASE_INFO}`,CASE_CLASS_NAME:`${G.DATA}.${G.CASE_INFO.CASE_TYPE_ID}`,NEXT_ASSIGNMENT_INFO_ID:`${G.DATA}.${G.NEXT_ASSIGNMENT_INFO_ID}`,ASSIGNMENTS:`${G.DATA}.${G.CASE_INFO.ASSIGNMENTS}`,CASE_INFO_ID:`${G.DATA}.${G.CASE_INFO.CASE_INFO_ID}`,CASE_FIRST_FLOW_ACTION_NAME:`${G.DATA}.${G.CASE_INFO.ASSIGNMENTACTION_ID}`,CASE_FIRST_ASSIGNMENT_ID:`${G.DATA}.${G.CASE_INFO.ASSIGNMENT_ID}`},Jr=(EA,AA)=>{const{vcName:_A,containerName:CA}=AA;return CA||_A||Hr.getTargetViewContainerName(EA)},Qr=EA=>{const AA=EA.lastIndexOf(G.FORWARD_SLASH_STRING)+1,_A=EA.lastIndexOf(G.UNDERSCORE_STRING);return EA.substring(AA,_A)},Zr=EA=>EA===od.WORKAREA,es=EA=>EA===od.MODAL,ts=EA=>EA===Te,ns=EA=>EA&&EA.find((EA=>EA.type===Te)),rs=EA=>Dh.getIn(EA,Xr.CASE_INFO,{}),ss=EA=>EA?EA.split(" ").pop():void 0,as=EA=>Dh.getIn(EA,Xr.CASE_CLASS_NAME,G.EMPTY_STRING),os=EA=>{const AA=rs(EA);return sn(AA)&&an(fp.getOperatorIdentifier(),AA)},is=EA=>Dh.getIn(EA,Xr.CASE_INFO_ID,G.EMPTY_STRING),cs=EA=>Dh.getIn(EA,Xr.CASE_FIRST_ASSIGNMENT_ID,G.EMPTY_STRING),ls=(EA,AA)=>{const{removeActionPayload:_A,target:CA}=AA;if(_A&&_A.containerItemID){const{containerItemID:AA,context:SA}=_A;EA.push(dg(sg,{containerItemID:AA,context:SA||Cd(AA),target:CA}))}},us=EA=>{const AA=dh();if(!EA)return!1;const _A=K(EA),CA=Fd(_A),SA=Fd(EA);if(!CA||!SA)return!1;const DA=ld(CA,_A),TA=ld(SA,EA);if(!DA||!TA)return!1;const{key:NA}=DA||{};let{key:PA}=TA||{};return PA||(PA=AA?.getState().data?.[EA]?.caseInfo?.ID),NA&&PA&&NA===PA},ds=(EA,AA,_A={})=>{const{skipFlowNameUpdate:CA}=_A,SA=is(AA);Dh.setIn(EA,"key",SA);const DA=sn(rs(AA));if(!CA&&(EA=>{const AA=Dh.getIn(EA,Xr.ASSIGNMENTS,[]);return AA&&AA.length>0})(AA)){const _A=cs(AA),[,CA]=_A.split("!");(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CURRENT_ASSIGNMENT_UPDATED,EA)})({assignmentID:_A,isInCreateStage:DA}),Dh.setIn(EA,"flowName",CA)}},ps=(EA,AA)=>{const{attachmentsExist:_A}=AA;_A&&Dh.setIn(EA,B.SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME,(new Date).toLocaleString()),Dh.setIn(EA,B.SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME,(new Date).toLocaleString())},hs=(EA,AA,_A)=>{let CA=G.PROMISE_VALUE.RESOLVE;return ns(EA)?(CA=G.PROMISE_VALUE.REJECT,_A?gn.rejectActionByID(AA,!0,_A):gn.rejectActionByID(AA)):gn.resolveActionByID(AA),CA},gs=EA=>{const AA=fp.getCaseTypeList();return"true"===AA.filter((AA=>AA.pyWorkTypeImplementationClassName===EA))?.[0]?.pyIsTraditionalUICase},fs=()=>"true"===fp?.environmentInfoObject?.pxMashupDetails?.pyLaunchCaseInModal,ms=(EA,AA)=>{const _A=as(EA?.response),CA=rs(EA?.response),{caseTypeID:SA}=CA,DA=fp.getFeatureMap();(DA?.deferUpdateCaseSummaryView??!Object.hasOwn(DA,G.DEFER_UPDATE_CASESUMMARY_VIEW))&&SA&&Hp(G.CASESUMMARY_VIEW_NAME,SA)&&((EA,AA,_A)=>{const{containerItemID:CA,caseID:SA}=AA;if(CA){const{caseClassName:DA,skipAssignmentsUpdate:TA}=_A,NA=K(CA),PA=Fd(NA),RA=PA&&cd(PA),bA=PA&&Ed(PA),OA=Z(NA);bA&&RA?.items?.[bA]?.key===AA?.caseID&&EA.push(dg(kh,{containerItemID:NA,context:NA,container:OA,containerName:OA,caseId:SA,viewName:B.CASESUMMARY_VIEW_NAME,updateData:!0,viewLoadingContainer:{context:NA},caseClassName:DA,...void 0!==TA&&{skipAssignmentsUpdate:TA}}))}})(AA,EA?.actionInPayload,{caseClassName:_A,skipAssignmentsUpdate:!0})},ys=EA=>hh(EA)?.context_data?.caseViewMode;function Is(EA,AA){return function(){return EA.apply(AA,arguments)}}const{toString:Es}=Object.prototype,{getPrototypeOf:As}=Object,{iterator:_s,toStringTag:Cs}=Symbol,Ss=(Ts=Object.create(null),EA=>{const AA=Es.call(EA);return Ts[AA]||(Ts[AA]=AA.slice(8,-1).toLowerCase())});var Ts;const Ns=EA=>(EA=EA.toLowerCase(),AA=>Ss(AA)===EA),Ps=EA=>AA=>typeof AA===EA,{isArray:Rs}=Array,Ds=Ps("undefined"),bs=Ns("ArrayBuffer"),Os=Ps("string"),vs=Ps("function"),xs=Ps("number"),ws=EA=>null!==EA&&"object"==typeof EA,Ms=EA=>{if("object"!==Ss(EA))return!1;const AA=As(EA);return!(null!==AA&&AA!==Object.prototype&&null!==Object.getPrototypeOf(AA)||Cs in EA||_s in EA)},Ls=Ns("Date"),Us=Ns("File"),Fs=Ns("Blob"),js=Ns("FileList"),Vs=Ns("URLSearchParams"),[ks,$s,Bs,Gs]=["ReadableStream","Request","Response","Headers"].map(Ns);function Ws(EA,AA,{allOwnKeys:_A=!1}={}){if(null==EA)return;let CA,SA;if("object"!=typeof EA&&(EA=[EA]),Rs(EA))for(CA=0,SA=EA.length;CA<SA;CA++)AA.call(null,EA[CA],CA,EA);else{const SA=_A?Object.getOwnPropertyNames(EA):Object.keys(EA),DA=SA.length;let TA;for(CA=0;CA<DA;CA++)TA=SA[CA],AA.call(null,EA[TA],TA,EA)}}function Hs(EA,AA){AA=AA.toLowerCase();const _A=Object.keys(EA);let CA,SA=_A.length;for(;SA-- >0;)if(CA=_A[SA],AA===CA.toLowerCase())return CA;return null}const qs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,zs=EA=>!Ds(EA)&&EA!==qs,Ys=(Ks="undefined"!=typeof Uint8Array&&As(Uint8Array),EA=>Ks&&EA instanceof Ks);var Ks;const Xs=Ns("HTMLFormElement"),Js=(({hasOwnProperty:EA})=>(AA,_A)=>EA.call(AA,_A))(Object.prototype),Qs=Ns("RegExp"),Zs=(EA,AA)=>{const _A=Object.getOwnPropertyDescriptors(EA),CA={};Ws(_A,((_A,SA)=>{let DA;!1!==(DA=AA(_A,SA,EA))&&(CA[SA]=DA||_A)})),Object.defineProperties(EA,CA)},ea=Ns("AsyncFunction"),ta=(na="function"==typeof setImmediate,ra=vs(qs.postMessage),na?setImmediate:ra?(sa=`axios@${Math.random()}`,aa=[],qs.addEventListener("message",(({source:EA,data:AA})=>{EA===qs&&AA===sa&&aa.length&&aa.shift()()}),!1),EA=>{aa.push(EA),qs.postMessage(sa,"*")}):EA=>setTimeout(EA));var na,ra,sa,aa;const oa="undefined"!=typeof queueMicrotask?queueMicrotask.bind(qs):"undefined"!=typeof process&&process.nextTick||ta,ia={isArray:Rs,isArrayBuffer:bs,isBuffer:function(EA){return null!==EA&&!Ds(EA)&&null!==EA.constructor&&!Ds(EA.constructor)&&vs(EA.constructor.isBuffer)&&EA.constructor.isBuffer(EA)},isFormData:EA=>{let AA;return EA&&("function"==typeof FormData&&EA instanceof FormData||vs(EA.append)&&("formdata"===(AA=Ss(EA))||"object"===AA&&vs(EA.toString)&&"[object FormData]"===EA.toString()))},isArrayBufferView:function(EA){let AA;return AA="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(EA):EA&&EA.buffer&&bs(EA.buffer),AA},isString:Os,isNumber:xs,isBoolean:EA=>!0===EA||!1===EA,isObject:ws,isPlainObject:Ms,isReadableStream:ks,isRequest:$s,isResponse:Bs,isHeaders:Gs,isUndefined:Ds,isDate:Ls,isFile:Us,isBlob:Fs,isRegExp:Qs,isFunction:vs,isStream:EA=>ws(EA)&&vs(EA.pipe),isURLSearchParams:Vs,isTypedArray:Ys,isFileList:js,forEach:Ws,merge:function EA(){const{caseless:AA}=zs(this)&&this||{},_A={},CA=(CA,SA)=>{const DA=AA&&Hs(_A,SA)||SA;Ms(_A[DA])&&Ms(CA)?_A[DA]=EA(_A[DA],CA):Ms(CA)?_A[DA]=EA({},CA):Rs(CA)?_A[DA]=CA.slice():_A[DA]=CA};for(let SA=0,DA=arguments.length;SA<DA;SA++)arguments[SA]&&Ws(arguments[SA],CA);return _A},extend:(EA,AA,_A,{allOwnKeys:CA}={})=>(Ws(AA,((AA,CA)=>{_A&&vs(AA)?EA[CA]=Is(AA,_A):EA[CA]=AA}),{allOwnKeys:CA}),EA),trim:EA=>EA.trim?EA.trim():EA.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:EA=>(65279===EA.charCodeAt(0)&&(EA=EA.slice(1)),EA),inherits:(EA,AA,_A,CA)=>{EA.prototype=Object.create(AA.prototype,CA),EA.prototype.constructor=EA,Object.defineProperty(EA,"super",{value:AA.prototype}),_A&&Object.assign(EA.prototype,_A)},toFlatObject:(EA,AA,_A,CA)=>{let SA,DA,TA;const NA={};if(AA=AA||{},null==EA)return AA;do{for(SA=Object.getOwnPropertyNames(EA),DA=SA.length;DA-- >0;)TA=SA[DA],CA&&!CA(TA,EA,AA)||NA[TA]||(AA[TA]=EA[TA],NA[TA]=!0);EA=!1!==_A&&As(EA)}while(EA&&(!_A||_A(EA,AA))&&EA!==Object.prototype);return AA},kindOf:Ss,kindOfTest:Ns,endsWith:(EA,AA,_A)=>{EA=String(EA),(void 0===_A||_A>EA.length)&&(_A=EA.length),_A-=AA.length;const CA=EA.indexOf(AA,_A);return-1!==CA&&CA===_A},toArray:EA=>{if(!EA)return null;if(Rs(EA))return EA;let AA=EA.length;if(!xs(AA))return null;const _A=new Array(AA);for(;AA-- >0;)_A[AA]=EA[AA];return _A},forEachEntry:(EA,AA)=>{const _A=(EA&&EA[_s]).call(EA);let CA;for(;(CA=_A.next())&&!CA.done;){const _A=CA.value;AA.call(EA,_A[0],_A[1])}},matchAll:(EA,AA)=>{let _A;const CA=[];for(;null!==(_A=EA.exec(AA));)CA.push(_A);return CA},isHTMLForm:Xs,hasOwnProperty:Js,hasOwnProp:Js,reduceDescriptors:Zs,freezeMethods:EA=>{Zs(EA,((AA,_A)=>{if(vs(EA)&&-1!==["arguments","caller","callee"].indexOf(_A))return!1;const CA=EA[_A];vs(CA)&&(AA.enumerable=!1,"writable"in AA?AA.writable=!1:AA.set||(AA.set=()=>{throw Error("Can not rewrite read-only method '"+_A+"'")}))}))},toObjectSet:(EA,AA)=>{const _A={},CA=EA=>{EA.forEach((EA=>{_A[EA]=!0}))};return Rs(EA)?CA(EA):CA(String(EA).split(AA)),_A},toCamelCase:EA=>EA.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(EA,AA,_A){return AA.toUpperCase()+_A})),noop:()=>{},toFiniteNumber:(EA,AA)=>null!=EA&&Number.isFinite(EA=+EA)?EA:AA,findKey:Hs,global:qs,isContextDefined:zs,isSpecCompliantForm:function(EA){return!!(EA&&vs(EA.append)&&"FormData"===EA[Cs]&&EA[_s])},toJSONObject:EA=>{const AA=new Array(10),_A=(EA,CA)=>{if(ws(EA)){if(AA.indexOf(EA)>=0)return;if(!("toJSON"in EA)){AA[CA]=EA;const SA=Rs(EA)?[]:{};return Ws(EA,((EA,AA)=>{const DA=_A(EA,CA+1);!Ds(DA)&&(SA[AA]=DA)})),AA[CA]=void 0,SA}}return EA};return _A(EA,0)},isAsyncFn:ea,isThenable:EA=>EA&&(ws(EA)||vs(EA))&&vs(EA.then)&&vs(EA.catch),setImmediate:ta,asap:oa,isIterable:EA=>null!=EA&&vs(EA[_s])};function ca(EA,AA,_A,CA,SA){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=EA,this.name="AxiosError",AA&&(this.code=AA),_A&&(this.config=_A),CA&&(this.request=CA),SA&&(this.response=SA,this.status=SA.status?SA.status:null)}ia.inherits(ca,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ia.toJSONObject(this.config),code:this.code,status:this.status}}});const la=ca.prototype,ua={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((EA=>{ua[EA]={value:EA}})),Object.defineProperties(ca,ua),Object.defineProperty(la,"isAxiosError",{value:!0}),ca.from=(EA,AA,_A,CA,SA,DA)=>{const TA=Object.create(la);return ia.toFlatObject(EA,TA,(function(EA){return EA!==Error.prototype}),(EA=>"isAxiosError"!==EA)),ca.call(TA,EA.message,AA,_A,CA,SA),TA.cause=EA,TA.name=EA.name,DA&&Object.assign(TA,DA),TA};const da=ca;function pa(EA){return ia.isPlainObject(EA)||ia.isArray(EA)}function ha(EA){return ia.endsWith(EA,"[]")?EA.slice(0,-2):EA}function ga(EA,AA,_A){return EA?EA.concat(AA).map((function(EA,AA){return EA=ha(EA),!_A&&AA?"["+EA+"]":EA})).join(_A?".":""):AA}const fa=ia.toFlatObject(ia,{},null,(function(EA){return/^is[A-Z]/.test(EA)})),ma=function(EA,AA,_A){if(!ia.isObject(EA))throw new TypeError("target must be an object");AA=AA||new FormData;const CA=(_A=ia.toFlatObject(_A,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(EA,AA){return!ia.isUndefined(AA[EA])}))).metaTokens,SA=_A.visitor||RA,DA=_A.dots,TA=_A.indexes,NA=(_A.Blob||"undefined"!=typeof Blob&&Blob)&&ia.isSpecCompliantForm(AA);if(!ia.isFunction(SA))throw new TypeError("visitor must be a function");function PA(EA){if(null===EA)return"";if(ia.isDate(EA))return EA.toISOString();if(ia.isBoolean(EA))return EA.toString();if(!NA&&ia.isBlob(EA))throw new da("Blob is not supported. Use a Buffer instead.");return ia.isArrayBuffer(EA)||ia.isTypedArray(EA)?NA&&"function"==typeof Blob?new Blob([EA]):Buffer.from(EA):EA}function RA(EA,_A,SA){let NA=EA;if(EA&&!SA&&"object"==typeof EA)if(ia.endsWith(_A,"{}"))_A=CA?_A:_A.slice(0,-2),EA=JSON.stringify(EA);else if(ia.isArray(EA)&&function(EA){return ia.isArray(EA)&&!EA.some(pa)}(EA)||(ia.isFileList(EA)||ia.endsWith(_A,"[]"))&&(NA=ia.toArray(EA)))return _A=ha(_A),NA.forEach((function(EA,CA){!ia.isUndefined(EA)&&null!==EA&&AA.append(!0===TA?ga([_A],CA,DA):null===TA?_A:_A+"[]",PA(EA))})),!1;return!!pa(EA)||(AA.append(ga(SA,_A,DA),PA(EA)),!1)}const bA=[],OA=Object.assign(fa,{defaultVisitor:RA,convertValue:PA,isVisitable:pa});if(!ia.isObject(EA))throw new TypeError("data must be an object");return function EA(_A,CA){if(!ia.isUndefined(_A)){if(-1!==bA.indexOf(_A))throw Error("Circular reference detected in "+CA.join("."));bA.push(_A),ia.forEach(_A,(function(_A,DA){!0===(!(ia.isUndefined(_A)||null===_A)&&SA.call(AA,_A,ia.isString(DA)?DA.trim():DA,CA,OA))&&EA(_A,CA?CA.concat(DA):[DA])})),bA.pop()}}(EA),AA};function ya(EA){const AA={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(EA).replace(/[!'()~]|%20|%00/g,(function(EA){return AA[EA]}))}function Ia(EA,AA){this._pairs=[],EA&&ma(EA,this,AA)}const Ea=Ia.prototype;Ea.append=function(EA,AA){this._pairs.push([EA,AA])},Ea.toString=function(EA){const AA=EA?function(AA){return EA.call(this,AA,ya)}:ya;return this._pairs.map((function(EA){return AA(EA[0])+"="+AA(EA[1])}),"").join("&")};const Aa=Ia;function _a(EA){return encodeURIComponent(EA).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ca(EA,AA,_A){if(!AA)return EA;const CA=_A&&_A.encode||_a;ia.isFunction(_A)&&(_A={serialize:_A});const SA=_A&&_A.serialize;let DA;if(DA=SA?SA(AA,_A):ia.isURLSearchParams(AA)?AA.toString():new Aa(AA,_A).toString(CA),DA){const AA=EA.indexOf("#");-1!==AA&&(EA=EA.slice(0,AA)),EA+=(-1===EA.indexOf("?")?"?":"&")+DA}return EA}const Sa=class{constructor(){this.handlers=[]}use(EA,AA,_A){return this.handlers.push({fulfilled:EA,rejected:AA,synchronous:!!_A&&_A.synchronous,runWhen:_A?_A.runWhen:null}),this.handlers.length-1}eject(EA){this.handlers[EA]&&(this.handlers[EA]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(EA){ia.forEach(this.handlers,(function(AA){null!==AA&&EA(AA)}))}},Ta={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Na={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Aa,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Pa="undefined"!=typeof window&&"undefined"!=typeof document,Ra="object"==typeof navigator&&navigator||void 0,Da=Pa&&(!Ra||["ReactNative","NativeScript","NS"].indexOf(Ra.product)<0),ba="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Oa=Pa&&window.location.href||"http://localhost",va={...u,...Na},xa=function(EA){function AA(EA,_A,CA,SA){let DA=EA[SA++];if("__proto__"===DA)return!0;const TA=Number.isFinite(+DA),NA=SA>=EA.length;return DA=!DA&&ia.isArray(CA)?CA.length:DA,NA?(ia.hasOwnProp(CA,DA)?CA[DA]=[CA[DA],_A]:CA[DA]=_A,!TA):(CA[DA]&&ia.isObject(CA[DA])||(CA[DA]=[]),AA(EA,_A,CA[DA],SA)&&ia.isArray(CA[DA])&&(CA[DA]=function(EA){const AA={},_A=Object.keys(EA);let CA;const SA=_A.length;let DA;for(CA=0;CA<SA;CA++)DA=_A[CA],AA[DA]=EA[DA];return AA}(CA[DA])),!TA)}if(ia.isFormData(EA)&&ia.isFunction(EA.entries)){const _A={};return ia.forEachEntry(EA,((EA,CA)=>{AA(function(EA){return ia.matchAll(/\w+|\[(\w*)]/g,EA).map((EA=>"[]"===EA[0]?"":EA[1]||EA[0]))}(EA),CA,_A,0)})),_A}return null},wa={transitional:Ta,adapter:["xhr","http","fetch"],transformRequest:[function(EA,AA){const _A=AA.getContentType()||"",CA=_A.indexOf("application/json")>-1,SA=ia.isObject(EA);if(SA&&ia.isHTMLForm(EA)&&(EA=new FormData(EA)),ia.isFormData(EA))return CA?JSON.stringify(xa(EA)):EA;if(ia.isArrayBuffer(EA)||ia.isBuffer(EA)||ia.isStream(EA)||ia.isFile(EA)||ia.isBlob(EA)||ia.isReadableStream(EA))return EA;if(ia.isArrayBufferView(EA))return EA.buffer;if(ia.isURLSearchParams(EA))return AA.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),EA.toString();let DA;if(SA){if(_A.indexOf("application/x-www-form-urlencoded")>-1)return function(EA,AA){return ma(EA,new va.classes.URLSearchParams,Object.assign({visitor:function(EA,AA,_A,CA){return va.isNode&&ia.isBuffer(EA)?(this.append(AA,EA.toString("base64")),!1):CA.defaultVisitor.apply(this,arguments)}},AA))}(EA,this.formSerializer).toString();if((DA=ia.isFileList(EA))||_A.indexOf("multipart/form-data")>-1){const AA=this.env&&this.env.FormData;return ma(DA?{"files[]":EA}:EA,AA&&new AA,this.formSerializer)}}return SA||CA?(AA.setContentType("application/json",!1),function(EA){if(ia.isString(EA))try{return(0,JSON.parse)(EA),ia.trim(EA)}catch(EA){if("SyntaxError"!==EA.name)throw EA}return(0,JSON.stringify)(EA)}(EA)):EA}],transformResponse:[function(EA){const AA=this.transitional||wa.transitional,_A=AA&&AA.forcedJSONParsing,CA="json"===this.responseType;if(ia.isResponse(EA)||ia.isReadableStream(EA))return EA;if(EA&&ia.isString(EA)&&(_A&&!this.responseType||CA)){const _A=!(AA&&AA.silentJSONParsing)&&CA;try{return JSON.parse(EA)}catch(EA){if(_A){if("SyntaxError"===EA.name)throw da.from(EA,da.ERR_BAD_RESPONSE,this,null,this.response);throw EA}}}return EA}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:va.classes.FormData,Blob:va.classes.Blob},validateStatus:function(EA){return EA>=200&&EA<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ia.forEach(["delete","get","head","post","put","patch"],(EA=>{wa.headers[EA]={}}));const Ma=wa,La=ia.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ua=Symbol("internals");function Fa(EA){return EA&&String(EA).trim().toLowerCase()}function ja(EA){return!1===EA||null==EA?EA:ia.isArray(EA)?EA.map(ja):String(EA)}function Va(EA,AA,_A,CA,SA){return ia.isFunction(CA)?CA.call(this,AA,_A):(SA&&(AA=_A),ia.isString(AA)?ia.isString(CA)?-1!==AA.indexOf(CA):ia.isRegExp(CA)?CA.test(AA):void 0:void 0)}class ka{constructor(EA){EA&&this.set(EA)}set(EA,AA,_A){const CA=this;function SA(EA,AA,_A){const SA=Fa(AA);if(!SA)throw new Error("header name must be a non-empty string");const DA=ia.findKey(CA,SA);(!DA||void 0===CA[DA]||!0===_A||void 0===_A&&!1!==CA[DA])&&(CA[DA||AA]=ja(EA))}const DA=(EA,AA)=>ia.forEach(EA,((EA,_A)=>SA(EA,_A,AA)));if(ia.isPlainObject(EA)||EA instanceof this.constructor)DA(EA,AA);else if(ia.isString(EA)&&(EA=EA.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(EA.trim()))DA((EA=>{const AA={};let _A,CA,SA;return EA&&EA.split("\n").forEach((function(EA){SA=EA.indexOf(":"),_A=EA.substring(0,SA).trim().toLowerCase(),CA=EA.substring(SA+1).trim(),!_A||AA[_A]&&La[_A]||("set-cookie"===_A?AA[_A]?AA[_A].push(CA):AA[_A]=[CA]:AA[_A]=AA[_A]?AA[_A]+", "+CA:CA)})),AA})(EA),AA);else if(ia.isObject(EA)&&ia.isIterable(EA)){let _A,CA,SA={};for(const AA of EA){if(!ia.isArray(AA))throw TypeError("Object iterator must return a key-value pair");SA[CA=AA[0]]=(_A=SA[CA])?ia.isArray(_A)?[..._A,AA[1]]:[_A,AA[1]]:AA[1]}DA(SA,AA)}else null!=EA&&SA(AA,EA,_A);return this}get(EA,AA){if(EA=Fa(EA)){const _A=ia.findKey(this,EA);if(_A){const EA=this[_A];if(!AA)return EA;if(!0===AA)return function(EA){const AA=Object.create(null),_A=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let CA;for(;CA=_A.exec(EA);)AA[CA[1]]=CA[2];return AA}(EA);if(ia.isFunction(AA))return AA.call(this,EA,_A);if(ia.isRegExp(AA))return AA.exec(EA);throw new TypeError("parser must be boolean|regexp|function")}}}has(EA,AA){if(EA=Fa(EA)){const _A=ia.findKey(this,EA);return!(!_A||void 0===this[_A]||AA&&!Va(0,this[_A],_A,AA))}return!1}delete(EA,AA){const _A=this;let CA=!1;function SA(EA){if(EA=Fa(EA)){const SA=ia.findKey(_A,EA);!SA||AA&&!Va(0,_A[SA],SA,AA)||(delete _A[SA],CA=!0)}}return ia.isArray(EA)?EA.forEach(SA):SA(EA),CA}clear(EA){const AA=Object.keys(this);let _A=AA.length,CA=!1;for(;_A--;){const SA=AA[_A];EA&&!Va(0,this[SA],SA,EA,!0)||(delete this[SA],CA=!0)}return CA}normalize(EA){const AA=this,_A={};return ia.forEach(this,((CA,SA)=>{const DA=ia.findKey(_A,SA);if(DA)return AA[DA]=ja(CA),void delete AA[SA];const TA=EA?function(EA){return EA.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((EA,AA,_A)=>AA.toUpperCase()+_A))}(SA):String(SA).trim();TA!==SA&&delete AA[SA],AA[TA]=ja(CA),_A[TA]=!0})),this}concat(...EA){return this.constructor.concat(this,...EA)}toJSON(EA){const AA=Object.create(null);return ia.forEach(this,((_A,CA)=>{null!=_A&&!1!==_A&&(AA[CA]=EA&&ia.isArray(_A)?_A.join(", "):_A)})),AA}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([EA,AA])=>EA+": "+AA)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(EA){return EA instanceof this?EA:new this(EA)}static concat(EA,...AA){const _A=new this(EA);return AA.forEach((EA=>_A.set(EA))),_A}static accessor(EA){const AA=(this[Ua]=this[Ua]={accessors:{}}).accessors,_A=this.prototype;function CA(EA){const CA=Fa(EA);AA[CA]||(function(EA,AA){const _A=ia.toCamelCase(" "+AA);["get","set","has"].forEach((CA=>{Object.defineProperty(EA,CA+_A,{value:function(EA,_A,SA){return this[CA].call(this,AA,EA,_A,SA)},configurable:!0})}))}(_A,EA),AA[CA]=!0)}return ia.isArray(EA)?EA.forEach(CA):CA(EA),this}}ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ia.reduceDescriptors(ka.prototype,(({value:EA},AA)=>{let _A=AA[0].toUpperCase()+AA.slice(1);return{get:()=>EA,set(EA){this[_A]=EA}}})),ia.freezeMethods(ka);const $a=ka;function Ba(EA,AA){const _A=this||Ma,CA=AA||_A,SA=$a.from(CA.headers);let DA=CA.data;return ia.forEach(EA,(function(EA){DA=EA.call(_A,DA,SA.normalize(),AA?AA.status:void 0)})),SA.normalize(),DA}function Ga(EA){return!(!EA||!EA.__CANCEL__)}function Wa(EA,AA,_A){da.call(this,EA??"canceled",da.ERR_CANCELED,AA,_A),this.name="CanceledError"}ia.inherits(Wa,da,{__CANCEL__:!0});const Ha=Wa;function qa(EA,AA,_A){const CA=_A.config.validateStatus;_A.status&&CA&&!CA(_A.status)?AA(new da("Request failed with status code "+_A.status,[da.ERR_BAD_REQUEST,da.ERR_BAD_RESPONSE][Math.floor(_A.status/100)-4],_A.config,_A.request,_A)):EA(_A)}const za=function(EA,AA){EA=EA||10;const _A=new Array(EA),CA=new Array(EA);let SA,DA=0,TA=0;return AA=void 0!==AA?AA:1e3,function(NA){const PA=Date.now(),RA=CA[TA];SA||(SA=PA),_A[DA]=NA,CA[DA]=PA;let bA=TA,OA=0;for(;bA!==DA;)OA+=_A[bA++],bA%=EA;if(DA=(DA+1)%EA,DA===TA&&(TA=(TA+1)%EA),PA-SA<AA)return;const vA=RA&&PA-RA;return vA?Math.round(1e3*OA/vA):void 0}},Ya=function(EA,AA){let _A,CA,SA=0,DA=1e3/AA;const TA=(AA,DA=Date.now())=>{SA=DA,_A=null,CA&&(clearTimeout(CA),CA=null),EA.apply(null,AA)};return[(...EA)=>{const AA=Date.now(),NA=AA-SA;NA>=DA?TA(EA,AA):(_A=EA,CA||(CA=setTimeout((()=>{CA=null,TA(_A)}),DA-NA)))},()=>_A&&TA(_A)]},Ka=(EA,AA,_A=3)=>{let CA=0;const SA=za(50,250);return Ya((_A=>{const DA=_A.loaded,TA=_A.lengthComputable?_A.total:void 0,NA=DA-CA,PA=SA(NA);CA=DA,EA({loaded:DA,total:TA,progress:TA?DA/TA:void 0,bytes:NA,rate:PA||void 0,estimated:PA&&TA&&DA<=TA?(TA-DA)/PA:void 0,event:_A,lengthComputable:null!=TA,[AA?"download":"upload"]:!0})}),_A)},Xa=(EA,AA)=>{const _A=null!=EA;return[CA=>AA[0]({lengthComputable:_A,total:EA,loaded:CA}),AA[1]]},Ja=EA=>(...AA)=>ia.asap((()=>EA(...AA))),Qa=va.hasStandardBrowserEnv?((EA,AA)=>_A=>(_A=new URL(_A,va.origin),EA.protocol===_A.protocol&&EA.host===_A.host&&(AA||EA.port===_A.port)))(new URL(va.origin),va.navigator&&/(msie|trident)/i.test(va.navigator.userAgent)):()=>!0,Za=va.hasStandardBrowserEnv?{write(EA,AA,_A,CA,SA,DA){const TA=[EA+"="+encodeURIComponent(AA)];ia.isNumber(_A)&&TA.push("expires="+new Date(_A).toGMTString()),ia.isString(CA)&&TA.push("path="+CA),ia.isString(SA)&&TA.push("domain="+SA),!0===DA&&TA.push("secure"),document.cookie=TA.join("; ")},read(EA){const AA=document.cookie.match(new RegExp("(^|;\\s*)("+EA+")=([^;]*)"));return AA?decodeURIComponent(AA[3]):null},remove(EA){this.write(EA,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eo(EA,AA,_A){let CA=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(AA);return EA&&(CA||0==_A)?function(EA,AA){return AA?EA.replace(/\/?\/$/,"")+"/"+AA.replace(/^\/+/,""):EA}(EA,AA):AA}const to=EA=>EA instanceof $a?{...EA}:EA;function no(EA,AA){AA=AA||{};const _A={};function CA(EA,AA,_A,CA){return ia.isPlainObject(EA)&&ia.isPlainObject(AA)?ia.merge.call({caseless:CA},EA,AA):ia.isPlainObject(AA)?ia.merge({},AA):ia.isArray(AA)?AA.slice():AA}function SA(EA,AA,_A,SA){return ia.isUndefined(AA)?ia.isUndefined(EA)?void 0:CA(void 0,EA,0,SA):CA(EA,AA,0,SA)}function DA(EA,AA){if(!ia.isUndefined(AA))return CA(void 0,AA)}function TA(EA,AA){return ia.isUndefined(AA)?ia.isUndefined(EA)?void 0:CA(void 0,EA):CA(void 0,AA)}function NA(_A,SA,DA){return DA in AA?CA(_A,SA):DA in EA?CA(void 0,_A):void 0}const PA={url:DA,method:DA,data:DA,baseURL:TA,transformRequest:TA,transformResponse:TA,paramsSerializer:TA,timeout:TA,timeoutMessage:TA,withCredentials:TA,withXSRFToken:TA,adapter:TA,responseType:TA,xsrfCookieName:TA,xsrfHeaderName:TA,onUploadProgress:TA,onDownloadProgress:TA,decompress:TA,maxContentLength:TA,maxBodyLength:TA,beforeRedirect:TA,transport:TA,httpAgent:TA,httpsAgent:TA,cancelToken:TA,socketPath:TA,responseEncoding:TA,validateStatus:NA,headers:(EA,AA,_A)=>SA(to(EA),to(AA),0,!0)};return ia.forEach(Object.keys(Object.assign({},EA,AA)),(function(CA){const DA=PA[CA]||SA,TA=DA(EA[CA],AA[CA],CA);ia.isUndefined(TA)&&DA!==NA||(_A[CA]=TA)})),_A}const ro=EA=>{const AA=no({},EA);let _A,{data:CA,withXSRFToken:SA,xsrfHeaderName:DA,xsrfCookieName:TA,headers:NA,auth:PA}=AA;if(AA.headers=NA=$a.from(NA),AA.url=Ca(eo(AA.baseURL,AA.url,AA.allowAbsoluteUrls),EA.params,EA.paramsSerializer),PA&&NA.set("Authorization","Basic "+btoa((PA.username||"")+":"+(PA.password?unescape(encodeURIComponent(PA.password)):""))),ia.isFormData(CA))if(va.hasStandardBrowserEnv||va.hasStandardBrowserWebWorkerEnv)NA.setContentType(void 0);else if(!1!==(_A=NA.getContentType())){const[EA,...AA]=_A?_A.split(";").map((EA=>EA.trim())).filter(Boolean):[];NA.setContentType([EA||"multipart/form-data",...AA].join("; "))}if(va.hasStandardBrowserEnv&&(SA&&ia.isFunction(SA)&&(SA=SA(AA)),SA||!1!==SA&&Qa(AA.url))){const EA=DA&&TA&&Za.read(TA);EA&&NA.set(DA,EA)}return AA},so="undefined"!=typeof XMLHttpRequest&&function(EA){return new Promise((function(AA,_A){const CA=ro(EA);let SA=CA.data;const DA=$a.from(CA.headers).normalize();let TA,NA,PA,RA,bA,{responseType:OA,onUploadProgress:vA,onDownloadProgress:xA}=CA;function wA(){RA&&RA(),bA&&bA(),CA.cancelToken&&CA.cancelToken.unsubscribe(TA),CA.signal&&CA.signal.removeEventListener("abort",TA)}let MA=new XMLHttpRequest;function LA(){if(!MA)return;const CA=$a.from("getAllResponseHeaders"in MA&&MA.getAllResponseHeaders());qa((function(EA){AA(EA),wA()}),(function(EA){_A(EA),wA()}),{data:OA&&"text"!==OA&&"json"!==OA?MA.response:MA.responseText,status:MA.status,statusText:MA.statusText,headers:CA,config:EA,request:MA}),MA=null}MA.open(CA.method.toUpperCase(),CA.url,!0),MA.timeout=CA.timeout,"onloadend"in MA?MA.onloadend=LA:MA.onreadystatechange=function(){MA&&4===MA.readyState&&(0!==MA.status||MA.responseURL&&0===MA.responseURL.indexOf("file:"))&&setTimeout(LA)},MA.onabort=function(){MA&&(_A(new da("Request aborted",da.ECONNABORTED,EA,MA)),MA=null)},MA.onerror=function(){_A(new da("Network Error",da.ERR_NETWORK,EA,MA)),MA=null},MA.ontimeout=function(){let AA=CA.timeout?"timeout of "+CA.timeout+"ms exceeded":"timeout exceeded";const SA=CA.transitional||Ta;CA.timeoutErrorMessage&&(AA=CA.timeoutErrorMessage),_A(new da(AA,SA.clarifyTimeoutError?da.ETIMEDOUT:da.ECONNABORTED,EA,MA)),MA=null},void 0===SA&&DA.setContentType(null),"setRequestHeader"in MA&&ia.forEach(DA.toJSON(),(function(EA,AA){MA.setRequestHeader(AA,EA)})),ia.isUndefined(CA.withCredentials)||(MA.withCredentials=!!CA.withCredentials),OA&&"json"!==OA&&(MA.responseType=CA.responseType),xA&&([PA,bA]=Ka(xA,!0),MA.addEventListener("progress",PA)),vA&&MA.upload&&([NA,RA]=Ka(vA),MA.upload.addEventListener("progress",NA),MA.upload.addEventListener("loadend",RA)),(CA.cancelToken||CA.signal)&&(TA=AA=>{MA&&(_A(!AA||AA.type?new Ha(null,EA,MA):AA),MA.abort(),MA=null)},CA.cancelToken&&CA.cancelToken.subscribe(TA),CA.signal&&(CA.signal.aborted?TA():CA.signal.addEventListener("abort",TA)));const GA=function(EA){const AA=/^([-+\w]{1,25})(:?\/\/|:)/.exec(EA);return AA&&AA[1]||""}(CA.url);GA&&-1===va.protocols.indexOf(GA)?_A(new da("Unsupported protocol "+GA+":",da.ERR_BAD_REQUEST,EA)):MA.send(SA||null)}))},ao=(EA,AA)=>{const{length:_A}=EA=EA?EA.filter(Boolean):[];if(AA||_A){let _A,CA=new AbortController;const SA=function(EA){if(!_A){_A=!0,TA();const AA=EA instanceof Error?EA:this.reason;CA.abort(AA instanceof da?AA:new Ha(AA instanceof Error?AA.message:AA))}};let DA=AA&&setTimeout((()=>{DA=null,SA(new da(`timeout ${AA} of ms exceeded`,da.ETIMEDOUT))}),AA);const TA=()=>{EA&&(DA&&clearTimeout(DA),DA=null,EA.forEach((EA=>{EA.unsubscribe?EA.unsubscribe(SA):EA.removeEventListener("abort",SA)})),EA=null)};EA.forEach((EA=>EA.addEventListener("abort",SA)));const{signal:NA}=CA;return NA.unsubscribe=()=>ia.asap(TA),NA}},oo=function*(EA,AA){let _A=EA.byteLength;if(!AA||_A<AA)return void(yield EA);let CA,SA=0;for(;SA<_A;)CA=SA+AA,yield EA.slice(SA,CA),SA=CA},io=async function*(EA){if(EA[Symbol.asyncIterator])return void(yield*EA);const AA=EA.getReader();try{for(;;){const{done:EA,value:_A}=await AA.read();if(EA)break;yield _A}}finally{await AA.cancel()}},co=(EA,AA,_A,CA)=>{const SA=async function*(EA,AA){for await(const _A of io(EA))yield*oo(_A,AA)}(EA,AA);let DA,TA=0,NA=EA=>{DA||(DA=!0,CA&&CA(EA))};return new ReadableStream({async pull(EA){try{const{done:AA,value:CA}=await SA.next();if(AA)return NA(),void EA.close();let DA=CA.byteLength;if(_A){let EA=TA+=DA;_A(EA)}EA.enqueue(new Uint8Array(CA))}catch(EA){throw NA(EA),EA}},cancel:EA=>(NA(EA),SA.return())},{highWaterMark:2})},lo="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,uo=lo&&"function"==typeof ReadableStream,po=lo&&("function"==typeof TextEncoder?(ho=new TextEncoder,EA=>ho.encode(EA)):async EA=>new Uint8Array(await new Response(EA).arrayBuffer()));var ho;const go=(EA,...AA)=>{try{return!!EA(...AA)}catch(EA){return!1}},fo=uo&&go((()=>{let EA=!1;const AA=new Request(va.origin,{body:new ReadableStream,method:"POST",get duplex(){return EA=!0,"half"}}).headers.has("Content-Type");return EA&&!AA})),mo=uo&&go((()=>ia.isReadableStream(new Response("").body))),yo={stream:mo&&(EA=>EA.body)};var Io;lo&&(Io=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((EA=>{!yo[EA]&&(yo[EA]=ia.isFunction(Io[EA])?AA=>AA[EA]():(AA,_A)=>{throw new da(`Response type '${EA}' is not supported`,da.ERR_NOT_SUPPORT,_A)})})));const Eo=async(EA,AA)=>{const _A=ia.toFiniteNumber(EA.getContentLength());return _A??(async EA=>{if(null==EA)return 0;if(ia.isBlob(EA))return EA.size;if(ia.isSpecCompliantForm(EA)){const AA=new Request(va.origin,{method:"POST",body:EA});return(await AA.arrayBuffer()).byteLength}return ia.isArrayBufferView(EA)||ia.isArrayBuffer(EA)?EA.byteLength:(ia.isURLSearchParams(EA)&&(EA+=""),ia.isString(EA)?(await po(EA)).byteLength:void 0)})(AA)},Ao=lo&&(async EA=>{let{url:AA,method:_A,data:CA,signal:SA,cancelToken:DA,timeout:TA,onDownloadProgress:NA,onUploadProgress:PA,responseType:RA,headers:bA,withCredentials:OA="same-origin",fetchOptions:vA}=ro(EA);RA=RA?(RA+"").toLowerCase():"text";let xA,wA=ao([SA,DA&&DA.toAbortSignal()],TA);const MA=wA&&wA.unsubscribe&&(()=>{wA.unsubscribe()});let LA;try{if(PA&&fo&&"get"!==_A&&"head"!==_A&&0!==(LA=await Eo(bA,CA))){let EA,_A=new Request(AA,{method:"POST",body:CA,duplex:"half"});if(ia.isFormData(CA)&&(EA=_A.headers.get("content-type"))&&bA.setContentType(EA),_A.body){const[EA,AA]=Xa(LA,Ka(Ja(PA)));CA=co(_A.body,65536,EA,AA)}}ia.isString(OA)||(OA=OA?"include":"omit");const SA="credentials"in Request.prototype;xA=new Request(AA,{...vA,signal:wA,method:_A.toUpperCase(),headers:bA.normalize().toJSON(),body:CA,duplex:"half",credentials:SA?OA:void 0});let DA=await fetch(xA,vA);const TA=mo&&("stream"===RA||"response"===RA);if(mo&&(NA||TA&&MA)){const EA={};["status","statusText","headers"].forEach((AA=>{EA[AA]=DA[AA]}));const AA=ia.toFiniteNumber(DA.headers.get("content-length")),[_A,CA]=NA&&Xa(AA,Ka(Ja(NA),!0))||[];DA=new Response(co(DA.body,65536,_A,(()=>{CA&&CA(),MA&&MA()})),EA)}RA=RA||"text";let GA=await yo[ia.findKey(yo,RA)||"text"](DA,EA);return!TA&&MA&&MA(),await new Promise(((AA,_A)=>{qa(AA,_A,{data:GA,headers:$a.from(DA.headers),status:DA.status,statusText:DA.statusText,config:EA,request:xA})}))}catch(AA){if(MA&&MA(),AA&&"TypeError"===AA.name&&/Load failed|fetch/i.test(AA.message))throw Object.assign(new da("Network Error",da.ERR_NETWORK,EA,xA),{cause:AA.cause||AA});throw da.from(AA,AA&&AA.code,EA,xA)}}),_o={http:null,xhr:so,fetch:Ao};ia.forEach(_o,((EA,AA)=>{if(EA){try{Object.defineProperty(EA,"name",{value:AA})}catch(EA){}Object.defineProperty(EA,"adapterName",{value:AA})}}));const Co=EA=>`- ${EA}`,So=EA=>ia.isFunction(EA)||null===EA||!1===EA,To=EA=>{EA=ia.isArray(EA)?EA:[EA];const{length:AA}=EA;let _A,CA;const SA={};for(let DA=0;DA<AA;DA++){let AA;if(_A=EA[DA],CA=_A,!So(_A)&&(CA=_o[(AA=String(_A)).toLowerCase()],void 0===CA))throw new da(`Unknown adapter '${AA}'`);if(CA)break;SA[AA||"#"+DA]=CA}if(!CA){const EA=Object.entries(SA).map((([EA,AA])=>`adapter ${EA} `+(!1===AA?"is not supported by the environment":"is not available in the build")));let _A=AA?EA.length>1?"since :\n"+EA.map(Co).join("\n"):" "+Co(EA[0]):"as no adapter specified";throw new da("There is no suitable adapter to dispatch the request "+_A,"ERR_NOT_SUPPORT")}return CA};function No(EA){if(EA.cancelToken&&EA.cancelToken.throwIfRequested(),EA.signal&&EA.signal.aborted)throw new Ha(null,EA)}function Po(EA){return No(EA),EA.headers=$a.from(EA.headers),EA.data=Ba.call(EA,EA.transformRequest),-1!==["post","put","patch"].indexOf(EA.method)&&EA.headers.setContentType("application/x-www-form-urlencoded",!1),To(EA.adapter||Ma.adapter)(EA).then((function(AA){return No(EA),AA.data=Ba.call(EA,EA.transformResponse,AA),AA.headers=$a.from(AA.headers),AA}),(function(AA){return Ga(AA)||(No(EA),AA&&AA.response&&(AA.response.data=Ba.call(EA,EA.transformResponse,AA.response),AA.response.headers=$a.from(AA.response.headers))),Promise.reject(AA)}))}const Ro="1.10.0",Do={};["object","boolean","number","function","string","symbol"].forEach(((EA,AA)=>{Do[EA]=function(_A){return typeof _A===EA||"a"+(AA<1?"n ":" ")+EA}}));const bo={};Do.transitional=function(EA,AA,_A){function CA(EA,AA){return"[Axios v1.10.0] Transitional option '"+EA+"'"+AA+(_A?". "+_A:"")}return(_A,SA,DA)=>{if(!1===EA)throw new da(CA(SA," has been removed"+(AA?" in "+AA:"")),da.ERR_DEPRECATED);return AA&&!bo[SA]&&(bo[SA]=!0,console.warn(CA(SA," has been deprecated since v"+AA+" and will be removed in the near future"))),!EA||EA(_A,SA,DA)}},Do.spelling=function(EA){return(AA,_A)=>(console.warn(`${_A} is likely a misspelling of ${EA}`),!0)};const Oo={assertOptions:function(EA,AA,_A){if("object"!=typeof EA)throw new da("options must be an object",da.ERR_BAD_OPTION_VALUE);const CA=Object.keys(EA);let SA=CA.length;for(;SA-- >0;){const DA=CA[SA],TA=AA[DA];if(TA){const AA=EA[DA],_A=void 0===AA||TA(AA,DA,EA);if(!0!==_A)throw new da("option "+DA+" must be "+_A,da.ERR_BAD_OPTION_VALUE)}else if(!0!==_A)throw new da("Unknown option "+DA,da.ERR_BAD_OPTION)}},validators:Do},vo=Oo.validators;class xo{constructor(EA){this.defaults=EA||{},this.interceptors={request:new Sa,response:new Sa}}async request(EA,AA){try{return await this._request(EA,AA)}catch(EA){if(EA instanceof Error){let AA={};Error.captureStackTrace?Error.captureStackTrace(AA):AA=new Error;const _A=AA.stack?AA.stack.replace(/^.+\n/,""):"";try{EA.stack?_A&&!String(EA.stack).endsWith(_A.replace(/^.+\n.+\n/,""))&&(EA.stack+="\n"+_A):EA.stack=_A}catch(EA){}}throw EA}}_request(EA,AA){"string"==typeof EA?(AA=AA||{}).url=EA:AA=EA||{},AA=no(this.defaults,AA);const{transitional:_A,paramsSerializer:CA,headers:SA}=AA;void 0!==_A&&Oo.assertOptions(_A,{silentJSONParsing:vo.transitional(vo.boolean),forcedJSONParsing:vo.transitional(vo.boolean),clarifyTimeoutError:vo.transitional(vo.boolean)},!1),null!=CA&&(ia.isFunction(CA)?AA.paramsSerializer={serialize:CA}:Oo.assertOptions(CA,{encode:vo.function,serialize:vo.function},!0)),void 0!==AA.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?AA.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:AA.allowAbsoluteUrls=!0),Oo.assertOptions(AA,{baseUrl:vo.spelling("baseURL"),withXsrfToken:vo.spelling("withXSRFToken")},!0),AA.method=(AA.method||this.defaults.method||"get").toLowerCase();let DA=SA&&ia.merge(SA.common,SA[AA.method]);SA&&ia.forEach(["delete","get","head","post","put","patch","common"],(EA=>{delete SA[EA]})),AA.headers=$a.concat(DA,SA);const TA=[];let NA=!0;this.interceptors.request.forEach((function(EA){"function"==typeof EA.runWhen&&!1===EA.runWhen(AA)||(NA=NA&&EA.synchronous,TA.unshift(EA.fulfilled,EA.rejected))}));const PA=[];let RA;this.interceptors.response.forEach((function(EA){PA.push(EA.fulfilled,EA.rejected)}));let bA,OA=0;if(!NA){const EA=[Po.bind(this),void 0];for(EA.unshift.apply(EA,TA),EA.push.apply(EA,PA),bA=EA.length,RA=Promise.resolve(AA);OA<bA;)RA=RA.then(EA[OA++],EA[OA++]);return RA}bA=TA.length;let vA=AA;for(OA=0;OA<bA;){const AA=TA[OA++],_A=TA[OA++];try{vA=AA(vA)}catch(EA){_A.call(this,EA);break}}try{RA=Po.call(this,vA)}catch(EA){return Promise.reject(EA)}for(OA=0,bA=PA.length;OA<bA;)RA=RA.then(PA[OA++],PA[OA++]);return RA}getUri(EA){return Ca(eo((EA=no(this.defaults,EA)).baseURL,EA.url,EA.allowAbsoluteUrls),EA.params,EA.paramsSerializer)}}ia.forEach(["delete","get","head","options"],(function(EA){xo.prototype[EA]=function(AA,_A){return this.request(no(_A||{},{method:EA,url:AA,data:(_A||{}).data}))}})),ia.forEach(["post","put","patch"],(function(EA){function AA(AA){return function(_A,CA,SA){return this.request(no(SA||{},{method:EA,headers:AA?{"Content-Type":"multipart/form-data"}:{},url:_A,data:CA}))}}xo.prototype[EA]=AA(),xo.prototype[EA+"Form"]=AA(!0)}));const wo=xo;class Mo{constructor(EA){if("function"!=typeof EA)throw new TypeError("executor must be a function.");let AA;this.promise=new Promise((function(EA){AA=EA}));const _A=this;this.promise.then((EA=>{if(!_A._listeners)return;let AA=_A._listeners.length;for(;AA-- >0;)_A._listeners[AA](EA);_A._listeners=null})),this.promise.then=EA=>{let AA;const CA=new Promise((EA=>{_A.subscribe(EA),AA=EA})).then(EA);return CA.cancel=function(){_A.unsubscribe(AA)},CA},EA((function(EA,CA,SA){_A.reason||(_A.reason=new Ha(EA,CA,SA),AA(_A.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(EA){this.reason?EA(this.reason):this._listeners?this._listeners.push(EA):this._listeners=[EA]}unsubscribe(EA){if(!this._listeners)return;const AA=this._listeners.indexOf(EA);-1!==AA&&this._listeners.splice(AA,1)}toAbortSignal(){const EA=new AbortController,AA=AA=>{EA.abort(AA)};return this.subscribe(AA),EA.signal.unsubscribe=()=>this.unsubscribe(AA),EA.signal}static source(){let EA;return{token:new Mo((function(AA){EA=AA})),cancel:EA}}}const Lo=Mo,Uo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uo).forEach((([EA,AA])=>{Uo[AA]=EA}));const Fo=Uo,jo=function EA(AA){const _A=new wo(AA),CA=Is(wo.prototype.request,_A);return ia.extend(CA,wo.prototype,_A,{allOwnKeys:!0}),ia.extend(CA,_A,null,{allOwnKeys:!0}),CA.create=function(_A){return EA(no(AA,_A))},CA}(Ma);jo.Axios=wo,jo.CanceledError=Ha,jo.CancelToken=Lo,jo.isCancel=Ga,jo.VERSION=Ro,jo.toFormData=ma,jo.AxiosError=da,jo.Cancel=jo.CanceledError,jo.all=function(EA){return Promise.all(EA)},jo.spread=function(EA){return function(AA){return EA.apply(null,AA)}},jo.isAxiosError=function(EA){return ia.isObject(EA)&&!0===EA.isAxiosError},jo.mergeConfig=no,jo.AxiosHeaders=$a,jo.formToJSON=EA=>xa(ia.isHTMLForm(EA)?new FormData(EA):EA),jo.getAdapter=To,jo.HttpStatusCode=Fo,jo.default=jo;const Vo=jo;function ko(EA){var AA=EA((function(EA){Error.call(EA),EA.stack=(new Error).stack}));return AA.prototype=Object.create(Error.prototype),AA.prototype.constructor=AA,AA}var $o=ko((function(EA){return function(){EA(this),this.name="EmptyError",this.message="no elements in sequence"}})),Bo=function(EA,AA){return Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(EA,AA){EA.__proto__=AA}||function(EA,AA){for(var _A in AA)Object.prototype.hasOwnProperty.call(AA,_A)&&(EA[_A]=AA[_A])},Bo(EA,AA)};function Go(EA,AA){if("function"!=typeof AA&&null!==AA)throw new TypeError("Class extends value "+String(AA)+" is not a constructor or null");function _A(){this.constructor=EA}Bo(EA,AA),EA.prototype=null===AA?Object.create(AA):(_A.prototype=AA.prototype,new _A)}function Wo(EA,AA,_A,CA){return new(_A||(_A=Promise))((function(SA,DA){function TA(EA){try{PA(CA.next(EA))}catch(EA){DA(EA)}}function NA(EA){try{PA(CA.throw(EA))}catch(EA){DA(EA)}}function PA(EA){var AA;EA.done?SA(EA.value):(AA=EA.value,AA instanceof _A?AA:new _A((function(EA){EA(AA)}))).then(TA,NA)}PA((CA=CA.apply(EA,AA||[])).next())}))}function Ho(EA,AA){var _A,CA,SA,DA={label:0,sent:function(){if(1&SA[0])throw SA[1];return SA[1]},trys:[],ops:[]},TA=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return TA.next=NA(0),TA.throw=NA(1),TA.return=NA(2),"function"==typeof Symbol&&(TA[Symbol.iterator]=function(){return this}),TA;function NA(NA){return function(PA){return function(NA){if(_A)throw new TypeError("Generator is already executing.");for(;TA&&(TA=0,NA[0]&&(DA=0)),DA;)try{if(_A=1,CA&&(SA=2&NA[0]?CA.return:NA[0]?CA.throw||((SA=CA.return)&&SA.call(CA),0):CA.next)&&!(SA=SA.call(CA,NA[1])).done)return SA;switch(CA=0,SA&&(NA=[2&NA[0],SA.value]),NA[0]){case 0:case 1:SA=NA;break;case 4:return DA.label++,{value:NA[1],done:!1};case 5:DA.label++,CA=NA[1],NA=[0];continue;case 7:NA=DA.ops.pop(),DA.trys.pop();continue;default:if(!((SA=(SA=DA.trys).length>0&&SA[SA.length-1])||6!==NA[0]&&2!==NA[0])){DA=0;continue}if(3===NA[0]&&(!SA||NA[1]>SA[0]&&NA[1]<SA[3])){DA.label=NA[1];break}if(6===NA[0]&&DA.label<SA[1]){DA.label=SA[1],SA=NA;break}if(SA&&DA.label<SA[2]){DA.label=SA[2],DA.ops.push(NA);break}SA[2]&&DA.ops.pop(),DA.trys.pop();continue}NA=AA.call(EA,DA)}catch(EA){NA=[6,EA],CA=0}finally{_A=SA=0}if(5&NA[0])throw NA[1];return{value:NA[0]?NA[1]:void 0,done:!0}}([NA,PA])}}}function qo(EA){var AA="function"==typeof Symbol&&Symbol.iterator,_A=AA&&EA[AA],CA=0;if(_A)return _A.call(EA);if(EA&&"number"==typeof EA.length)return{next:function(){return EA&&CA>=EA.length&&(EA=void 0),{value:EA&&EA[CA++],done:!EA}}};throw new TypeError(AA?"Object is not iterable.":"Symbol.iterator is not defined.")}function zo(EA,AA){var _A="function"==typeof Symbol&&EA[Symbol.iterator];if(!_A)return EA;var CA,SA,DA=_A.call(EA),TA=[];try{for(;(void 0===AA||AA-- >0)&&!(CA=DA.next()).done;)TA.push(CA.value)}catch(EA){SA={error:EA}}finally{try{CA&&!CA.done&&(_A=DA.return)&&_A.call(DA)}finally{if(SA)throw SA.error}}return TA}function Yo(EA,AA,_A){if(_A||2===arguments.length)for(var CA,SA=0,DA=AA.length;SA<DA;SA++)!CA&&SA in AA||(CA||(CA=Array.prototype.slice.call(AA,0,SA)),CA[SA]=AA[SA]);return EA.concat(CA||Array.prototype.slice.call(AA))}function Ko(EA){return this instanceof Ko?(this.v=EA,this):new Ko(EA)}function Xo(EA,AA,_A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var CA,SA=_A.apply(EA,AA||[]),DA=[];return CA=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),TA("next"),TA("throw"),TA("return",(function(EA){return function(AA){return Promise.resolve(AA).then(EA,RA)}})),CA[Symbol.asyncIterator]=function(){return this},CA;function TA(EA,AA){SA[EA]&&(CA[EA]=function(AA){return new Promise((function(_A,CA){DA.push([EA,AA,_A,CA])>1||NA(EA,AA)}))},AA&&(CA[EA]=AA(CA[EA])))}function NA(EA,AA){try{(_A=SA[EA](AA)).value instanceof Ko?Promise.resolve(_A.value.v).then(PA,RA):bA(DA[0][2],_A)}catch(EA){bA(DA[0][3],EA)}var _A}function PA(EA){NA("next",EA)}function RA(EA){NA("throw",EA)}function bA(EA,AA){EA(AA),DA.shift(),DA.length&&NA(DA[0][0],DA[0][1])}}function Jo(EA){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var AA,_A=EA[Symbol.asyncIterator];return _A?_A.call(EA):(EA=qo(EA),AA={},CA("next"),CA("throw"),CA("return"),AA[Symbol.asyncIterator]=function(){return this},AA);function CA(_A){AA[_A]=EA[_A]&&function(AA){return new Promise((function(CA,SA){!function(EA,AA,_A,CA){Promise.resolve(CA).then((function(AA){EA({value:AA,done:_A})}),AA)}(CA,SA,(AA=EA[_A](AA)).done,AA.value)}))}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Qo=function(EA){return EA&&"number"==typeof EA.length&&"function"!=typeof EA};function Zo(EA){return"function"==typeof EA}function ei(EA){return Zo(null==EA?void 0:EA.then)}var ti=ko((function(EA){return function(AA){EA(this),this.message=AA?AA.length+" errors occurred during unsubscription:\n"+AA.map((function(EA,AA){return AA+1+") "+EA.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=AA}}));function ni(EA,AA){if(EA){var _A=EA.indexOf(AA);0<=_A&&EA.splice(_A,1)}}var ri=function(){function EA(EA){this.initialTeardown=EA,this.closed=!1,this._parentage=null,this._finalizers=null}return EA.prototype.unsubscribe=function(){var EA,AA,_A,CA,SA;if(!this.closed){this.closed=!0;var DA=this._parentage;if(DA)if(this._parentage=null,Array.isArray(DA))try{for(var TA=qo(DA),NA=TA.next();!NA.done;NA=TA.next())NA.value.remove(this)}catch(AA){EA={error:AA}}finally{try{NA&&!NA.done&&(AA=TA.return)&&AA.call(TA)}finally{if(EA)throw EA.error}}else DA.remove(this);var PA=this.initialTeardown;if(Zo(PA))try{PA()}catch(EA){SA=EA instanceof ti?EA.errors:[EA]}var RA=this._finalizers;if(RA){this._finalizers=null;try{for(var bA=qo(RA),OA=bA.next();!OA.done;OA=bA.next()){var vA=OA.value;try{oi(vA)}catch(EA){SA=null!=SA?SA:[],EA instanceof ti?SA=Yo(Yo([],zo(SA)),zo(EA.errors)):SA.push(EA)}}}catch(EA){_A={error:EA}}finally{try{OA&&!OA.done&&(CA=bA.return)&&CA.call(bA)}finally{if(_A)throw _A.error}}}if(SA)throw new ti(SA)}},EA.prototype.add=function(AA){var _A;if(AA&&AA!==this)if(this.closed)oi(AA);else{if(AA instanceof EA){if(AA.closed||AA._hasParent(this))return;AA._addParent(this)}(this._finalizers=null!==(_A=this._finalizers)&&void 0!==_A?_A:[]).push(AA)}},EA.prototype._hasParent=function(EA){var AA=this._parentage;return AA===EA||Array.isArray(AA)&&AA.includes(EA)},EA.prototype._addParent=function(EA){var AA=this._parentage;this._parentage=Array.isArray(AA)?(AA.push(EA),AA):AA?[AA,EA]:EA},EA.prototype._removeParent=function(EA){var AA=this._parentage;AA===EA?this._parentage=null:Array.isArray(AA)&&ni(AA,EA)},EA.prototype.remove=function(AA){var _A=this._finalizers;_A&&ni(_A,AA),AA instanceof EA&&AA._removeParent(this)},EA.EMPTY=function(){var AA=new EA;return AA.closed=!0,AA}(),EA}(),si=ri.EMPTY;function ai(EA){return EA instanceof ri||EA&&"closed"in EA&&Zo(EA.remove)&&Zo(EA.add)&&Zo(EA.unsubscribe)}function oi(EA){Zo(EA)?EA():EA.unsubscribe()}var ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ci={setTimeout:function(EA,AA){for(var _A=[],CA=2;CA<arguments.length;CA++)_A[CA-2]=arguments[CA];var SA=ci.delegate;return(null==SA?void 0:SA.setTimeout)?SA.setTimeout.apply(SA,Yo([EA,AA],zo(_A))):setTimeout.apply(void 0,Yo([EA,AA],zo(_A)))},clearTimeout:function(EA){var AA=ci.delegate;return((null==AA?void 0:AA.clearTimeout)||clearTimeout)(EA)},delegate:void 0};function li(EA){ci.setTimeout((function(){var AA=ii.onUnhandledError;if(!AA)throw EA;AA(EA)}))}function ui(){}var di=pi("C",void 0,void 0);function pi(EA,AA,_A){return{kind:EA,value:AA,error:_A}}var hi=null;function gi(EA){if(ii.useDeprecatedSynchronousErrorHandling){var AA=!hi;if(AA&&(hi={errorThrown:!1,error:null}),EA(),AA){var _A=hi,CA=_A.errorThrown,SA=_A.error;if(hi=null,CA)throw SA}}else EA()}var fi=function(EA){function AA(AA){var _A=EA.call(this)||this;return _A.isStopped=!1,AA?(_A.destination=AA,ai(AA)&&AA.add(_A)):_A.destination=Ci,_A}return Go(AA,EA),AA.create=function(EA,AA,_A){return new Ei(EA,AA,_A)},AA.prototype.next=function(EA){this.isStopped?_i(function(EA){return pi("N",EA,void 0)}(EA),this):this._next(EA)},AA.prototype.error=function(EA){this.isStopped?_i(pi("E",void 0,EA),this):(this.isStopped=!0,this._error(EA))},AA.prototype.complete=function(){this.isStopped?_i(di,this):(this.isStopped=!0,this._complete())},AA.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,EA.prototype.unsubscribe.call(this),this.destination=null)},AA.prototype._next=function(EA){this.destination.next(EA)},AA.prototype._error=function(EA){try{this.destination.error(EA)}finally{this.unsubscribe()}},AA.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},AA}(ri),mi=Function.prototype.bind;function yi(EA,AA){return mi.call(EA,AA)}var Ii=function(){function EA(EA){this.partialObserver=EA}return EA.prototype.next=function(EA){var AA=this.partialObserver;if(AA.next)try{AA.next(EA)}catch(EA){Ai(EA)}},EA.prototype.error=function(EA){var AA=this.partialObserver;if(AA.error)try{AA.error(EA)}catch(EA){Ai(EA)}else Ai(EA)},EA.prototype.complete=function(){var EA=this.partialObserver;if(EA.complete)try{EA.complete()}catch(EA){Ai(EA)}},EA}(),Ei=function(EA){function AA(AA,_A,CA){var SA,DA,TA=EA.call(this)||this;return Zo(AA)||!AA?SA={next:null!=AA?AA:void 0,error:null!=_A?_A:void 0,complete:null!=CA?CA:void 0}:TA&&ii.useDeprecatedNextContext?((DA=Object.create(AA)).unsubscribe=function(){return TA.unsubscribe()},SA={next:AA.next&&yi(AA.next,DA),error:AA.error&&yi(AA.error,DA),complete:AA.complete&&yi(AA.complete,DA)}):SA=AA,TA.destination=new Ii(SA),TA}return Go(AA,EA),AA}(fi);function Ai(EA){var AA;ii.useDeprecatedSynchronousErrorHandling?(AA=EA,ii.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=AA)):li(EA)}function _i(EA,AA){var _A=ii.onStoppedNotification;_A&&ci.setTimeout((function(){return _A(EA,AA)}))}var Ci={closed:!0,next:ui,error:function(EA){throw EA},complete:ui},Si="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ti(EA){return EA}function Ni(EA){return 0===EA.length?Ti:1===EA.length?EA[0]:function(AA){return EA.reduce((function(EA,AA){return AA(EA)}),AA)}}var Pi=function(){function EA(EA){EA&&(this._subscribe=EA)}return EA.prototype.lift=function(AA){var _A=new EA;return _A.source=this,_A.operator=AA,_A},EA.prototype.subscribe=function(EA,AA,_A){var CA,SA=this,DA=(CA=EA)&&CA instanceof fi||function(EA){return EA&&Zo(EA.next)&&Zo(EA.error)&&Zo(EA.complete)}(CA)&&ai(CA)?EA:new Ei(EA,AA,_A);return gi((function(){var EA=SA,AA=EA.operator,_A=EA.source;DA.add(AA?AA.call(DA,_A):_A?SA._subscribe(DA):SA._trySubscribe(DA))})),DA},EA.prototype._trySubscribe=function(EA){try{return this._subscribe(EA)}catch(t){EA.error(t)}},EA.prototype.forEach=function(EA,AA){var _A=this;return new(AA=Ri(AA))((function(AA,CA){var SA=new Ei({next:function(AA){try{EA(AA)}catch(EA){CA(EA),SA.unsubscribe()}},error:CA,complete:AA});_A.subscribe(SA)}))},EA.prototype._subscribe=function(EA){var AA;return null===(AA=this.source)||void 0===AA?void 0:AA.subscribe(EA)},EA.prototype[Si]=function(){return this},EA.prototype.pipe=function(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];return Ni(EA)(this)},EA.prototype.toPromise=function(EA){var AA=this;return new(EA=Ri(EA))((function(EA,_A){var CA;AA.subscribe((function(EA){return CA=EA}),(function(EA){return _A(EA)}),(function(){return EA(CA)}))}))},EA.create=function(AA){return new EA(AA)},EA}();function Ri(EA){var AA;return null!==(AA=null!=EA?EA:ii.Promise)&&void 0!==AA?AA:Promise}function Di(EA){return Zo(EA[Si])}function bi(EA){return Symbol.asyncIterator&&Zo(null==EA?void 0:EA[Symbol.asyncIterator])}function Oi(EA){return new TypeError("You provided "+(null!==EA&&"object"==typeof EA?"an invalid object":"'"+EA+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var vi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function xi(EA){return Zo(null==EA?void 0:EA[vi])}function wi(EA){return Xo(this,arguments,(function(){var AA,_A,CA;return Ho(this,(function(SA){switch(SA.label){case 0:AA=EA.getReader(),SA.label=1;case 1:SA.trys.push([1,,9,10]),SA.label=2;case 2:return[4,Ko(AA.read())];case 3:return _A=SA.sent(),CA=_A.value,_A.done?[4,Ko(void 0)]:[3,5];case 4:return[2,SA.sent()];case 5:return[4,Ko(CA)];case 6:return[4,SA.sent()];case 7:return SA.sent(),[3,2];case 8:return[3,10];case 9:return AA.releaseLock(),[7];case 10:return[2]}}))}))}function Mi(EA){return Zo(null==EA?void 0:EA.getReader)}function Li(EA){if(EA instanceof Pi)return EA;if(null!=EA){if(Di(EA))return SA=EA,new Pi((function(EA){var AA=SA[Si]();if(Zo(AA.subscribe))return AA.subscribe(EA);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Qo(EA))return CA=EA,new Pi((function(EA){for(var AA=0;AA<CA.length&&!EA.closed;AA++)EA.next(CA[AA]);EA.complete()}));if(ei(EA))return _A=EA,new Pi((function(EA){_A.then((function(AA){EA.closed||(EA.next(AA),EA.complete())}),(function(AA){return EA.error(AA)})).then(null,li)}));if(bi(EA))return Ui(EA);if(xi(EA))return AA=EA,new Pi((function(EA){var _A,CA;try{for(var SA=qo(AA),DA=SA.next();!DA.done;DA=SA.next()){var TA=DA.value;if(EA.next(TA),EA.closed)return}}catch(EA){_A={error:EA}}finally{try{DA&&!DA.done&&(CA=SA.return)&&CA.call(SA)}finally{if(_A)throw _A.error}}EA.complete()}));if(Mi(EA))return Ui(wi(EA))}var AA,_A,CA,SA;throw Oi(EA)}function Ui(EA){return new Pi((function(AA){(function(EA,AA){var _A,CA,SA,DA;return Wo(this,void 0,void 0,(function(){var TA,NA;return Ho(this,(function(PA){switch(PA.label){case 0:PA.trys.push([0,5,6,11]),_A=Jo(EA),PA.label=1;case 1:return[4,_A.next()];case 2:if((CA=PA.sent()).done)return[3,4];if(TA=CA.value,AA.next(TA),AA.closed)return[2];PA.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return NA=PA.sent(),SA={error:NA},[3,11];case 6:return PA.trys.push([6,,9,10]),CA&&!CA.done&&(DA=_A.return)?[4,DA.call(_A)]:[3,8];case 7:PA.sent(),PA.label=8;case 8:return[3,10];case 9:if(SA)throw SA.error;return[7];case 10:return[7];case 11:return AA.complete(),[2]}}))}))})(EA,AA).catch((function(EA){return AA.error(EA)}))}))}function Fi(EA,AA,_A,CA,SA){void 0===CA&&(CA=0),void 0===SA&&(SA=!1);var DA=AA.schedule((function(){_A(),SA?EA.add(this.schedule(null,CA)):this.unsubscribe()}),CA);if(EA.add(DA),!SA)return DA}function ji(EA){return function(AA){if(function(EA){return Zo(null==EA?void 0:EA.lift)}(AA))return AA.lift((function(AA){try{return EA(AA,this)}catch(EA){this.error(EA)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Vi(EA,AA,_A,CA,SA){return new ki(EA,AA,_A,CA,SA)}var ki=function(EA){function AA(AA,_A,CA,SA,DA,TA){var NA=EA.call(this,AA)||this;return NA.onFinalize=DA,NA.shouldUnsubscribe=TA,NA._next=_A?function(EA){try{_A(EA)}catch(EA){AA.error(EA)}}:EA.prototype._next,NA._error=SA?function(EA){try{SA(EA)}catch(EA){AA.error(EA)}finally{this.unsubscribe()}}:EA.prototype._error,NA._complete=CA?function(){try{CA()}catch(EA){AA.error(EA)}finally{this.unsubscribe()}}:EA.prototype._complete,NA}return Go(AA,EA),AA.prototype.unsubscribe=function(){var AA;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var _A=this.closed;EA.prototype.unsubscribe.call(this),!_A&&(null===(AA=this.onFinalize)||void 0===AA||AA.call(this))}},AA}(fi);function $i(EA,AA){return void 0===AA&&(AA=0),ji((function(_A,CA){_A.subscribe(Vi(CA,(function(_A){return Fi(CA,EA,(function(){return CA.next(_A)}),AA)}),(function(){return Fi(CA,EA,(function(){return CA.complete()}),AA)}),(function(_A){return Fi(CA,EA,(function(){return CA.error(_A)}),AA)})))}))}function Bi(EA,AA){return void 0===AA&&(AA=0),ji((function(_A,CA){CA.add(EA.schedule((function(){return _A.subscribe(CA)}),AA))}))}function Gi(EA,AA){if(!EA)throw new Error("Iterable cannot be null");return new Pi((function(_A){Fi(_A,AA,(function(){var CA=EA[Symbol.asyncIterator]();Fi(_A,AA,(function(){CA.next().then((function(EA){EA.done?_A.complete():_A.next(EA.value)}))}),0,!0)}))}))}function Wi(EA,AA){if(null!=EA){if(Di(EA))return function(EA,AA){return Li(EA).pipe(Bi(AA),$i(AA))}(EA,AA);if(Qo(EA))return function(EA,AA){return new Pi((function(_A){var CA=0;return AA.schedule((function(){CA===EA.length?_A.complete():(_A.next(EA[CA++]),_A.closed||this.schedule())}))}))}(EA,AA);if(ei(EA))return function(EA,AA){return Li(EA).pipe(Bi(AA),$i(AA))}(EA,AA);if(bi(EA))return Gi(EA,AA);if(xi(EA))return function(EA,AA){return new Pi((function(_A){var CA;return Fi(_A,AA,(function(){CA=EA[vi](),Fi(_A,AA,(function(){var EA,AA,SA;try{AA=(EA=CA.next()).value,SA=EA.done}catch(EA){return void _A.error(EA)}SA?_A.complete():_A.next(AA)}),0,!0)})),function(){return Zo(null==CA?void 0:CA.return)&&CA.return()}}))}(EA,AA);if(Mi(EA))return function(EA,AA){return Gi(wi(EA),AA)}(EA,AA)}throw Oi(EA)}function Hi(EA,AA){return AA?Wi(EA,AA):Li(EA)}function qi(EA,AA,_A){var CA=Zo(EA)||AA||_A?{next:EA,error:AA,complete:_A}:EA;return CA?ji((function(EA,AA){var _A;null===(_A=CA.subscribe)||void 0===_A||_A.call(CA);var SA=!0;EA.subscribe(Vi(AA,(function(EA){var _A;null===(_A=CA.next)||void 0===_A||_A.call(CA,EA),AA.next(EA)}),(function(){var EA;SA=!1,null===(EA=CA.complete)||void 0===EA||EA.call(CA),AA.complete()}),(function(EA){var _A;SA=!1,null===(_A=CA.error)||void 0===_A||_A.call(CA,EA),AA.error(EA)}),(function(){var EA,AA;SA&&(null===(EA=CA.unsubscribe)||void 0===EA||EA.call(CA)),null===(AA=CA.finalize)||void 0===AA||AA.call(CA)})))})):Ti}class zi{constructor(EA,AA=!0){this.config=EA,AA?(this.ssKeyConfig=EA,this.reloadConfig()):this.updateConfig(EA,!1)}static init(EA,AA=!0){return new zi(EA,AA)}updateConfig(EA,AA=!0){AA?window.sessionStorage.setItem(this.ssKeyConfig,JSON.stringify(this.config)):Tc(EA)}reloadConfig(EA=!0){if(EA){const EA=window.sessionStorage.getItem(this.ssKeyConfig);this.config=EA?JSON.parse(EA):null}else this.config=Nc()}async buildAuthorizeUrl(EA){EA=EA||window.btoa(location.origin);let{sessionIndex:AA}=this.config;const{password:_A}=this.config,CA=this.config.clientId?this.config.clientId:this.config.client_id,SA=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,DA=this.config.authorizeUri?this.config.authorizeUri:this.config.endPoints.authorize,TA=this.config.authService?this.config.authService:this.config.authentication_service||"pega",NA=this.config.appAlias?this.config.appAlias:gp.getApplicationAlias(),PA=this.config.userIdentifier?this.config.userIdentifier:this.config.user_identifier;AA=AA||this.config.tokenInfo.session_index;const RA=AA?`&session_index=${AA}`:`${PA}`?`&UserIdentifier=${PA}`:`${_A}`?`&Password=${window.atob(_A)}`:"",bA=new Uint8Array(64);window.crypto?.getRandomValues(bA),this.config.codeVerifier=this.base64UrlSafeEncode(bA),this.updateConfig(this.config,!1);const OA=NA?`+app.alias.${NA.replace(/^app\//,"")}`:"";return this.getCodeChallenge(this.config.codeVerifier)?.then((AA=>`${DA}?client_id=${CA}&response_type=code&redirect_uri=${SA}&scope=openid${OA}&state=${EA}&code_challenge=${AA}&code_challenge_method=S256&authentication_service=${TA}&enable_psyncId=true${RA}`))?.catch((()=>null))}getTokenAndFinish=EA=>{window.removeEventListener("message",this.authMessageHandler,!1),this.getToken(EA,!1).then((()=>{})).catch((EA=>{console.log(EA)}))};authMessageHandler=EA=>{if(EA.origin!==this.getRedirectUriOrigin())return;if(!EA.data||!EA.data.type||"PegaAuth"!==EA.data.type)return;const AA=EA.data.code.toString();this.getTokenAndFinish(AA)};getRedirectUriOrigin=()=>{let{redirectUri:EA}=this.config;EA=EA||this.config.redirect_uri;const AA=EA.indexOf("//"),_A=-1!==AA?EA.indexOf("/",AA+2):-1;return-1!==_A?EA.substring(0,_A):EA};getToken(EA,AA){this.reloadConfig(AA);const _A=this.config.clientId?this.config.clientId:this.config.client_id,CA=this.config.clientSecret?this.config.clientSecret:this.config.client_secret,SA=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,DA=this.config.tokenUri?this.config.tokenUri:this.config.endPoints.token,{codeVerifier:TA}=this.config,NA=window.location.search,PA=new URLSearchParams(NA),RA=EA||PA.get("code"),bA=new URLSearchParams;return bA.append("client_id",_A),CA&&bA.append("client_secret",CA),bA.append("grant_type","authorization_code"),bA.append("code",RA),bA.append("redirect_uri",SA),bA.append("code_verifier",TA),this.config?.secureCookie&&bA.append("send_token_as_cookie","true"),yc(DA,{method:"POST",headers:new Headers({"content-type":"application/x-www-form-urlencoded"}),body:bA.toString()}).then((EA=>EA.data)).then((EA=>{EA.eA=Date.now()+1e3*EA.expires_in;let _A=!1;if(this.config.codeVerifier&&(delete this.config.codeVerifier,_A=!0),EA.session_index&&(this.config.session_index=EA.session_index,_A=!0),_A){this.updateConfig(this.config,AA),this.config?.secureCookie?Cc({pzCTkn:EA?.csrf}):(Sc({tokenInfo:EA}),Cc({Authorization:`${EA?.token_type} ${EA?.access_token}`}));const{onTokenRetrieval:_A}=this.config;_A&&"function"==typeof _A&&_A(EA),window.postMessage("oAuthSuccess")}return EA})).catch((()=>null))}sha256Hash(EA){return window.crypto?.subtle?.digest("SHA-256",(new TextEncoder).encode(EA))}encode64(EA){return window.btoa(new Uint8Array(EA).reduce(((EA,AA)=>EA+String.fromCharCode(AA)),""))}base64UrlSafeEncode(EA){return this.encode64(EA).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}getCodeChallenge(EA){return this.sha256Hash(EA)?.then((EA=>this.base64UrlSafeEncode(EA))).catch((EA=>{console.log(EA)})).finally((()=>null))}}const Yi=zi,Ki=async()=>new Promise((async(EA,AA)=>{const _A=Pc();if(!_A?.tokenInfo)return void AA(new Error("Missing token information."));const{access_token:CA,refresh_token:SA=null}=_A.tokenInfo,{revoke:DA}=_A.endPoints,{client_id:TA,client_secret:NA,secureCookie:PA}=_A,RA={"content-type":"application/x-www-form-urlencoded"};NA&&(RA.authorization=`Basic ${window.btoa(`${TA}:${NA}`)}`);const bA=new URLSearchParams;NA||bA.append("client_id",TA),PA&&bA.append("send_token_as_cookie","true");const OA=SA?"refresh_token":"access_token",vA="access_token"===OA?CA:SA;!PA&&vA&&bA.append("token",vA),bA.append("token_type_hint",OA),await yc(DA,{method:"POST",headers:new Headers(RA),credentials:PA?"include":"omit",body:bA.toString(),withoutDefaultHeaders:!0}),Cc({Authorization:null}),Sc({tokenInfo:null}),EA()})),Xi=async EA=>{const AA={};if("OAuth2.0"===EA?.authType){const _A=new Yi(EA,!1);AA.reauthUrl=await _A.buildAuthorizeUrl(),AA.redirectOrigin=_A.getRedirectUriOrigin(),window.addEventListener("message",_A.authMessageHandler,!1)}else AA.reauthUrl=T()+(S()?`${S()}`:"/?reAuth=true");return AA},Ji=(EA,AA)=>{Xi(AA).then((AA=>{const _A={openReauthMessageModal:!0,reAuthenticationURL:AA.reauthUrl,url:EA,redirectOrigin:AA.redirectOrigin};Yr.publish(B.PUB_SUB_EVENTS.EVENT_REAUTH,_A)}))},Qi=EA=>{let AA="",_A={},CA={},SA=!0;if("OAuth2.0"===EA?.authType){AA=EA.endPoints.token;const DA=new URLSearchParams;(!EA.tokenInfo.refresh_token||EA.tokenInfo.refresh_token&&EA.tokenInfo.refresh_token.length<=0)&&(SA=!1),DA.append("client_id",EA.client_id),DA.append("grant_type","refresh_token"),EA.clientSecret&&DA.append("client_secret",EA.clientSecret),EA.secureCookie&&DA.append("send_token_as_cookie","true"),EA.tokenInfo?.refresh_token&&DA.append("refresh_token",EA.tokenInfo.refresh_token),_A={method:"POST",body:DA.toString(),headers:{"content-type":"application/x-www-form-urlencoded"}},CA={success:AA=>{const{data:_A}=AA,CA={access_token:_A?.access_token,refresh_token:_A?.refresh_token};Sc({tokenInfo:{...EA.tokenInfo,...CA}}),EA.secureCookie?Cc({pzCTkn:_A?.csrf}):Cc({Authorization:`${_A?.token_type} ${_A?.access_token}`});const{onTokenRetrieval:SA}=EA;SA&&"function"==typeof SA&&SA(_A)},failure:AA=>{if(EA.popupReauth)return Ji(AA,EA);Yr.publish(B.PUB_SUB_EVENTS.EVENT_FULL_REAUTH,EA)}}}else AA=`${T()}/updateSession`,_A={method:"GET",headers:{}},CA={failure:Ji};return{url:AA,config:_A,callback:CA,isRefreshTokenPresent:SA}},Zi=(EA,AA)=>"OAuth2.0"===AA?.authType?EA?.includes(AA.endPoints.token):EA?.includes("updateSession"),ec=EA=>{const{config:AA}=EA,_A=AA.headers&&AA.headers.context;return AA.data&&(AA.body=AA.data),{url:AA.url,config:AA,context:_A}},tc=(EA,AA,_A)=>{const{config:CA}=EA,{url:SA,config:DA,callback:TA,isRefreshTokenPresent:NA}=Qi(_A),PA=CA.headers&&CA.headers.context;CA.data&&(CA.body=CA.data);const RA=Ic(CA.url,CA,PA,AA);return NA?yc(SA,DA).then((EA=>(AA.setUpdateSessionStatus(!1),TA?.success?.(EA,CA),Yr.publish("updateSession",{updateStatus:"success"}),RA.then((EA=>Promise.resolve(EA))).catch((EA=>Promise.reject(EA)))))).catch((EA=>EA&&EA.config&&Zi(EA.config.url,_A)?(TA?.failure?.(CA.url,_A),RA):Promise.reject(EA))):(TA?.failure?.(CA.url,_A),RA)},nc=(EA,AA,_A,CA)=>{if(EA.config&&Zi(EA.config.url,_A))return Promise.reject(EA);if(EA.response&&EA.response.status&&401===EA.response.status&&!AA.getUpdateSessionStatus()){if(Yr.unsubscribeAllWithEventType(cc),AA.setUpdateSessionStatus(!0),"custom"===_A?.authType){Yr.publish(B.PUB_SUB_EVENTS.EVENT_CUSTOM_REAUTH);const{url:_A,config:CA,context:SA}=ec(EA);return Ic(_A,CA,SA,AA)}return tc(EA,AA,_A)}if(EA.response&&EA.response.status&&401===EA.response.status&&AA.getUpdateSessionStatus()){const{url:AA,config:_A,context:CA}=ec(EA);return yc(AA,_A,CA)}if(EA.response&&EA.response.status&&422!==EA.response.status&&424!==EA.response.status&&EA.config.headers.context&&EA.response.data&&!CA){const AA=EA.response.data.errorDetails&&EA.response.data.errorDetails.map((AA=>((EA,AA)=>AA[B.TRACE_ID]?{type:"error",message:EA.localizedValue||EA.message,correlationID:AA[B.TRACE_ID]}:{type:"error",message:EA.localizedValue||EA.message})(AA,EA.response.headers))),_A=EA.config.headers.context;return Zn({messages:AA,category:"HTTP",context:_A}),Promise.reject(EA)}return Promise.reject(EA)},rc=class{constructor(){this.updateSessionInProgress=!1}getUpdateSessionStatus=()=>this.updateSessionInProgress;setUpdateSessionStatus=EA=>{this.updateSessionInProgress=EA}},sc=class{constructor(EA){this.xrayInfo={},this.xRayDebugger=EA}startXRay(){if(!this.xRayDebugger.xray)return null;const EA=`${Date.now()+Math.random()}`;return this.xrayInfo[EA]={startTime:Date.now()/1e3},EA}startXRayRestApi(EA,AA){this.xRayDebugger.xray&&(this.xrayInfo[EA]={...this.xrayInfo[EA],restApisTime:{...this.xrayInfo[EA]?this.xrayInfo[EA].restApisTime:{},[AA]:Date.now()}})}stopXRayRestApi(EA,AA){this.xRayDebugger.xray&&(this.xrayInfo[EA]={...this.xrayInfo[EA],restApisTime:{...this.xrayInfo[EA]?.restApisTime,[AA]:(Date.now()-this.xrayInfo[EA]?.restApisTime[AA])/1e3}})}updateXRay(EA,AA){this.xRayDebugger.xray&&(this.xrayInfo[EA]={...this.xrayInfo[EA],...AA})}stopXRay(EA,AA){this.xRayDebugger.xray&&(this.xrayInfo[EA]={...this.xrayInfo[EA],totalTime:Date.now()/1e3-this.xrayInfo[EA].startTime},AA().setXRayInfo(this.xrayInfo[EA]),delete this.xrayInfo[EA])}},ac=new class{constructor(){this.xray=!1,this.onXRayCallback=null,this.xrayRuntime=new sc(this),this.isPreview=!1,this.debugLevels="vcv=1;tracer=0;log=0"}onXRay(EA){this.onXRayCallback=EA}toggleXRay(EA){this.xray=EA,this.xrayRuntime.xrayInfo={},null!==this.onXRayCallback&&this.onXRayCallback(EA)}enableXRay(){this.toggleXRay(!0)}disableXRay(){this.toggleXRay(!1)}toggle(){this.xray?this.toggleXRay(!1):this.toggleXRay(!0)}isXRayOn(){return this.xray}getXRayRuntime(){return this.xrayRuntime}setPreviewMode(){this.isPreview=!0}getPreviewMode(){return this.isPreview}enableTracer=()=>{this.debugLevels="vcv=1;tracer=1;log=0"};disableTracer=()=>{this.debugLevels="vcv=1;tracer=0;log=0"};getDebugLevels=()=>this.debugLevels},oc=new class{constructor(){this.externalHeaders={},this.defaultHeaders={},this.SPECIAL_CHARS={SLASH:"/"}}registerHeader(EA,AA){return!this.defaultHeaders[EA]&&(this.externalHeaders[EA]=AA,!0)}unRegisterHeader(EA){this.externalHeaders[EA]&&delete this.externalHeaders[EA]}getRegisteredHeaders(){return this.externalHeaders}setDefaultHeaders(EA){this.defaultHeaders={...this.defaultHeaders,...EA}}getDefaultHeaders(){return this.defaultHeaders}addDebugHeaders(EA={}){return{[G.COREHEADER_APP_DEBUG_ID]:EA.debugId,[G.COREHEADER_APP_DEBUG_LEVELS]:ac.getDebugLevels()}}getCoreHeadersFromContext(EA){if(["root","app"].includes(EA)||!EA)return;const AA=xh.getProperty(G.COREHEADERS,"",EA);return AA?{...AA,debugInfo:ac.getPreviewMode()&&{...AA.debugInfo,[G.COREHEADER_APP_DEBUG_LEVELS]:ac.getDebugLevels()}}:(EA=EA.substr(0,EA.lastIndexOf(this.SPECIAL_CHARS.SLASH)),this.getCoreHeadersFromContext(EA))}processCoreHeaders(EA,AA,_A){const CA=this.getCoreHeadersFromContext(_A);if(CA){const AA=Object.keys(EA);if(AA.includes(G.SKIPCOREHEADERS))return void delete EA[G.SKIPCOREHEADERS];const _A=Object.assign({},...Object.values(CA));Object.keys({..._A}).forEach((CA=>{AA.includes(CA)||(EA[CA]=_A[CA])}))}}injectCoreAdditionalHeaders(EA,AA,_A,CA){CA?.includeRemoteSystemIdIfPresent&&q.injectRemoteCaseHeader(EA,AA,_A),this.processCoreHeaders(EA,AA,_A)}},ic=oc,cc="updateSession",lc={},uc=new rc,dc=new class{constructor(){this.timerID=void 0,this.expiryBuffer=45,this.timeoutWarned=!1}setTimerID=EA=>{this.timerID=EA};getTimerID=()=>this.timerID;resetInactiveTimeout=EA=>{const AA=window.PCore?.getEnvironmentInfo().getInactivityTimeout();if(this.timeoutWarned&&(Yr.unsubscribe(B.PUB_SUB_EVENTS.RESET_TIMER,"resetCallback"),this.timeoutWarned=!1),AA)return EA&&clearTimeout(EA),this.startInactivityTimeout(AA>60?AA:60)};startInactivityTimeout=EA=>{const AA=setTimeout((()=>{Yr.publish(B.PUB_SUB_EVENTS.TIMEOUT_REMINDER,{timeRemaining:this.expiryBuffer}),clearTimeout(AA),Yr.subscribe(B.PUB_SUB_EVENTS.RESET_TIMER,this.resetInactiveTimeout,"resetCallback"),this.timeoutWarned=!0}),1e3*(EA-this.expiryBuffer));return this.setTimerID(AA),AA}};let pc={},hc={},gc={},fc="";const mc=EA=>{pc=EA},yc=(EA,AA,_A="root",CA={})=>{const{doNotMergeHttpMessagesForStatusCode:SA=null,cancelContext:DA=_A,includeRemoteSystemIdIfPresent:TA=!0}=CA;fc=SA,null===EA&&window.console.error("Error: url passed to Service Broker fetch is null (or) undefined");const{body:NA,signal:PA,withoutDefaultHeaders:RA=!1,...bA}=AA,{Authorization:OA,pzCTkn:vA,...xA}=AA.headers||{};RA||ic.injectCoreAdditionalHeaders(xA,AA.body,_A,{includeRemoteSystemIdIfPresent:TA}),DA&&lc[DA]>=0?lc[DA]+=1:DA&&void 0===lc[DA]&&(lc[DA]=1);let wA=RA?{...xA}:{...ic.getDefaultHeaders(),...ic.getRegisteredHeaders(),...xA,context:_A};if(EA&&Zi(EA,hc)&&uc.getUpdateSessionStatus()||!uc.getUpdateSessionStatus()){Zi(EA,hc)&&"OAuth2.0"===hc?.authType&&(wA={...xA});const{restApi:AA}=gp.doesRestApiExist("Logout")&&gp.getRestEndPoint("Logout")||{restApi:null};return(!AA||EA&&!EA.endsWith(AA))&&dc.setTimerID(dc.resetInactiveTimeout(dc.getTimerID())),function(EA){return new Promise((function(AA,_A){var CA,SA=!1;EA.subscribe({next:function(EA){CA=EA,SA=!0},error:_A,complete:function(){SA?AA(CA):_A(new $o)}})}))}(Hi(Vo({context:_A,...bA,url:EA,data:NA,...PA&&void 0===PA.aborted&&{cancelToken:PA},...PA&&void 0!==PA.aborted&&{signal:PA},headers:wA,withCredentials:(MA=hc,!("OAuth2.0"!==MA?.authType||!MA.secureCookie)||!("custom"!==MA?.authType||!MA.customCookies)||void 0)})).pipe(qi((()=>{const EA=ic.getCoreHeadersFromContext(wA.context);EA&&(EA=>{Yr.publish(G.PUB_SUB_EVENTS.FETCH_SUCCESS,EA)})({...EA})}))))}var MA;return Ic(EA,AA,_A,uc)},Ic=(EA,AA,_A,CA)=>new Promise(((SA,DA)=>{Yr.subscribe(cc,(TA=>{CA.setUpdateSessionStatus(!TA.updateStatus),"success"===TA.updateStatus?yc(EA,AA,_A).then((EA=>SA(EA))).catch((EA=>DA(EA))):DA(TA.updateStatus.error)}),cc)})),Ec=EA=>{lc[EA]>0&&(lc[EA]-=1,0===lc[EA]&&delete lc[EA])};Vo.interceptors.request.use((EA=>(pc.request&&(EA=pc.request(EA)),EA)),(EA=>Promise.reject(EA))),Vo.interceptors.response.use((EA=>{if(202===EA.status&&EA.config.headers.context&&EA.data?.caseInfo?.errorMessage){const AA=[{type:"error",message:EA.data.caseInfo.errorMessage}];let _A=EA.config.headers.context;return _A&&_A.includes("/workarea")&&(_A=_A.substring(0,_A.lastIndexOf("/workarea"))),Zn({messages:AA,category:"HTTP",context:_A}),Promise.reject(EA)}return EA.config.headers&&EA.config.headers.context&&(EA.config.skipClearErrorMessages||(Jn({type:"error",category:"HTTP",context:EA.config.headers.context}).length>0&&Qn({type:"error",category:"HTTP",context:EA.config.headers.context}),Jn({type:"error",category:EA.config.headers.context===G.APP.APP?"PAGE":"",context:EA.config.headers.context}).length>0&&Qn({type:"error",category:"PAGE",context:EA.config.headers.context})),Ec(EA.config.headers.context)),pc.response&&(EA=pc.response(EA)),EA}),(EA=>(EA.config&&EA.config.headers&&EA.config.headers.context&&Ec(EA.config.headers.context),!EA.response||!EA.response.status||401!==EA.response.status||EA.config&&Zi(EA.config.url,hc)||Yr.subscribe(cc,(EA=>{uc.setUpdateSessionStatus(!EA.updateStatus)}),cc),nc(EA,uc,hc,EA.response&&EA.response.status&&EA.response.status===Number(fc)?fc:null))));const Ac=()=>Vo.CancelToken.source(),_c=EA=>Vo.isCancel(EA),Cc=EA=>{ic.setDefaultHeaders(EA)},Sc=EA=>{hc={...hc,...EA}},Tc=EA=>{gc={...gc,...EA}},Nc=()=>({...gc}),Pc=()=>({...hc}),Rc=class{static isCaseActive(EA,AA){if(!EA||!AA)return!1;const _A=cd(AA);if(_A){const CA=Ed(AA),{items:SA={}}=_A;return!(!CA||!SA[CA]||SA[CA].key!==EA)}return!1}static getCaseEditMetadata=(EA,AA)=>{const _A={caseID:EA,viewID:"pyEdit"},{restApi:CA,reqType:SA}=Og("loadView",_A);return yc(CA,{method:SA},AA)};static getCaseEditLock=(EA,AA)=>{const _A={caseID:EA,actionID:"pyUpdateCaseDetails"},{restApi:CA,reqType:SA}=Og(Ze,_A);return yc(`${CA}?viewType=page`,{method:SA},AA)};static updateCaseEditFieldsData=(EA,AA,_A,CA)=>{const SA={caseID:EA,actionID:"pyUpdateCaseDetails"},{restApi:DA}=Og(Ze,SA),TA=AA[EA];return yc(`${DA}?viewType=form`,{method:"PATCH",body:{content:{...TA}},headers:{"if-match":_A}},CA)};static getCaseMessages=EA=>hh(EA)?.caseMessages;static getPropertiesToReplace=EA=>(ul(EA)||[]).filter((EA=>!EA.allowMultiple)).map((EA=>EA.fullPath));static getUniqueGadgetId=()=>Dh.generateUniqueID().substring(0,5);static getRemoteCaseMapping=()=>q.getRemoteCaseMapping();static isTraditionalRemoteCase=EA=>q.isTraditionalRemoteCase(EA);static getRemoteCaseKey=(EA,AA)=>{let _A=AA;try{EA&&(_A=EA.slice(EA.indexOf(" ")+1,EA.indexOf("!")))}catch{}return _A}},{RESOURCE_TYPES:Dc}=B,bc={PAGE:"page",FORM:"form"},Oc={[Dc.CASE]:[Ke,ze,Ye],[Dc.PAGE]:[Ge,He],[Dc.DATA]:[We]},vc=(EA,AA,_A={})=>{if(!EA)return{};const CA={etag:EA.etag},{RemoteSystemID:SA}=_A;return EA[B.REMOTE_SYSTEM_ID]||EA[B.REMOTE_SYSTEM_ID.toLowerCase()]||SA?CA.RemoteSystemID=EA[B.REMOTE_SYSTEM_ID]||EA[B.REMOTE_SYSTEM_ID.toLowerCase()]||SA:AA&&q.isRemoteCase(AA)&&(CA.RemoteSystemID=q.getRemoteHeader(AA)),CA},xc=(EA,AA={})=>{const{onlyChangedData:_A=!1,nonEmptyAndChangedData:CA=!1,skipUUID:SA=!0,isTransientContext:DA=!1,includeDisabledFields:TA=!1}=AA;let NA={};NA=dl(EA,{isTransientContext:DA,includeDisabledFields:TA}),_A&&(delete NA?.caseInfo?.content,DA&&(NA={}));const PA=Nl(EA,!1);!DA&&CA&&((EA,AA)=>{Object.entries(EA?.caseInfo?.content).forEach((([_A,CA])=>{const SA=hh(AA),DA=M()(SA,B.CASE_INFO.CASE_INFO_CLASSID),TA=Vp(_A,DA);("True-False"===TA?.type&&!CA||""===CA)&&delete EA.caseInfo.content[_A]}))})(NA,EA);const RA=j()(PA,NA);let bA={},OA=!1;({content:bA,attachmentsExist:OA}=((EA,AA)=>{let _A={},CA=!1;return(EA||AA?.caseInfo)&&(_A=EA?{...AA}:{...AA?.caseInfo},AA?.caseInfo?.attachments&&(CA=!0)),{content:_A,attachmentsExist:CA}})(DA,RA));const vA=[..._r(EA)];return SA&&vA.forEach((EA=>{delete EA.content?.EmbedListUUID__})),bA.pageInstructions=vA,(fr[EA]||[]).forEach((EA=>{if(bA?.content){const AA=EA?.replace(G.CASE_INFO.CASE_INFO_CONTENT,"");Dh.deleteIn(bA.content,(EA=>{if(!EA)return"";const AA=EA.split(".");let _A,CA="";for(_A of AA)if(_A){if(_A.includes("[")&&_A.includes("]"))return CA+=`['${_A.substring(0,_A.lastIndexOf("["))}']`,CA;CA+=`['${_A}']`}return CA})(AA))}})),!DA&&RA?.dataInfo?(bA={...RA.dataInfo,pageInstructions:bA.pageInstructions},{content:bA}):{content:bA,attachmentsExist:OA}},wc=(EA,AA)=>{let _A,CA,SA={};const DA=Dh.getIn(EA,G.UI_RESOURCES),TA=Dh.getIn(EA,"confirmationNote");DA?(_A=Dh.getIn(EA,G.UI_RESOURCES_CONTEXT_DATA),CA=Dh.getIn(EA,G.ROOT),SA=Dh.getIn(EA,G.ACTION_BUTTONS)):TA&&(CA={});const{data:NA={},Errors:PA,semanticURL:RA,key:bA,flowName:OA}=EA,vA=Dh.getIn(EA,"nextAssignmentInfo",null),xA=Dh.getIn(EA,"nextAssignmentInfo.context",""),wA=Dh.getIn(EA,"confirmationLinks",null),{isInCreateStage:MA,openCaseViewAfterCreate:LA,debugInfo:GA}=AA;return{data:{...NA,key:bA,flowName:OA,coreHeaders:GA&&{debugInfo:{[G.COREHEADER_APP_DEBUG_ID]:GA.debugId}},caseInfo:{...NA.caseInfo,actionButtons:SA,headers:AA.headers},[G.CONTEXT_DATA]:MA?{...NA[G.CONTEXT_DATA],..._A,openCaseViewAfterCreate:LA,errors:PA}:{...NA[G.CONTEXT_DATA],..._A,errors:PA}},semanticURL:RA,nextAssignmentInfo:vA,assignmentContext:xA,confirmationLinks:wA,key:bA,root:CA,...AA}},Mc=async(EA,AA,_A,CA=!1,SA=!1)=>{const DA=Dh.getIn(EA,G.LOCALE_REFERENCES);await Ip.loadLocaleResources(DA);const TA=Dh.getIn(EA,G.COMPONENTS);if(TA)try{await Gr(TA)}catch(EA){console.error(EA)}const NA={actionConfig:AA,..._A};CA?Fg({...EA,options:NA,directUrlUpdation:!0}):jr(EA,NA,SA)},Lc=(EA="")=>{const AA=EA.indexOf(" "),_A=EA.indexOf("!");return EA.substring(AA+1,_A)},Uc=EA=>{if(EA){const[,AA]=EA.split("!");return{key:Lc(EA),flowName:AA}}return{}},Fc=(EA,AA)=>{const _A=[],CA=[];return EA.forEach((EA=>{((EA,AA,_A,CA)=>{switch(!0){case Boolean(EA[G.ERROR_IN_PAGE_IDENTIFIER]&&EA[G.ERROR_FIELD_IN_PAGE]):{const SA=`${EA[G.ERROR_FIELD_IN_PAGE]}`.replace(/(\(\d+\))/g,(EA=>`[${parseInt(EA.substring(1,EA.length-1),10)-1}]`)),DA=`${SA}${EA[G.ERROR_IN_PAGE_IDENTIFIER]}`,TA=Dh.deepClone(EA);TA[G.ERROR_FIELD_IN_PAGE]=SA,AA.includes(DA.slice(1))||AA.includes(DA.substring(DA.indexOf(".")+1,DA.indexOf("[")))?CA.push(TA):_A.push(EA);break}case Boolean(EA[G.ERROR_IN_PAGE_IDENTIFIER]&&!EA[G.ERROR_FIELD_IN_PAGE]):{const SA=EA[G.ERROR_IN_PAGE_IDENTIFIER].slice(1);AA.includes(SA)?CA.push(EA):_A.push(EA);break}default:_A.push(EA)}})(EA,AA,_A,CA)})),{fieldErrors:CA,pageErrors:_A}},jc=EA=>{const{payload:AA}=EA,{err:_A,context:CA,actionMgrID:SA}=AA,DA=_A&&_A.response?_A.response.data:"",TA=hl(CA);return SA&&gn.rejectActionByID(SA,!0,_A),dg(pg,"Error action triggered",DA,CA,TA)},Vc=(EA,AA)=>Dd(EA)&&Od(EA)?dg(ig,AA):dg(qh,AA),kc=(EA,AA,_A=G.APP.APP,CA={})=>{let SA=null;const{buildNew:DA=!0}=CA;return Dd(EA)?SA=Od(EA)?Ed(EA):X(AA,_A):bd(EA)&&(Od(EA)&&!DA?SA=Sd(EA):Od(EA)&&!DA||(SA=X(AA,_A))),SA},$c=EA=>EA&&EA.type===Re,Bc=EA=>{let AA=!1;const _A=Pd(EA);for(let CA=0;CA<_A.length;CA+=1){const EA=_A[CA];if(EA&&Ol(EA)){AA=!0;break}}return AA},Gc=(EA,AA={})=>{let _A=!1,CA=!1,SA={},DA=!0,TA=!1,NA=!1;const{showConfirmDialogForMaxDocumentLimitReached:PA=!1,dirtyMessage:RA,skipChildDirtyState:bA=!1}=AA;if(Dd(EA)){const AA=Ed(EA);if(!AA)return{continueExecution:DA,removeActionPayload:SA};const CA=Cd(AA);Ol(CA)&&(_A=!0),bA||_A||(_A=Bc(AA))}else if(bd(EA)&&wd(EA)){let AA=Ud(EA);AA||(AA=Ed(EA),CA=!0),SA.containerItemID=AA,SA.context=Cd(AA)}if(_A){const EA=RA||Sl;TA=window.confirm(Ip.getLocaleValue(EA,"Messages"))}if(!TA&&_A&&(SA={},DA=!1),CA){const EA=Ip.getLocaleValue(Tl,"Messages");PA?NA=window.confirm(EA):(window.alert(EA),DA=!1)}return!NA&&CA&&(SA={},DA=!1),{continueExecution:DA,removeActionPayload:SA}},Wc=(EA,AA)=>{let _A=!1;const CA=fp.isCoexistenceAppOfType(G.APP_TYPE.UIKIT),{insKey:SA,isParallelCall:DA,skipFlowNameCheck:TA}=AA;if(!SA)return{};const[,NA]=SA.split("!")||"",PA=TA?SA:Lc(SA),RA=gd(EA,PA);let bA={},OA=!1;if(RA&&!CA&&((EA,AA)=>{const _A=ld(EA,AA);return _A?.resourceType})(EA,RA)===AA?.type&&(_A=!0,bA=ld(EA,RA),!TA)){let EA=bA?.flowName;const AA=Qr(RA),CA=Td(RA);if(CA.length){const _A=_t(AA,CA[0]);EA=ld(_A,CA[0])?.flowName}else _A=EA===NA;(EA!==NA||DA)&&(OA=!0)}return{activate:_A,activateContainerActionPayload:{target:EA,isParallelAssignment:OA,containerItemID:RA,semanticURL:bA.semanticURL,insKey:SA}}},Hc=(EA,AA,_A)=>EA===Dc.PAGE?((EA,AA={})=>{let _A=!1;const{semanticURL:CA}=AA,SA=gd(EA,CA);return SA&&(_A=!0),{activate:_A,activateContainerActionPayload:{target:EA,containerItemID:SA,semanticURL:CA}}})(AA,_A):EA===Dc.ASSIGNMENT?Wc(AA,{..._A,type:EA}):EA===Dc.CASE?Wc(AA,{..._A,skipFlowNameCheck:!0,type:EA}):{},qc=(EA=[])=>{Od(`${G.APP.APP}/${G.PREVIEW}`)&&EA.push(dg(Hh,Md({context:B.APP.APP,name:G.PREVIEW})))},zc=EA=>{let AA;for(const _A of Object.keys(Oc))if(Oc[_A].includes(EA)){AA=_A;break}return AA},Yc=(EA,AA)=>{const{data:_A={},context:CA,caseViewMode:SA}=EA,DA={data:{..._A},caseViewMode:SA,context:K(CA)};Dh.deleteIn(DA.data,"shared"),Dh.setIn(DA.data,["context_data","caseViewMode"],SA),AA.push({type:lt,payload:{context:DA.context}}),AA.push(dg(jh,DA))},Kc=EA=>{if(Array.isArray(EA)&&EA.length>0){const AA=(EA=>{const AA=EA[0];for(const _A of EA)if("other"===_A?.payload?.nextAssignmentInfo?.context||"remote"===_A?.payload?.nextAssignmentInfo?.context)return _A;return AA})(EA),_A=Dh.getIn(AA,["payload","assignmentContext"]);if("other"===_A||"remote"===_A){const CA=Dh.getIn(AA,["payload","nextAssignmentInfo","ID"]);if(AA?.payload?.isProcessAction){const _A={acName:Dh.getIn(AA,["payload","target"]),caseID:AA.payload.data.caseInfo.ID,containerItemID:Dh.getIn(AA,["payload","context"]),context:Dh.getIn(AA,["payload","context"])},CA={type:Ie,payload:{..._A}};EA.push(CA),EA=EA.filter((EA=>delete EA?.payload?.data?.caseMessages)),ph(EA),EA=EA.filter((EA=>EA.type!==Ie))}const SA=((EA,AA,_A)=>({assignmentID:EA,vcName:G.PRIMARY,targetContainerName:Dh.getIn(AA,["payload","target"]),context:Dh.getIn(AA,["payload","context"]),..."other"===_A&&{isChild:!0},isProcessAction:AA?.payload?.isProcessAction,..."remote"===_A&&{isRemote:!0},..."remote"===_A&&{remoteClassName:AA.payload.nextAssignmentInfo.className}}))(CA,AA,_A);Dd(SA.targetContainerName)||AA?.payload?.containerName!==G.WORKAREA||(SA.isMultiDoc=!0,EA=[]);const DA={type:Ee,payload:{...SA}};EA.push(DA),ph(EA)}else ph(EA)}},Xc=(EA,AA)=>j()(EA,AA,(function(EA,AA){if(Array.isArray(EA))return EA.concat(AA)})),Jc=EA=>{let AA={},_A=np(EA);for(;_A;){const EA=xc(_A);AA=Xc(EA.content,AA),_A=np(_A)}return AA};class Qc{static getChanges(EA){return{...Nl(EA)}}static getSubmitData(EA,AA){const{isTransientContext:_A=!1,includeDisabledFields:CA=!1}=AA||{},{content:SA}=xc(EA,{isTransientContext:_A,includeDisabledFields:CA});return SA}static isStateModified(EA){return Ol(EA)||vr(EA)||!(!EA||!Rl(EA))}static isFormValid(EA,AA){return pl(EA,AA)}static clearChangedProperties(EA){return Sr(EA),Ar(EA),xl(EA)}static getEditableFields(EA){return gl(EA)}static setCustomValidator(EA,AA){Ur.register(EA,AA)}static isPropertyEditable(EA,AA){return Qc.getEditableFields(EA).some((EA=>EA.name===AA))}}const Zc=Qc,el=new class{constructor(){this.states={},this.unConnectedStates={}}getStateMachine(EA,AA,_A){return this.states?.[EA]?.[`${AA}${_A}`]||this.unConnectedStates?.[EA]?.[`${AA}${_A}`]}isStateMachineExist(EA,AA,_A){return!!this.states?.[EA]?.[`${AA}${_A}`]||!!this.unConnectedStates?.[EA]?.[`${AA}${_A}`]}getUnConnectedStateMachines(EA){return this.unConnectedStates?.[EA]}getAllStateMachines(EA,AA,_A){return{states:this.states?.[EA]?.[`${AA}${_A}`],unConnectedStates:this.unConnectedStates?.[EA]?.[`${AA}${_A}`]}}getAllStateMachinesByContext(EA){return{states:this.states?.[EA],unConnectedStates:this.unConnectedStates?.[EA]}}setStateMachine(EA,AA,_A,CA){const SA=`${_A}${AA}`,{stateMachine:DA}=this.getStateMachineObjByPath(SA,EA,!0),TA=(AA,_A,CA=!1)=>{const SA=CA?this.states:this.unConnectedStates;SA[EA]||(SA[EA]={}),SA[EA][AA]||(SA[EA][AA]={}),SA[EA][AA]=_A};if(DA&&DA.targetPageReference!==CA.targetPageReference)return DA.addChild(CA),void TA(SA,CA);const NA=Object.entries(this.states[EA]||{}).filter((([EA])=>{if(EA.includes(SA)){const AA=EA.substring(0,SA.length).length;return EA.substring(AA).startsWith("[")||EA.substring(AA).startsWith(".")}return!1})).reduce(((EA,[AA,_A])=>({...EA,[AA]:_A})),{});Object.keys(NA)?.length?(Object.entries(NA).forEach((([AA,_A])=>{delete this.states[EA][AA],CA.addChild(_A),TA(AA,_A)})),this.states[EA][SA]=CA):TA(SA,CA,!0)}buildPageInstructionsByContext(EA,AA){const _A=this.getStateMachinesByContext(EA)||{},CA=[];return Object.keys(_A).sort().forEach((SA=>{const DA=vn.getContextReferences(EA)?.get(SA),TA=_A[SA];if(DA){const EA=TA.buildSubmitPageInstructions(AA);CA.push(...EA)}})),CA}buildClientChangeList(EA){const AA=this.getStateMachinesByContext(EA)||{};let _A={};const CA={};return Object.keys(AA).forEach((EA=>{const CA=AA[EA].getChangeList();_A={..._A,...CA}})),Dh.flatten(_A,"",CA),CA}getStateMachinesByContext(EA){return EA?this.states?.[EA]:void 0}clearStateMachines(EA){this.states[EA]={},this.unConnectedStates[EA]={}}setStateMachineEmpty(EA,AA){const _A=this.getStateMachine(EA,AA,"");_A.root=null,_A.current=null;const CA=this.getUnConnectedStateMachines(EA)||{};Object.keys(CA).forEach((EA=>{EA.includes(AA)&&delete CA[EA]}))}removeStateMachine(EA,AA){delete this.states[EA]?.[AA]}getStateMachineObjByPath(EA,AA,_A){const CA=/\[\d+\]$/gm;let SA=null;for(;EA&&!this.isStateMachineExist(AA,"",EA);)SA=null,_A&&EA.endsWith("]")?(SA=EA.match(CA),SA=SA?.[SA.length-1]?.substring(1,SA[SA.length-1].length-1),[EA]=EA.split(CA)):EA=EA.substring(0,EA.lastIndexOf("."));return EA?{stateMachineTarget:EA,stateMachine:this.getStateMachine(AA,"",EA),index:SA}:{}}executeStateMachine(EA,AA,_A,CA=!0,SA={}){const{stateMachineTarget:DA,index:TA}=this.getStateMachineObjByPath(AA,EA,CA);if(!DA)return!1;let[,NA]=AA.split(DA);if(!NA)return!1;null!==TA&&([,NA]=NA.split(/^\[\d+\]/gm));const PA={[nl(NA)]:_A},RA=this.getStateMachine(EA,"",DA);return null!==TA?RA.update(PA,Number(TA)+1,SA.skipStateUpdate??!0,SA):RA.updatePage(Dh.unflatten(PA)),!0}registerForServerChanges(){ih.registerForListChanges(((EA,AA,_A)=>{setTimeout((()=>{if(!AA.includes(".classID")&&Zc.isPropertyEditable(EA,AA)&&this.executeStateMachine(EA,AA,_A),!AA.includes(".classID")&&AA.includes("].")){const CA=AA.substring(0,AA.lastIndexOf("[")),SA=Zc.getEditableFields(EA);if(["multiselect","checkbox"].includes(SA.find((EA=>EA.name===CA))?.type)){const SA=vn.getContextReferences(EA),DA=SA?.get(CA),TA=AA.substring(AA.lastIndexOf("].")+2);DA?.props.selfReferencingDatapageKeys?.includes(TA)&&this.executeStateMachine(EA,AA,_A)}}}),0)}))}unRegisterForServerChanges(){ih.unRegisterForListChanges()}},tl={},nl=EA=>EA.startsWith(".")?EA.substring(1):EA,rl=EA=>{delete tl[EA]},sl=(EA,AA={})=>{const{includeDisabledFields:_A=!1}=AA,CA=xh.resolveContextTreeNodeProps(EA),SA=!0!==CA.readOnly&&!1!==CA.visibility&&(_A||!0!==CA.disabled),DA="string"==typeof EA?.value&&EA?.value.includes("@FILTERED_LIST"),TA=(EA=>EA.selectionList||EA.selectionKey||"Editable"===EA.renderMode&&EA.referenceList)(EA);return(EA?.value||TA)&&!DA&&SA},al=(EA,AA,_A,CA,SA)=>{let DA=(mh(`.attachmentsList.${AA?.replace(".","")}`,"context_data",_A)||[]).filter((EA=>`${CA.pageReference}.${EA.label}`===SA));return DA=Dh.buildAttachmentsFormData(DA),DA.length>0&&(EA=[...EA,...DA]),EA},ol=(EA,AA,_A,CA,SA)=>(el.executeStateMachine(EA,CA,xh.getLitePropertyValue(_A,AA))||SA.push(CA),SA),il=EA=>{const AA=EA.pageReference?.replace(B.CASE_INFO.CASE_INFO_CONTENT,"")?.replace(B.DATA_INFO.DATA_INFO_CONTENT,"");return"Attachment"===EA.componentName&&""!==AA},cl=(EA,AA,_A)=>{const CA=AA.isInsideList,{ignoreFieldsInsideList:SA=!0}=_A;return(!CA||CA&&!SA)&&!Array.isArray(xh.getLitePropertyValue(AA,EA))&&"Address"!==AA.componentName},ll=(EA,AA={})=>{let _A=[],CA=[];const SA=[],DA=vn.getContextReferences(EA);if(!DA)return{formInputs:_A,attachments:CA,formPageFields:SA};if(({attachmentList:CA,editableFormFieldsReferenceList:_A}=((EA,AA,_A)=>{const{includeDisabledFields:CA=!1}=_A;let SA=[],DA=[];for(const[TA,NA]of EA){const EA=xh.resolveContextTreeNodeProps(NA.props),PA=EA.propertyName;if(sl(NA.props,{includeDisabledFields:CA})){const CA=il(EA);"Attachment"!==EA.componentName||CA?!CA&&cl(TA,EA,_A)&&(SA=ol(AA,PA,EA,TA,SA)):DA=al(DA,PA,AA,EA,TA)}}return{attachmentList:DA,editableFormFieldsReferenceList:SA}})(DA,EA,AA)),tl[EA])for(const TA in tl[EA].fieldOrder)Object.hasOwn(tl[EA].fieldOrder,TA)&&SA.push(TA);return{formInputs:_A,attachments:CA,formPageFields:SA}},ul=EA=>{let AA=[];const _A=vn.getContextReferences(EA);if(_A)for(const[CA,SA]of _A){const EA=SA?.props;if(sl(EA)&&"Attachment"===EA?.componentName){const _A="true"===EA?.allowMultiple;AA=[...AA,{type:"File",allowMultiple:_A,fullPath:CA}]}}return AA},dl=(EA,AA={})=>{const _A={},CA=hh(EA),{ignoreFieldsInsideList:SA=!0,isTransientContext:DA=!1,includeDisabledFields:TA=!1}=AA;if(DA||CA?.caseInfo?.content){const{formInputs:AA,attachments:NA,formPageFields:PA}=ll(EA,{ignoreFieldsInsideList:SA,includeDisabledFields:TA});NA&&NA.length>0&&Dh.buildObject("caseInfo.attachments",_A,NA),((EA,AA,_A)=>{EA.forEach((EA=>{let CA=Dh.getIn(AA,EA);"object"==typeof CA&&(CA=Dh.deepClone(CA),delete CA?.classID),Dh.buildObject(EA,_A,CA)}))})(PA,CA,_A),AA&&AA.length>0?AA.forEach((EA=>{Dh.buildObject(EA,_A,Dh.getIn(CA,EA))})):DA||Dh.buildObject(B.CASE_INFO.CASE_INFO_CONTENT,_A,{})}if(!DA&&CA?.dataInfo?.content){const{formInputs:AA}=ll(EA,{ignoreFieldsInsideList:SA});AA.forEach((EA=>{Dh.buildObject(EA,_A,Dh.getIn(CA,EA))}))}return _A},pl=(EA,AA)=>{const _A=vn.getContextReferences(EA);let CA=!0;if(!_A)return CA;for(const[SA,DA]of _A){const EA=xh.resolveContextTreeNodeProps(DA.props);if(sl(DA.props)&&(!AA||SA.includes(AA))){const AA=Ur.validate(EA.componentName?.toLowerCase(),EA.propertyName,xh.getLitePropertyValue(EA,EA.propertyName),EA);CA&&(CA=!AA.message)}}return CA},hl=(EA,AA=!1)=>{const _A=vn.getContextReferences(EA),CA=[];if(_A)for(const[SA,DA]of _A)if(!1!==xh.resolveContextTreeNodeProps(DA.props).visibility){const EA=8,_A=AA?SA:SA.substring(SA.indexOf("content")+EA);CA.push(_A)}return CA},gl=EA=>{const AA=[],_A=vn.getContextReferences(EA);if(_A)for(const[CA,SA]of _A){const EA=xh.resolveContextTreeNodeProps(SA.props);sl(SA.props)&&"Attachment"!==EA.componentName&&"multirecordlist"!==EA.type&&AA.push({name:CA,label:EA.label,type:EA.componentName?.toLowerCase()})}return AA},fl=class{static getPropertyName(EA){return rn.getPropertyName(EA)}static isProperty(EA){return rn.isProperty(EA)}static getLeafPropertyName(EA){return rn.getLeafPropertyName(EA)}static isPropertyInternal(EA){return EA.startsWith("px")||EA.startsWith("pz")}},ml=class{static isPageInstruction(EA){return EA&&EA.includes("[")&&EA.includes("]")}};class yl{constructor(){this.refreshMap={},this.propChangeRefreshMap={}}static initializeRefreshCache(EA,AA,_A,CA,SA){void 0===EA[AA]&&(EA[AA]={}),EA[AA][_A]=[{uniqueHash:CA,callback:SA}]}registerForRefresh(EA,AA,_A,CA,SA){const DA=CA.split("/").join(G.HASH_DELIMITER),TA=Dh.getHashedString(DA);"PROP_CHANGE"===EA?this.propChangeRefreshMap?.[SA]?.[_A]?this.propChangeRefreshMap[SA][_A].some((EA=>EA.uniqueHash===TA))||this.propChangeRefreshMap[SA][_A].push({uniqueHash:TA,callback:AA}):yl.initializeRefreshCache(this.propChangeRefreshMap,SA,_A,TA,AA):this.refreshMap?.[SA]?.[`${EA}-${_A}`]?this.refreshMap[SA][`${EA}-${_A}`].some((EA=>EA.uniqueHash===TA))||this.refreshMap[SA][`${EA}-${_A}`].push({uniqueHash:TA,callback:AA}):yl.initializeRefreshCache(this.refreshMap,SA,`${EA}-${_A}`,TA,AA)}triggerRefreshForType(EA,AA,_A){"PROP_CHANGE"===EA?this.propChangeRefreshMap?.[_A]?.[AA]&&this.propChangeRefreshMap[_A][AA].forEach((EA=>EA.callback())):this.refreshMap?.[_A]?.[`${EA}-${AA}`]&&this.refreshMap[_A][`${EA}-${AA}`].forEach((EA=>EA.callback()))}deRegisterForRefresh(EA){delete this.propChangeRefreshMap[EA],delete this.refreshMap[EA]}}const Il=new yl,{APP:El}=G;let Al={},_l={},Cl={};const Sl="You will lose unsaved changes. Do you want to continue?",Tl="You have reached maximum limit of pending changes. Please commit/cancel one or more changes to continue.",Nl=(EA=El.APP,AA,_A)=>{let CA=[],SA=[];AA||(CA=hl(EA,!0)),_A||(SA=(EA=>{const AA=vn.getContextReferences(EA),_A=[];if(AA)for(const[CA,SA]of AA)!0===xh.resolveContextTreeNodeProps(SA.props).readOnly&&_A.push(CA);return _A})(EA));const DA={};((EA,AA)=>{const _A=_l[AA]||{};Object.keys(_A).forEach((AA=>{Object.hasOwn(_A,AA)&&Dh.buildObject(AA,EA,_A[AA].value)}))})(DA,EA);const TA=Al[EA]||{};return Object.keys(TA).forEach((EA=>{const _A=!AA&&CA.includes(EA)||AA;Object.prototype.hasOwnProperty.call(TA,EA)&&_A&&!SA.includes(EA)&&Dh.buildObject(EA,DA,TA[EA].value)})),DA},Pl=EA=>{const{context:AA}=EA,_A=EA.reference.startsWith(".")?EA.reference.substr(1):EA.reference;delete Al[AA]?.[_A],delete _l[AA]?.[_A]},Rl=EA=>Cl[EA],Dl=(EA,AA)=>{const{context:_A,initialValue:CA="",isStrictTracking:SA}=AA,DA=AA.reference.startsWith(".")?AA.reference.substr(1):AA.reference;EA[DA]?EA[DA].previousValue=mh(AA.reference,null,_A):(EA[DA]={initialValue:CA||mh(AA.reference,null,_A)},EA[DA].previousValue=EA[DA].initialValue),EA[DA].value=AA.value,SA&&EA[DA].value===EA[DA].initialValue&&Pl(AA)},bl=EA=>{const{payload:AA}=EA,{context:_A}=AA,CA=AA.reference.startsWith(".")?AA.reference.substr(1):AA.reference;vn.isFieldExists(_A,CA)||(_l[_A]=_l[_A]||{},Dl(_l[_A],AA)),Al[_A]=Al[_A]||{},Dl(Al[_A],AA)},Ol=EA=>{const AA=Cr(EA)||{};return EA&&Al[EA]&&Object.keys(Al[EA]).some((AA=>Al[EA][AA].initialValue!==Al[EA][AA].value))||Object.keys(AA).length>0},vl=(EA,AA)=>{if(!EA||!AA)return!1;const _A=Al[EA]&&Al[EA][AA];return!!_A&&_A.previousValue!==_A.value},xl=EA=>{EA&&Al[EA]?(Al[EA]={},_l[EA]={}):"all"===EA&&(Al={},_l={},Cl={}),Cl[EA]&&(Cl[EA]=!1)},wl=()=>EA=>AA=>{const{type:_A,payload:CA={}}=AA||{};if(_A===ae&&(Jt(CA),(EA=>{const{context:AA,pageReference:_A,value:CA,reference:SA}=EA;ih.triggerCascade(AA,SA,CA);const DA=en.getDependencies(AA,SA),TA=ih.getResetDependencies(AA,SA),NA={context:AA,datapages:{}};[...DA,...TA].forEach((EA=>{const _A=Dh.getPropertyNameFromDependency(EA);if("multiRecord"===EA.mode){const EA=_A.split("."),CA=`.${EA.pop()}`,SA=EA.join(".");el.getStateMachine(AA,SA,CA).deleteAll()}else ml.isPageInstruction(_A)&&el.executeStateMachine(AA,_A,""),ph({type:re,payload:{reference:_A,value:"",context:AA,isArrayDeepMerge:!0,isImplicit:!0}})})),DA.forEach((CA=>{let SA=_A;CA.startsWith(_A)||(SA="");const DA=CA.replace(`${SA}`,"").split(".").filter((EA=>!!EA));DA.pop();const TA=DA.join("."),PA=mh(`.${TA}`,SA,AA)?.classID||EA.classID,RA=Vp(CA.split(".").pop(),PA),{datasource:bA}=RA,OA={};let vA=[];bA.parameters.forEach((EA=>{EA?.value?(OA[EA.name]=fl.isProperty(EA.value)?mh(`.${Dh.getFullPropertyReference([TA,Dh.getPropertyName(EA.value)])}`,SA,AA):EA.value,void 0===OA[EA.name]||null===OA[EA.name]||""===OA[EA.name]?(OA[EA.name]="",vA.push(G.NULL_STRING)):vA.push(OA[EA.name])):(OA[EA.name]="",vA.push(G.NULL_STRING))})),vA=bA.name.concat(G.UNDERSCORE_STRING,Dh.getHashedString(vA.join(G.HASH_DELIMITER)));const{name:xA}=bA,wA=zp(xA);NA.datapages[vA]={mode:bA.mode,propertyName:CA,name:bA.name,dataViewParameters:OA,refreshStrategy:wA?.refreshStrategy}})),DA.length&&ph({type:at,payload:NA})})(CA),(vl(CA.context,CA.reference)||vr(CA.context))&&$n(CA),Il.triggerRefreshForType("PROP_CHANGE",CA.reference,CA.context)),_A===ct&&!CA?.isDefault){const{context:EA,referenceList:AA}=CA;$n({context:EA,pageReference:AA})}if(_A===re||_A===se){const{reference:EA,isImplicit:_A,context:SA,skipDirtyValidation:DA=!1}=CA;vn.updateFieldNodeValue(SA,EA,CA.value),ml.isPageInstruction(EA)||DA?DA||(Cl[`${SA}`]=!0):bl(AA),(CA.removePropertyFromChangedList||_A)&&Pl(CA)}if(_A===we||_A===Me){const{transientItemID:EA,data:AA}=CA;Dh.iterateLeafNodes(AA,(AA=>{Pl({context:EA,value:"",reference:AA.join(".")})}))}_A&&[Fe,De,Ve,xe].includes(_A)&&(xl(CA.context),ih.purgeResetDependencies(CA.context),(EA=>{EA&&Mn[EA]&&delete Mn[EA]})(CA.context),(CA.childContainersContexts||[]).forEach((EA=>{xl(EA)})),(CA.transientItems||[]).forEach((EA=>{xl(EA)}))),EA(AA)},Ml=new class{getCoreheaders(EA){const AA=`${B.APP.APP}${G.FORWARD_SLASH_STRING}${G.PRIMARY}`,_A=Ed(AA),CA=Cd(_A),SA=xh.getProperty(G.COREHEADERS,"",CA);if(SA&&EA in SA)return SA[EA]}},Ll=class{constructor(EA){this.c11nEnv=EA}validate(EA,AA){const{value:_A}=this.c11nEnv.getStateProps();if(!AA&&!(AA=_A)){const EA=this.c11nEnv.getComponentConfig(),_A=this.c11nEnv.getStateProps();AA="multi"===EA.selectionMode?_A.selectionList:"Editable"===EA.renderMode?_A.referenceList:"single"===EA.selectionMode?_A.selectionKey:_A.value}const CA=((EA,AA,_A)=>{const CA=""===AA&&_A?.startsWith(".")?_A.substring(1,_A.length):_A,SA=vn.getContextReferences(EA)?.get(`${AA}${CA}`)?.props;return SA?xh.resolveContextTreeNodeProps(SA):SA})(this.c11nEnv.getContextName(),this.c11nEnv.getPageReference(),AA),{message:SA}=Ur.validate(this.c11nEnv.getComponentName()?.toLowerCase(),AA,EA,CA);return SA?{status:!1,message:SA}:{status:!0}}},Ul="OPEN_PROCESS_ACTION",Fl="OPEN_ASSIGNMENT",jl="DELETE_CASE_IN_CREATE_STAGE",Vl="SAVE_AND_CLOSE",kl=EA=>({type:Vl,payload:EA}),$l=class{static getSavableDataPage(EA){return eh(EA)}static getLookUpDataPage(EA){return nh(EA)}static getLookUpDataPageInfo(EA){return rh(EA)}static getDataPageKeys(EA){return th(EA)}},Bl=class{constructor(EA){this.c11nEnv=EA}containerManagerPromise=EA=>{const AA=gn.getNextActionMgrId();let _A,CA;const SA=new Promise(((EA,AA)=>{_A=EA,CA=AA}));if(!_A||!CA)throw new Error("resolveFn or rejectFn is not defined.");return gn.register(AA,SA,_A,CA,EA),{actionMgrID:AA,promise:SA}};initializeContainers(EA){const AA=Ne,_A=this.c11nEnv,CA={context:_A.getContextName(),name:_A.getContainerName(),type:G.CONTAINER_TYPE.SINGLE},{actionMgrID:SA,promise:DA}=this.containerManagerPromise(AA),TA={...CA,...EA,actionMgrID:SA};return ph(Wh(TA)),DA}addContainerItem(EA){const AA=Re,_A=this.c11nEnv,CA=_A.getMetadata(),{children:SA}=CA||{};let DA;SA&&([DA]=SA);const TA=_A.getContextName(),NA=_A.getContainerName(),PA=X(NA,TA,EA?.containerType===G.CONTAINER_TYPE.SINGLE),RA=_t(NA,TA),bA={root:{...DA,config:{...DA?.config,context:DA?.config?.context||_A.getPageReference?.()}},containerItemID:PA,context:PA,target:RA,containerName:NA};EA=JSON.parse(JSON.stringify(EA)),[G.WORKAREA].includes(NA)&&delete EA.data?.coreHeaders;const{actionMgrID:OA,promise:vA}=this.containerManagerPromise(AA),xA={...bA,...EA,actionMgrID:OA};return ph(qh(xA)),vA}updateContainerItem(EA){if(!EA?.containerItemID)return Promise.reject(new Error("updateContainerItem : containerItemID is required in containerInfo object"));const AA=Fe,_A={context:Cd(EA.containerItemID),target:Fd(EA.containerItemID)},{actionMgrID:CA,promise:SA}=this.containerManagerPromise(AA),DA={..._A,...EA,actionMgrID:CA};return ph(Qh(DA)),SA}activateContainerItem(EA){if(!EA?.containerItemID)return Promise.reject(new Error("activateContainerItem : containerItemID is required in containerInfo object"));const AA=Ue,_A={target:Fd(EA.containerItemID)},{actionMgrID:CA,promise:SA}=this.containerManagerPromise(AA),DA={..._A,...EA,actionMgrID:CA};return ph(ng(DA)),SA}removeContainerItem(EA){if(!EA?.containerItemID)return Promise.reject(new Error("removeContainerItem : containerItemID is required in containerInfo object"));const AA=De,_A={context:Cd(EA.containerItemID),target:Fd(EA.containerItemID)},{actionMgrID:CA,promise:SA}=this.containerManagerPromise(AA),DA={..._A,...EA,actionMgrID:CA};return ph(sg(DA)),SA}resetContainers(EA){if(!EA?.context||!EA?.name)return Promise.reject(new Error("resetContainers : context and name are required in containerInfo object"));const AA=Pe,_A=Md(EA),{actionMgrID:CA,promise:SA}=this.containerManagerPromise(AA),DA={..._A,...EA,actionMgrID:CA};return ph(Hh(DA)),SA}addTransientItem(EA){const{id:AA,data:_A}=EA,CA=this.c11nEnv.getContextName(),SA=Q(AA,CA),DA=Bd(CA);return SA&&DA.includes(SA)||ph(zh({transientItemID:SA,contextName:CA,target:Fd(CA),data:_A})),SA}updateTransientData(EA){const{transientItemID:AA,data:_A}=EA,CA=this.c11nEnv.getContextName();if(AA){if(!Bd(CA).includes(AA))return;ph(Yh({transientItemID:AA,data:_A}))}}removeTransientItem(EA){const AA=this.c11nEnv.getContextName(),{target:_A=this.c11nEnv.getTarget(),containerItemID:CA,transientItemID:SA}=EA;if(SA&&CA){if(!Bd(AA).includes(SA))return;ph(og({target:_A,containerItemID:CA,transientItemID:SA}))}}createContainerPConnect(EA,AA,_A,CA=!1){rd.createContainerPConnect(EA,AA,_A,CA)}hasContainerItems(){const EA=this.c11nEnv.getContextName(),AA=this.c11nEnv.getContainerName();return Od(`${EA}/${AA}`)}isContainerInitialized(){const EA=this.c11nEnv.getContextName(),AA=this.c11nEnv.getContainerName();return yd(EA,AA)}};var Gl=function(EA,AA){return EA===AA||"function"==typeof AA&&EA===AA.toString()};function Wl(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];var _A,CA=EA.length;return _A=1===CA?function(AA){return Gl(AA.type,EA[0])}:function(AA){for(var _A=0;_A<CA;_A++)if(Gl(AA.type,EA[_A]))return!0;return!1},ji((function(EA,AA){var CA=0;EA.subscribe(Vi(AA,(function(EA){return _A.call(undefined,EA,CA++)&&AA.next(EA)})))}))}function Hl(EA,AA){return ji((function(_A,CA){var SA=null,DA=0,TA=!1,NA=function(){return TA&&!SA&&CA.complete()};_A.subscribe(Vi(CA,(function(_A){null==SA||SA.unsubscribe();var TA=0,PA=DA++;Li(EA(_A,PA)).subscribe(SA=Vi(CA,(function(EA){return CA.next(AA?AA(_A,EA,PA,TA++):EA)}),(function(){SA=null,NA()})))}),(function(){TA=!0,NA()})))}))}function ql(EA,AA){return ji((function(_A,CA){var SA=0;_A.subscribe(Vi(CA,(function(_A){CA.next(EA.call(AA,_A,SA++))})))}))}function zl(EA,AA,_A){return void 0===_A&&(_A=1/0),Zo(AA)?zl((function(_A,CA){return ql((function(EA,SA){return AA(_A,EA,CA,SA)}))(Li(EA(_A,CA)))}),_A):("number"==typeof AA&&(_A=AA),ji((function(AA,CA){return function(EA,AA,_A,CA){var SA=[],DA=0,TA=0,NA=!1,PA=function(){!NA||SA.length||DA||AA.complete()},RA=function(EA){return DA<CA?bA(EA):SA.push(EA)},bA=function(EA){DA++;var NA=!1;Li(_A(EA,TA++)).subscribe(Vi(AA,(function(EA){AA.next(EA)}),(function(){NA=!0}),void 0,(function(){if(NA)try{DA--;for(var EA=function(){var EA=SA.shift();bA(EA)};SA.length&&DA<CA;)EA();PA()}catch(EA){AA.error(EA)}})))};return EA.subscribe(Vi(AA,RA,(function(){NA=!0,PA()}))),function(){}}(AA,CA,EA,_A)})))}function Yl(EA){return EA&&Zo(EA.schedule)}function Kl(EA){return EA[EA.length-1]}function Xl(EA){return Yl(Kl(EA))?EA.pop():void 0}function Jl(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];return Hi(EA,Xl(EA))}function Ql(EA){return ji((function(AA,_A){var CA,SA=null,DA=!1;SA=AA.subscribe(Vi(_A,void 0,void 0,(function(TA){CA=Li(EA(TA,Ql(EA)(AA))),SA?(SA.unsubscribe(),SA=null,CA.subscribe(_A)):DA=!0}))),DA&&(SA.unsubscribe(),SA=null,CA.subscribe(_A))}))}var Zl=new Pi((function(EA){return EA.complete()}));function eu(EA){return EA?function(EA){return new Pi((function(AA){return EA.schedule((function(){return AA.complete()}))}))}(EA):Zl}const tu=(EA,AA,_A)=>Ql((CA=>("ERR_CANCELED"!==CA?.code&&console.error(EA,CA),Jl(pg(EA,CA,AA,null,_A))))),nu=(EA,AA)=>_A=>new Pi((CA=>{let SA={},DA=0;return _A.pipe(zl((_A=>{const CA=Date.now();let TA;return TA=AA||I(),TA&&TA(_A,SA)&&CA-DA<EA?eu():(SA=_A,DA=CA,Jl(_A))}))).subscribe(CA)})),ru=EA=>{const{dataPageID:AA,context:_A,headers:CA,containerItemID:SA}=EA,DA={data_view_ID:AA},{restApi:TA,reqType:NA}=Og("createDataObject",DA),{content:PA}=xc(SA);return Hi(yc(TA,{method:NA,headers:CA,body:{data:PA.content}},SA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at createDataObject Epic",_A))},su=EA=>{const{dataLookUp:AA,context:_A,headers:CA,viewName:SA,requestPayload:DA}=EA,TA={data_view_ID:AA,view_ID:SA},{restApi:NA,reqType:PA}=Og("readDataObject",TA);return Hi(yc(NA,{method:PA,headers:CA,body:{dataViewParameters:DA}},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at getDataObjectView Epic",_A))},au=EA=>{const{dataPageID:AA,context:_A,headers:CA,containerItemID:SA,key:DA}=EA,TA={data_view_ID:AA},{restApi:NA,reqType:PA}=Og("updateDataObject",TA),{content:RA}=xc(SA);return Hi(yc(NA,{method:PA,headers:CA,body:{data:{...RA.content,...DA},pageInstructions:RA.pageInstructions||[]}},SA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at updateDataObject Epic",_A))},ou=EA=>{const{lookupDatapage:AA,context:_A,headers:CA,actionID:SA,dataViewParameters:DA}=EA,TA={data_view_ID:AA,action_ID:SA},{restApi:NA,reqType:PA}=Og("openDataObjectAction",TA);return Hi(yc(NA,{method:PA,headers:CA,body:{dataViewParameters:DA}},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at getDataObjectView Epic",_A))},iu=EA=>{const{savableDatapage:AA,context:_A,headers:CA,actionID:SA,keys:DA,containerItemID:TA}=EA,NA={data_view_ID:AA,action_ID:SA},{restApi:PA,reqType:RA}=Og("submitDataObjectAction",NA),{content:bA}=xc(TA);return Hi(yc(PA,{method:RA,headers:CA,body:{data:{...bA?.content,...DA},pageInstructions:bA?.pageInstructions||[]}},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at getDataObjectView Epic",_A))},cu=new class{constructor(){this.components={}}_checkComponent(EA,AA){return!!this.components[AA]?.[EA]}start(EA,AA,_A,CA,SA){const DA={viewName:EA,pageReference:_A,contextName:CA,isInProgress:!0,active:!0,caseKey:AA};this.components[CA]=this.components[CA]||{},this.components[CA][SA]=DA}stop(EA,AA){this._checkComponent(EA,AA)&&(this.components[AA][EA].isInProgress=!1)}remove(EA,AA){this._checkComponent(EA,AA)&&delete this.components[AA][EA]}removeContext(EA){delete this.components[EA]}enableCascade(EA){this.components[EA]&&Object.values(this.components[EA]).forEach((EA=>{EA.isInProgress&&(EA.cascade=!0)}))}activate(EA,AA){this._checkComponent(EA,AA)&&(this.components[AA][EA].active=!0)}deactivate(EA,AA){this._checkComponent(EA,AA)&&(this.components[AA][EA].active=!1)}refreshActiveComponents(EA){EA&&this.components[EA]&&Object.keys(this.components[EA]).forEach((AA=>{this.refreshComponent(AA,EA)}))}refreshComponent(EA,AA){if(!this._checkComponent(EA,AA))return;const _A=this.components[AA][EA];if(_A.active&&_A.cascade){const{caseKey:EA,viewName:CA,pageReference:SA}=_A;Un(EA,CA,AA,SA,{})}}},lu="postDataViewMetadata",uu={getData:(EA,AA,_A,CA)=>((EA,AA,_A,CA={})=>{const SA={dataViewName:EA},{skipClearErrorMessages:DA,signal:TA,doNotMergeMessagesForStatusCode:NA}=CA,{restApi:PA,reqType:RA}=Og("getListData",SA);return yc(PA,{method:RA,body:AA,...TA&&{signal:TA},...DA&&{skipClearErrorMessages:DA}},_A,NA)})(EA,AA,_A,CA),getListCount:(EA,AA,_A)=>{const CA={dataViewName:EA},{restApi:SA,reqType:DA}=Og("getListDataCount",CA);return yc(SA,{method:DA,body:AA},_A)},getDataViewMetadata:(EA,AA,_A,CA)=>{const SA=!!_A,DA=!!CA,TA=gp.doesRestApiExist(lu),NA=(SA||DA)&&TA?lu:"getDataViewMetadata",PA={dataViewName:EA},{restApi:RA,reqType:bA}=Og(NA,PA);if(TA){if(SA)return yc(RA,{method:bA,body:{associationFilter:_A}},AA);if(DA)return yc(RA,{method:bA,body:{propertyFilter:CA}},AA)}return yc(RA,{method:bA},AA)},getDataObjectView:(EA,AA,_A,CA,SA={})=>{const{skipClearErrorMessages:DA,signal:TA,doNotMergeMessagesForStatusCode:NA}=SA,PA={data_view_ID:EA,view_ID:AA},RA={dataViewParameters:_A},{restApi:bA,reqType:OA}=Og("readDataObject",PA);return yc(bA,{method:OA,body:RA,...TA&&{signal:TA},...DA&&{skipClearErrorMessages:DA}},CA,NA)},getCaseEditMetadata:(EA,AA)=>Rc.getCaseEditMetadata(EA,AA),getCaseEditLock:(EA,AA)=>Rc.getCaseEditLock(EA,AA),updateCaseEditFieldsData:(EA,AA,_A,CA)=>Rc.updateCaseEditFieldsData(EA,AA,_A,CA),moveListRecords:(EA,AA)=>{const{sourceID:_A,destinationID:CA,context:SA,listClass:DA,viewName:TA,viewClassName:NA}=EA,PA={viewName:TA,viewClassName:NA},{restApi:RA,reqType:bA}=Og("moveListRecords",PA);return yc(RA,{method:bA,body:{content:{sourceID:_A,destinationID:CA,context:SA,listClass:DA}}},AA)},isTimeElapsed:(EA,AA,_A="")=>{if(AA){if(EA&&_A===G.RELOAD_IF_OLDER_THAN)return new Date(EA).setSeconds(AA)<Date.now();if(EA&&_A===G.RELOAD_ONCE_PER_INTERACTION)return!0}return!0},getAppCacheKey:EA=>void 0!==Nd("root").find((EA=>EA.includes("authoring-preview")))?`${G.AUTHORING_PREVIEW_CONTAINER}-${EA}`:`${kr.getAppAlias()}-${EA}`,isDistinctResultsOnly:EA=>{const AA=fp.getKeyMapping("pyGUID");return!EA.some((EA=>EA.field===AA))}},du=class{constructor(EA,AA,_A){this.filter=EA,this.messageHandler=AA,this.contextName=_A}},pu=class{constructor(){this.users={},this.connected=!1,this.connectionsCount=1}_handleUserPresence({message:EA}){const{state:AA,updateById:_A}=EA,CA=this.users[_A];CA&&(CA.state=AA,Object.keys(CA.subscribers).forEach((EA=>{CA.subscribers[EA]?.callback({state:CA.state})})))}_getAutoGenId(){return this.connectionsCount+=1,`${Date.now()}_${this.connectionsCount}`}subscribe(EA,AA,_A){const CA=this._getAutoGenId(),SA=this.users[EA];if(SA)return SA.subscribers[CA]={callback:AA,contextName:_A},CA;this.users[EA]={subscribers:{[CA]:{callback:AA,contextName:_A}}};const DA={matcher:"PRESENCE",criteria:{userId:EA}};return Iu.subscribe(DA,this._handleUserPresence.bind(this)),CA}unsubscribe(EA,AA){const _A={matcher:"PRESENCE",unsubscribeUsers:{users:[EA]}};this.users[EA]&&this.users[EA].subscribers&&(delete this.users[EA].subscribers[AA],0===Object.keys(this.users[EA].subscribers).length&&(delete this.users[EA],Iu.publishMessage(_A)))}getUserState(EA){return this.users[EA]&&this.users[EA].state}clearContext(EA){Object.keys(this.users).forEach((AA=>{Object.keys(this.users[AA].subscribers).forEach((_A=>{this.users[AA].subscribers[_A].contextName===EA&&this.unsubscribe(AA,_A)}))}))}};var hu=s(631),gu=s.n(hu);const fu=class{constructor(EA,AA){this.atomicSubscribers={},this.connectionsCount=1,this.connected=!1,this.matcher=EA,this.criteria=AA}_handleAtomicMessage({message:EA}){Object.keys(this.atomicSubscribers).forEach((AA=>{const _A=this.atomicSubscribers[AA],CA=Object.keys(_A.criteria),SA=Object.keys(EA);0===gu()(CA,SA).length&&_A.callback(EA)}))}_getAutoGenId(){return this.connectionsCount+=1,`${Date.now()}_${this.connectionsCount}`}subscribe(EA,AA){if(!this.connected){const EA={matcher:this.matcher,criteria:this.criteria};Iu.subscribe(EA,this._handleAtomicMessage.bind(this)),this.connected=!0}const _A=this._getAutoGenId();return this.atomicSubscribers[_A]={criteria:EA,callback:AA},_A}unsubscribe(EA){delete this.atomicSubscribers[EA]}},mu=new class{constructor(){this.subscriptions={}}getOrCreateSubscription(EA){if(!this.subscriptions[EA]){const AA={caseId:EA};this.subscriptions[EA]=new fu("CASE",AA)}return this.subscriptions[EA]}};class yu{static subscribers={};static connectionsCount=0;static webSocket=null;static connectionConfig=null;static inProgressSubscriptions=[];static inProgressMessages=[];static isServiceAlive=null;static serviceAliveHandler=null;static userPresence=new pu;static refreshB2SOffset=10;static initConnection(EA){if(!EA)return;const{messagingService:AA}=EA;if(!AA||AA&&AA.length<=6)return;const _A=kr.b2sJWT;if(!_A||_A.length<4)return;this.webSocket&&(this.cleanSocketListeners(),this.webSocket.close());const CA=AA.endsWith("/")?AA+"ws":AA+"/ws";try{const EA=new WebSocket(`${CA}`);this.webSocket=EA,EA.addEventListener("open",this.handleOnOpen.bind(this)),EA.addEventListener("message",this.handleOnMessage.bind(this)),EA.addEventListener("error",this.handleOnError.bind(this)),EA.addEventListener("close",this.handleOnClose.bind(this))}catch(EA){console.log(EA)}}static handleOnError(EA){this.getTokenExpiryTime()<=0&&(clearInterval(this.reInitInterval),this.reInitInterval=void 0),console.log("web socket connection error event: ",EA)}static handleOnClose(EA){null!==this.serviceAliveHandler&&(clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=null),EA&&4001===EA.code||this.connectionConfig?.disableReInit||this.reInitInterval||this.getTokenExpiryTime()<=0||this.reInitialization()}static handleOnOpen(){if(clearInterval(this.reInitInterval),this.reInitInterval=void 0,null!==this.webSocket&&1===this.webSocket.readyState){const EA=kr.b2sJWT;if(!EA||EA.length<4)return;this.publishMessage({token:EA})}}static handleOnMessage(EA){if(null!==EA&&"ALIVE"===EA.data)null===this.isServiceAlive&&this.checkLiveliness(8e3),this.isServiceAlive=!0;else{let AA=null;try{AA=JSON.parse(EA.data)}catch(t){console.error("Invalid data received from messaging service",EA.data)}if(AA&&AA.msgId&&this.webSocket.send(`{"ack":"${AA.msgId}"}`),AA&&AA.filter){const{matcher:EA,criteria:_A}=AA.filter;delete _A.environmentID,Object.keys(this.subscribers).forEach((CA=>{const SA=this.subscribers[CA];SA.filter.matcher===EA&&Dh.isEqual(SA.filter.criteria,_A)&&SA.messageHandler(AA)}))}else if(AA&&AA.tokenExpiryTime){this.setTokenExpiryTime(AA);const EA=1e3*(this.getTokenExpiryTime()-this.refreshB2SOffset);setTimeout((()=>this.refreshB2STokenReInit()),EA);let _A=[];this.inProgressSubscriptions.forEach((({messageSubscriber:EA,id:AA})=>{_A?.includes(AA)||(_A?.push(AA),this.subscribeToSocket(EA,AA))})),this.inProgressSubscriptions=[],this.inProgressMessages.forEach((EA=>{this.publishMessage(EA)})),this.inProgressMessages=[],_A=null}else console.error("filter missing from received data from messaging service",EA.data)}}static reInitialization(EA){this.reInitInterval||(Object.keys(this.subscribers).forEach((EA=>{this.inProgressSubscriptions.push({messageSubscriber:this.subscribers[EA],id:EA})})),EA?this.initConnection(this.connectionConfig):this.reInitInterval=setInterval((()=>{this.initConnection(this.connectionConfig)}),5e3))}static checkLiveliness(EA){!1===this.isServiceAlive?this.reInitialization(!0):this.isServiceAlive=!1,null!==this.serviceAliveHandler&&clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=setTimeout((()=>{this.checkLiveliness(EA)}),EA)}static setConnectionConfig(EA){this.connectionConfig=EA}static cleanSocketListeners(){null!==this.webSocket&&(this.webSocket.removeEventListener("open",this.handleOnOpen.bind(this)),this.webSocket.removeEventListener("message",this.handleOnMessage.bind(this)),this.webSocket.removeEventListener("error",this.handleOnError.bind(this)),this.webSocket.removeEventListener("close",this.handleOnClose.bind(this)))}static disconnect(){null!==this.webSocket&&(this.cleanSocketListeners(),this.webSocket.close(),this.webSocket=null)}static subscribe(EA,AA,_A,CA){this.connectionsCount+=1;const SA=CA||`${Date.now()}_${this.connectionsCount}`,DA=new du(EA,AA,_A);return null!==this.webSocket&&1===this.webSocket.readyState?(this.subscribeToSocket(DA,SA),SA):(this.inProgressSubscriptions.push({messageSubscriber:DA,id:SA}),null===this.webSocket&&this.initConnection(this.connectionConfig),SA)}static subscribeToSocket(EA,AA){this.subscribers[AA]=EA;const _A={filter:EA.filter,subscribe:{id:AA}};this.webSocket.send(JSON.stringify(_A))}static unsubscribe(EA){if(this.subscribers[EA]){delete this.subscribers[EA];const AA={unsubscribe:{id:EA}};null!==this.webSocket&&1===this.webSocket.readyState&&this.webSocket.send(JSON.stringify(AA))}}static publishMessage(EA){null!==this.webSocket?null===this.webSocket||1!==this.webSocket.readyState?this.inProgressMessages.push(EA):this.webSocket.send(JSON.stringify(EA)):console.error("Web socket not initialized.")}static getUserPresence=()=>this.userPresence;static getCaseSubscription=EA=>mu.getOrCreateSubscription(EA);static refreshB2STokenReInit=async()=>{const EA={body:{B2SToken:kr.b2sJWT}};PCore.getRestClient().invokeRestApi("refreshB2S",EA).then((EA=>{const{newB2SToken:AA}=EA.data;AA&&AA.length>30?(kr.b2sJWT=AA,this.setTokenExpiryTime({tokenExpiryTime:Math.round(Date.now()/1e3)+60}),this.webSocket.close()):console.log("refreshB2S: invalid b2s length")})).catch((EA=>{console.log(`refreshB2S: error occurred while fetching: ${EA}`)}))};static getTokenExpiryTime=()=>{const EA=Math.round(Date.now()/1e3);return this.tokenExpiryTime-EA};static setTokenExpiryTime=EA=>{this.tokenExpiryTime=EA.tokenExpiryTime};static clearContext(EA){Object.keys(this.subscribers).forEach((AA=>{this.subscribers[AA].contextName===EA&&this.unsubscribe(AA)})),this.userPresence.clearContext(EA)}}const Iu=yu,Eu=class{constructor(){this.records=[],this.maxRecords=0,this.isDirty=!1}getRecords(EA){if(EA){const AA=[],{pageNumber:_A,pageSize:CA}=EA,SA=_A*CA;let DA=SA-CA;for(;DA<SA;DA+=1){if(!this.records[DA])return this.maxRecords===DA?AA:[];AA.push(this.records[DA])}return AA}return this.records}mergeRecords(EA,AA){if(AA){const{pageNumber:_A,pageSize:CA}=AA,SA=_A*CA;let DA=0;for(let AA=SA-CA+1-1;AA<SA;AA+=1)this.records[AA]=EA[DA],DA+=1;if(EA.length<CA){const AA=(_A-1)*CA+EA.length;this.setMaxRecordsCount(AA)}}else EA||(EA=[]),Array.isArray(this.records)&&Array.isArray(EA)&&(this.records=Ch(this.records,EA,{isArrayDeepMerge:!1})),this.setMaxRecordsCount(this.records.length)}setMaxRecordsCount(EA){this.maxRecords=EA}getMaxRecordsCount(){return this.maxRecords}},Au=new class{constructor(){this.dataStore={},this.dataStoreMeta={},this.subscribers={},this.dataPageSubscribers={},this.isCacheEnabled=!0,this.subscribedDataPageNames=new Set}SUBSCRIPTION_STATUS_FAILED="FAILED";SUBSCRIPTION_STATUS_SUCCESS="SUCCESS";DATAPAGE_NOT_CACHED="Data Page Not Cached";DUPLICATE_SUBSCRIPTION_ID="Duplicate Subscription Id";MISSING_MANDATORY_FIELD="Missing Mandatory Field(s)";getData(EA,AA,_A,CA){const SA=this.generateHash(EA,AA,CA);if(this.dataStore[EA]&&this.dataStore[EA][SA]){const AA=this.dataStore[EA][SA];return AA.isDirty?[]:AA.getRecords(_A)}return[]}generateHash(EA,AA,_A){const CA=zp(EA);let SA=[];CA||(SA=Object.keys(AA||{}).map((EA=>({name:EA}))));let DA="",TA=EA;const NA=[];return(CA?.parameters||SA).forEach((EA=>{AA?.[EA.name]?NA.push(AA[EA.name]):NA.push(EA.defaultValue??G.NULL_STRING)})),_A&&NA.push(JSON.stringify(_A)),NA.join(G.HASH_DELIMITER)&&(DA=Dh.getHashedString(NA.join(G.HASH_DELIMITER)),TA=EA+G.UNDERSCORE_STRING+DA),TA}async getDataAsync(EA,AA,_A={},CA,SA,DA={}){if(this.subscribeToMessageService(EA),DA.purgeDataPageCache&&(this.dataStore[EA]={},this._removeDataStoreMetaEntry(EA)),!this.isCacheable(EA,SA)||DA.invalidateCache){const TA=await this.fetchData(EA,_A,CA,SA,AA,DA),NA=TA?.data?.data??[];return{...TA.data,data:NA,pageNumber:TA?.data?.pageNumber,pageSize:TA?.data?.pageSize,queryStats:TA?.data?.queryStats,status:TA?.status}}const TA=this.getData(EA,_A,CA,SA);if(TA.length>0)return Promise.resolve({data:TA});const NA=await this.fetchData(EA,_A,CA,SA,AA,DA);return{...NA.data,data:this.mergeDataStore(EA,_A,CA,SA,NA),pageNumber:NA?.data?.pageNumber,pageSize:NA?.data?.pageSize,queryStats:NA?.data?.queryStats,status:NA?.status}}async getPageDataAsync(EA,AA,_A={},CA={}){this.subscribeToMessageService(EA);const SA=this.generateHash(EA,_A,null);if(CA.purgeDataPageCache&&(this.dataStore[EA]={},this._removeDataStoreMetaEntry(EA)),this.isCacheable(EA)&&this.dataStore[EA]&&this.dataStore[EA][SA]){if(!CA?.invalidateCache)return Promise.resolve(this.dataStore[EA][SA]);delete this.dataStore[EA][SA],this._removeDataStoreMetaEntry(EA,_A,SA)}const{restApi:DA,reqType:TA}=Og(G.GET_PAGE_DATA,{dataViewName:EA,dataViewParameters:encodeURIComponent(JSON.stringify(_A))}),NA={method:TA},PA=DA&&_A&&0===Object.keys(_A).length?DA.split("?")[0]:DA;return yc(PA,NA,AA).then((AA=>(this.isCacheable(EA)&&(this.dataStore[EA]={...this.dataStore[EA],[SA]:AA.data},this._addDataStoreMetaEntry(EA,_A,SA)),AA.data)))}subscribeToDataPageUpdates(EA,AA,_A,CA={}){if(!EA||!AA||!_A)return!1;const SA=this.generateHash(_A,CA,null);this.dataPageSubscribers[_A]??={};const DA=this.dataPageSubscribers[_A];DA[SA]??={};const TA=DA[SA];return!TA[EA]&&(TA[EA]??=AA,!0)}unsubscribeToDataPageUpdates(EA,AA,_A={}){if(!EA||!AA)return!1;const CA=this.generateHash(AA,_A,null);return delete this.dataPageSubscribers[AA]?.[CA]?.[EA],!0}_isDataPageCached(EA,AA){if(AA&&Dh.isObjectEmpty(AA))return!!this.dataStore[EA];const _A=this.generateHash(EA,AA,null);return!!this.dataStoreMeta[EA]?.[_A]?.length}updateDataPageStore(EA={}){Object.keys(EA).forEach((AA=>{this.dataStore[AA]||(this.dataStore[AA]={});const _A=EA[AA];Object.keys(_A).forEach((_A=>{if(this.dataStore[AA][_A])this.dataStore[AA][_A].mergeRecords(EA[AA][_A].pxResults);else{const CA=new Eu;this.dataStore[AA][_A]=CA,CA.mergeRecords(EA[AA][_A].pxResults||[])}}))}))}_addDataStoreMetaEntry(EA,AA,_A){const CA=this.generateHash(EA,AA,null);this.dataStoreMeta[EA]??={};const SA=this.dataStoreMeta[EA];SA[CA]??=[];const DA=SA[CA];DA.includes(_A)||DA.push(_A)}_removeDataStoreMetaEntry(EA,AA,_A){if(!EA||AA||_A||(this.dataStoreMeta[EA]={}),EA&&AA&&_A){const CA=this.generateHash(EA,AA,null);this.dataStoreMeta[EA][CA]=this.dataStoreMeta[EA][CA].filter((EA=>EA!==_A))}}mergeDataStore(EA,AA,_A,CA,SA){const DA=this.generateHash(EA,AA,CA),TA=SA?.data?.data;if(!TA||0===TA.length)return[];this.dataStore[EA]||(this.dataStore[EA]={}),this.dataStore[EA][DA]||(this.dataStore[EA][DA]=new Eu);const NA=this.dataStore[EA][DA];return NA.mergeRecords(TA,_A),NA.isDirty=!1,this._addDataStoreMetaEntry(EA,AA,DA),NA.getRecords(_A)}async fetchData(EA,AA,_A,CA,SA,DA){const{additionalApiParams:{useExtendedTimeout:TA=!1,includeTotalCount:NA=!1}={},...PA}=DA,RA={dataViewParameters:AA};return NA&&(RA.includeTotalCount=!0),TA&&(RA.useExtendedTimeout=!0),_A&&(RA.paging=_A),CA&&(RA.query=CA),uu.getData(EA,RA,SA,PA)}isDataPage(EA=""){return EA.startsWith("D_")||EA.startsWith("Declare_")}handleCascadeUpdate(){const{dataPageName:EA,scope:AA}=this;AA.handleMessage({message:{datapage:EA,parameters:""}})}subscribeToUpdate(EA,AA,_A,CA,SA,DA){this.subscribers[EA]=this.subscribers[EA]||{},this.subscribers[EA].callback=this.subscribers[EA].callback||{},DA&&!this.subscribers[EA].callback?.[DA]&&(this.subscribers[EA].callback[DA]=SA),this.subscribeToCascadeUpdates(EA,AA,_A,CA,DA)}unsubscribe(EA,AA,_A,CA,SA){delete this.subscribers[EA]?.callback?.[SA],AA&&AA.length>0&&ih.unRegisterFields(_A,CA,AA,SA)}subscribeToCascadeUpdates(EA,AA,_A,CA,SA){AA&&AA.length>0&&ih.registerFields(_A,CA,AA,this.handleCascadeUpdate.bind({dataPageName:EA,scope:this}),SA)}subscribeToMessageService(EA){if(EA&&this.subscribedDataPageNames.has(EA))return;const AA={matcher:"DATAPAGE_UPDATED",criteria:{datapage:EA}};Iu.subscribe(AA,this.handleMessage.bind(this)),this.subscribedDataPageNames.add(EA)}handleMessage(EA){const{msgId:AA,message:_A}=EA,{datapage:CA,parameters:SA=""}=_A,DA=this.subscribers[CA];this.markDataInstanceDirty(CA,""===SA?null:JSON.parse(SA)),AA&&this._executeDataPageSubscriptions(EA),!AA&&DA?.callback&&Object.keys(DA.callback).forEach((AA=>{DA.callback?.[AA](EA.message)}))}markDataInstanceDirty(EA,AA){let _A,CA;AA&&(_A=this.generateHash(EA,AA,null),CA=this.dataStoreMeta[EA]?.[_A],!CA)||!this.dataStore[EA]||Object.keys(this.dataStore[EA]).filter((EA=>!AA||!CA||CA.includes(EA))).forEach((AA=>{this.dataStore[EA][AA].isDirty=!0}))}_executeDataPageSubscriptions(EA){const{message:AA}=EA,{datapage:_A,parameters:CA}=AA,SA=CA?JSON.parse(CA):null;if(this.dataPageSubscribers[_A])if(SA){const AA=[];AA.push(this.generateHash(_A,SA,null)),AA.push(this.generateHash(_A,null,null)),AA.forEach((AA=>{const CA=this.dataPageSubscribers[_A]?.[AA]??{};Object.keys(CA).forEach((AA=>{CA[AA](EA.message)}))}))}else{const AA=this.dataPageSubscribers[_A];Object.keys(AA).forEach((_A=>{const CA=AA[_A];Object.keys(CA).forEach((CA=>{AA[_A][CA](EA.message)}))}))}}isPerInteraction(EA){const AA=zp(EA);return"reloadOncePerInteraction"===AA?.refreshStrategy?.type}isCacheable(EA,AA){return!(this.isPerInteraction(EA)||!this.isCacheEnabled||AA&&Object.keys(AA).length>1)}disableCache(EA){this.isCacheEnabled=!EA}},_u=class{constructor(EA,AA,_A,CA,SA=100,DA=500){this.finalDataViewCall=EA,this.combiner=AA,this.comparator=_A,this.separator=CA,this.maxtime=SA,this.maxsize=DA,this.groupedDataViewArray=[]}findCombinableDataViewCall(EA){return this.groupedDataViewArray.find((AA=>this.comparator(AA,EA)))}dequeueAllDataViewCalls(){for(this.groupedDataViewArray.reverse();this.groupedDataViewArray.length>0;){const EA=this.groupedDataViewArray.pop();this.finalDataViewCall(EA).then((AA=>{this.separator(EA,AA)}))}clearTimeout(this.timeoutId)}dequeueDataViewCallOnSizeExceed(EA){const AA=this.groupedDataViewArray.findIndex((AA=>this.comparator(AA,EA)));this.groupedDataViewArray[AA]&&(this.groupedDataViewArray.splice(AA,1),this.finalDataViewCall(EA).then((AA=>{this.separator(EA,AA)})))}queueDataViewCall(EA,AA){let _A,CA,SA=this.findCombinableDataViewCall(EA);return _A=new Promise((EA=>{CA=EA})),SA&&!SA.dataViewCallMap[AA]?(this.combiner(SA,EA),SA.dataViewCallMap[AA]={promise:_A,resolve:CA}):SA?_A=SA.dataViewCallMap[AA].promise:(SA={...EA,dataViewCallMap:{[AA]:{promise:_A,resolve:CA}}},this.groupedDataViewArray.push({...EA,dataViewCallMap:{[AA]:{promise:_A,resolve:CA}}})),Object.keys(SA.dataViewCallMap).length===this.maxsize?this.dequeueDataViewCallOnSizeExceed(SA):(clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>this.dequeueAllDataViewCalls()),this.maxtime)),_A}},Cu=class{constructor(){this.bufferedDataQueues={}}getBufferedDataQueueForDataPage(EA){return this.bufferedDataQueues[EA]}addBufferedDataQueueForDataPage(EA,AA,_A,CA,SA,DA,TA){return this.getBufferedDataQueueForDataPage(EA)||(this.bufferedDataQueues[EA]=new _u(AA,_A,SA,CA,DA,TA)),this.bufferedDataQueues[EA]}},Su=(EA,AA)=>((EA,AA)=>1===Object.keys(EA).length&&Object.keys(EA).length===Object.keys(AA).length)(EA,AA)&&((EA,AA)=>"EQ"===AA.F0.comparator&&(EA.F0.comparator===AA.F0.comparator||"IN"===EA.F0.comparator))(EA,AA)&&EA.F0.ignoreCase===AA.F0.ignoreCase,Tu=EA=>EA.map((EA=>EA.field)),Nu=(EA,AA)=>{const _A=(EA.query?.filter).filterConditions,CA=(AA.query?.filter).filterConditions;let SA=(AA.query?.filter).logic;const DA=Object.keys(_A).length;Su(_A,CA)?("EQ"===_A.F0.comparator&&(EA=>{const AA=EA?.F0.rhs.value;EA.F0.rhs={values:[AA]},EA.F0.comparator="IN"})(_A),_A.F0.rhs.values.push(CA.F0.rhs.value)):(Object.keys(CA).forEach(((EA,AA)=>{const TA=`F${DA+AA}`;_A[TA]=CA[EA],SA=SA.replace(EA,TA)})),(EA.query?.filter).logic+=` OR ${SA}`);const TA=Tu(EA.query?.select);Tu(AA.query?.select).forEach((AA=>{TA.includes(AA)||(EA.query?.select).push({field:AA})}))},Pu=(EA,AA)=>((EA,AA)=>Object.keys(EA.filterConditions).length%Object.keys(AA.filterConditions).length==0&&!Object.keys(AA.filterConditions).some((_A=>EA.filterConditions[_A].lhs.field!==AA.filterConditions[_A]?.lhs.field)))(EA.query?.filter,AA.query?.filter)&&(((EA,AA)=>EA.dataViewParameters&&AA.dataViewParameters&&Object.keys(AA.dataViewParameters).length===Object.keys(EA.dataViewParameters).length&&!Object.keys(EA.dataViewParameters).some((_A=>"string"==typeof AA.dataViewParameters?.[_A]?EA.dataViewParameters?.[_A]!==AA.dataViewParameters?.[_A]:!Dh.isEqual(EA.dataViewParameters?.[_A],AA.dataViewParameters?.[_A]))))(EA,AA)||((EA,AA)=>!EA.dataViewParameters&&!AA.dataViewParameters)(EA,AA)),Ru=(EA,AA)=>{const{data:_A}=AA,{dataViewCallMap:CA,filterDataOnClient:SA}=EA;Object.keys(CA).forEach((EA=>{CA[EA].resolve({data:SA(EA,_A)})}))},Du=EA=>({combiner:Nu,comparator:Pu,separator:Ru,...EA}),bu=(EA,AA)=>{try{window.sessionStorage.setItem(EA,AA)}catch(EA){}};class Ou{constructor(EA,AA){this.isInitialised=!1,this.isQueryable=!0,this.dataSourceMetaData={},this.nonQueryableData=[],this.fetchedNQData=!1,this.previousSearchText=null,this.totalRecordCount=0,this.fetchedRecordCount=0,this.cache={},this.pageNumber=0,this.isNQDataFetchInProgress=!1,this.fetchNQDataPromise=null,this.dataSource="",this.bufferInitialized=!1,EA&&(this.listType=EA.listType,this.dataSource=EA.dataSource,EA.enablePagination?(this.enablePagination=EA.enablePagination,this.pageSize=EA.pageSize):this.maxResultsDisplay=EA.maxResultsDisplay,this.parameters=EA.parameters,this.columns=EA.columns,this.matchPosition=EA.matchPosition,this.ignoreCase=!1!==EA.ignoreCase,this.dataSourceMetaData=EA.dataSourceMetaData,this.context=AA)}static searchResultsCache={};static init(EA,AA){return new Promise(((_A,CA)=>{const SA=[...EA.columns.map((EA=>EA.value)),...Object.entries(EA.parameters).map((([EA,AA])=>`${EA}+${AA}`)),EA.matchPosition,EA.maxResultsDisplay].join(G.HASH_DELIMITER),DA=Dh.getHashedString(SA),TA=`${EA.dataSource}_${DA}`,NA=uu.getAppCacheKey(EA.dataSource);if(window.sessionStorage.getItem(NA)){const SA=JSON.parse(window.sessionStorage.getItem(NA));if(AA&&Ou.searchResultsCache?.[AA]?.[TA])_A(Ou.searchResultsCache[AA][TA]);else if("form"!==EA.cacheLifeSpan&&Ou.searchResultsCache?.persisted?.[TA])_A(Ou.searchResultsCache.persisted[TA]);else{const DA=new Ou(EA,AA);JSON.stringify(SA.associationFilter)===JSON.stringify(EA.associationFilter)?(DA.dataSourceMetaData=SA.dataSourceMetaData,DA.isQueryable=SA.isQueryable,DA.isInitialised=SA.isInitialised,DA.associationFilter=SA.associationFilter,Ou.initializeCache(AA,EA,TA,DA),_A(DA)):(DA.associationFilter=EA.associationFilter,DA.propertyFilter=EA.propertyFilter,DA.fetchMetaData(AA).then((CA=>{bu(NA,JSON.stringify({isQueryable:CA.data.isQueryable,dataSourceMetaData:CA.data,isInitialised:!0,associationFilter:EA.associationFilter})),DA.isQueryable=CA.data.isQueryable,DA.dataSourceMetaData=CA.data,DA.isInitialised=!0,Ou.initializeCache(AA,EA,TA,DA),_A(DA)})).catch((EA=>{DA.isInitialised=!1,CA(EA)})))}}else if(EA.deferDatasource&&zp(EA.dataSource)){const CA=new Ou(EA,AA),SA=zp(EA.dataSource);CA.isQueryable=!!SA?.isQueryable,CA.isInitialised=!0,CA.dataSourceMetaData=SA,bu(NA,JSON.stringify({isQueryable:SA?.isQueryable,dataSourceMetaData:SA,isInitialised:!0})),CA.context=AA,Ou.initializeCache(AA,EA,TA,CA),_A(CA)}else{const SA=new Ou(EA,AA);SA.associationFilter=EA.associationFilter,SA.propertyFilter=EA.propertyFilter,SA.fetchMetaData(AA).then((CA=>{bu(NA,JSON.stringify({isQueryable:CA.data.isQueryable,dataSourceMetaData:CA.data,isInitialised:!0,associationFilter:EA.associationFilter})),SA.isQueryable=CA.data.isQueryable,SA.dataSourceMetaData=CA.data,SA.isInitialised=!0,Ou.initializeCache(AA,EA,TA,SA),_A(SA)})).catch((EA=>{SA.isInitialised=!1,CA(EA)}))}}))}static bufferedDataView=new Cu;registerForBufferedCall(EA){return this.isQueryable&&(this.initializeBufferCallsForDataPage(Du(EA)),this.bufferInitialized=!0),this}static clearContextedCache(EA){delete Ou.searchResultsCache[EA]}static initializeCache(EA,AA,_A,CA){EA&&"form"===AA.cacheLifeSpan?.toLowerCase()?(void 0===Ou.searchResultsCache[EA]&&(Ou.searchResultsCache[EA]={}),Ou.searchResultsCache[EA][_A]=CA):(void 0===Ou.searchResultsCache.persisted&&(Ou.searchResultsCache.persisted={}),Ou.searchResultsCache.persisted[_A]=CA)}fetchMetaData(EA){return uu.getDataViewMetadata(this.dataSource,EA,this.associationFilter,this.propertyFilter)}initializeBufferCallsForDataPage(EA){Ou.bufferedDataView.addBufferedDataQueueForDataPage(this.dataSource,(EA=>Au.getDataAsync(this.dataSource,this.context,EA.dataViewParameters,EA.paging,EA.query)),EA.combiner,EA.separator,EA.comparator,EA.waitTime,EA.maxSize)}buildSchemaForQueryableBufferDP(EA){return{...this.buildSchemaForQueryableDP(EA),paging:void 0,filterDataOnClient:this.filterDataOnClient.bind(this)}}getData(EA,AA){if(this.isQueryable){if(this.bufferInitialized)try{const AA=this.buildSchemaForQueryableBufferDP(EA);return Ou.bufferedDataView.getBufferedDataQueueForDataPage(this.dataSource).queueDataViewCall(AA,EA)}catch{const _A=this.buildSchemaForQueryableDP(EA,AA);return Au.getDataAsync(this.dataSource,this.context,_A.dataViewParameters,_A.paging,_A.query)}const _A=this.buildSchemaForQueryableDP(EA,AA);return Au.getDataAsync(this.dataSource,this.context,_A.dataViewParameters,_A.paging,_A.query)}return this.fetchNonQueryableResults(EA,AA)}memoizedGetData(EA,AA){const _A=EA?.toLowerCase();if(this.enablePagination?_A in this.cache&&this.pageNumber in this.cache[_A]:_A in this.cache)return this.enablePagination?this.cache[_A][this.pageNumber]:this.cache[_A];const CA=this.getData(EA,AA);return this.enablePagination?(this.cache[_A]=this.cache[_A]||{},this.cache[_A][this.pageNumber]=CA):this.cache[_A]=CA,CA}fetchData(EA,AA=!1,_A){return this.isValidDatasource()&&this.isInitialised?(this.pageNumber=AA?this.pageNumber:1,this.memoizedGetData(EA,_A)):Promise.reject(new Error)}fetchPaginatedData(EA){return this.pageNumber+=1,this.fetchData(EA,!0)}fetchNonQueryableResults(EA,AA){if(void 0===EA)return Promise.resolve({data:[]});if(this.fetchedNQData)return Promise.resolve({data:this.filterDataOnClient(EA,this.nonQueryableData,AA)});if(this.isNQDataFetchInProgress)return this.fetchNQDataPromise?.then((()=>({data:this.filterDataOnClient(EA,this.nonQueryableData,AA)}))).catch((EA=>Promise.reject(EA)));if(this.dataSourceMetaData?.structure&&"list"===this.dataSourceMetaData.structure.toLowerCase()){const _A=this.buildSchemaForNonQueryableDP();return this.fetchNQDataPromise=Au.getDataAsync(this.dataSource,this.context,_A.dataViewParameters),this.isNQDataFetchInProgress=!0,new Promise(((_A,CA)=>{this.fetchNQDataPromise?.then((CA=>(this.nonQueryableData=[...CA.data],this.fetchedNQData=!0,_A({data:this.filterDataOnClient(EA,this.nonQueryableData,AA)})))).catch((EA=>CA(EA))).finally((()=>{this.isNQDataFetchInProgress=!1,this.fetchNQDataPromise=null}))}))}return Promise.resolve(null)}filterDataOnClient(EA,AA,_A){const CA=(_A?.columns??this.columns)?.filter((EA=>EA.useForSearch)).map((EA=>EA.value));return AA.reduce(((AA,SA)=>(Object.keys(SA).every((DA=>!(CA?.includes(DA)&&SA[DA]&&this.positionMatches(`${SA[DA]}`,EA,_A)&&(AA.push({...SA}),1)))),AA)),[])}positionMatches(EA,AA,_A){const CA=_A?.ignoreCase??this.ignoreCase,SA=CA?EA.toLowerCase():EA,DA=CA?AA.toLowerCase():AA;switch(_A?.matchPosition??this.matchPosition){case"start":return SA.startsWith(DA);case"contains":return SA.includes(DA);case"equals":return SA===DA;default:return!1}}buildSelect(EA){const AA=[],_A=[];return(EA?.columns??this.columns)?.forEach((EA=>{if(!_A.includes(EA.value)){_A.push(EA.value);const CA={field:EA.value};AA.push(CA)}})),AA}buildFilters(EA,AA){const _A=AA?.matchPosition??this.matchPosition,CA=AA?.ignoreCase??this.ignoreCase,SA={};let DA=0;(AA?.columns??this.columns)?.forEach((AA=>{if(AA.useForSearch){const TA=`F${DA}`;DA+=1;const NA={field:AA.value},PA={value:EA};let RA="CONTAINS";"start"===_A?RA="STARTS_WITH":"equals"===_A&&(RA="EQ");const bA={...`${parseFloat(EA)}`!==EA==1&&{ignoreCase:CA?"true":"false"},lhs:NA,rhs:PA,comparator:RA};SA[TA]=bA}}));const TA=Object.keys(SA).join(" OR ");return{filterConditions:SA,logic:TA}}buildQuery(EA,AA){const _A=this.buildSelect(AA);return EA?{select:_A,filter:this.buildFilters(EA,AA),...uu.isDistinctResultsOnly(_A)&&{distinctResultsOnly:"true"}}:{select:_A,...uu.isDistinctResultsOnly(_A)&&{distinctResultsOnly:"true"}}}buildPageOptions(){return this.enablePagination?{pageNumber:this.pageNumber,pageSize:this.pageSize}:{maxResultsToFetch:this.maxResultsDisplay}}buildSchemaForQueryableDP(EA,AA){return{dataViewParameters:this.parameters,query:this.buildQuery(EA,AA),paging:this.buildPageOptions()}}buildSchemaForNonQueryableDP(){return{dataViewParameters:this.parameters}}isValidDatasource(){return!!this.dataSource}}const vu=Ou,xu=class{static cleanCaches(EA){ih.purgeCascadeFields(EA),cu.removeContext(EA),vu.clearContextedCache(EA),Yr.cleanContextSubscribers(EA),rl(EA),vn.removeContextTreeNode(EA),Iu.clearContext(EA),Il.deRegisterForRefresh(EA)}},wu="GET_DESCENDANTS",Mu=new class{MISSING_CONTEXT_PARAM="context is required parameter";INVALID_CONTEXT_DETAILS="Invalid Context";INVALID_CONTEXT_OPERATION="Invalid Operation on Given Context";schedulePendingActionOnCompletion(EA,AA){const _A=[],CA=AA.context_data?.blocking_action_counter??0,SA=AA.context_data?.deferred_action_queue?[...AA.context_data.deferred_action_queue]:[];let DA=AA.context_data?.is_deferred_action_in_progress??!1;if(CA<=0){if(DA)_A.push({type:Ae,payload:{context:EA,data:{context_data:{is_deferred_action_in_progress:!1}}}});else{if(!(SA.length>0))return;{const AA=SA.shift();DA=!DA,_A.push({type:Ae,payload:{context:EA,data:{context_data:{deferred_action_queue:SA,blocking_action_counter:CA,is_deferred_action_in_progress:DA}}}}),_A.push(AA)}}ph(_A)}}executeOrQueueDeferredAction(EA){if(!EA?.payload?.context)return Promise.reject(new Error("Action Context is Mandatory Field."));const AA=hh(EA?.payload?.context);if(AA){const _A=[],CA=AA.context_data?.blocking_action_counter??0,SA=AA.context_data?.deferred_action_queue?[...AA.context_data.deferred_action_queue]:[];let DA=AA.context_data?.is_deferred_action_in_progress??!1;return SA.length<=0&&!DA&&(CA<=0?(_A.push(EA),DA=!DA):SA.push(EA),_A.unshift({type:Ae,payload:{context:EA.payload.context,data:{context_data:{deferred_action_queue:SA,blocking_action_counter:CA,is_deferred_action_in_progress:DA}}}}),ph(_A)),Promise.resolve()}return Promise.reject(new Error(this.INVALID_CONTEXT_DETAILS))}handleDeferredActionCompletion(EA){if(!EA)return Promise.reject(new Error(this.MISSING_CONTEXT_PARAM));const AA=hh(EA);return AA&&!0===AA.context_data?.is_deferred_action_in_progress?(ph({type:Ae,payload:{context:EA,data:{context_data:{is_deferred_action_in_progress:!1}}}}),this.schedulePendingActionOnCompletion(EA,AA),Promise.resolve()):Promise.reject(new Error(this.INVALID_CONTEXT_DETAILS))}registerBlockingAction(EA){return EA?hh(EA)?(ph({type:ut,payload:{context:EA,isInitiateBlockingAction:!0}}),Promise.resolve()):Promise.reject(new Error(this.INVALID_CONTEXT_DETAILS)):Promise.reject(new Error(this.MISSING_CONTEXT_PARAM))}deRegisterBlockingAction(EA){if(!EA)return Promise.reject(new Error(this.MISSING_CONTEXT_PARAM));const AA={...hh(EA)};return AA.context_data={...AA.context_data},AA&&AA.context_data?.blocking_action_counter>0?(ph({type:ut,payload:{context:EA,isInitiateBlockingAction:!1}}),AA.context_data.blocking_action_counter-=AA.context_data.blocking_action_counter,this.schedulePendingActionOnCompletion(EA,AA),Promise.resolve()):Promise.reject(new Error(this.INVALID_CONTEXT_OPERATION))}cancelDeferredActionsOnError(EA){if(!EA)return;const AA=hh(EA);if(AA){const _A={...AA};_A.context_data={..._A.context_data},_A.context_data?.deferred_action_queue&&Dh.rejectPendingActions(_A.context_data.deferred_action_queue)&&(_A.context_data.deferred_action_queue=[]),_A.context_data?.blocking_action_counter&&(_A.context_data.blocking_action_counter=0),_A.context_data?.is_deferred_action_in_progress&&(_A.context_data.is_deferred_action_in_progress=!1),ph({type:Ae,payload:{context:EA,data:{..._A}}}),hn.disableLoadingIndicator({context:EA})}}},Lu=(EA,AA)=>{const _A={},CA=$l.getLookUpDataPage(EA),SA=$l.getDataPageKeys(CA);if(SA)for(const DA of SA)_A[DA.keyName]=DA.isAlternateKeyStorage?AA[DA.linkedField]:AA[DA.keyName];return{dataViewParameters:_A,dataPageID:CA,dataPageKeys:SA}},Uu=(EA,AA)=>{const _A=$l.getSavableDataPage(EA),CA=$l.getDataPageKeys(_A);return CA?.forEach((EA=>{EA.isAlternateKeyStorage&&(EA.keyName===EA.linkedField||Object.keys(AA).includes(EA.linkedField))?EA.keyName=AA[EA.linkedField]:EA.isAlternateKeyStorage&&Object.keys(AA).includes(EA.keyName)&&EA.keyName!==EA.linkedField?(AA[EA.linkedField]=AA[EA.keyName],delete AA[EA.keyName]):EA.keyName=AA[EA.keyName]})),{keys:AA,dataPageID:_A,dataPageKeys:CA}},Fu=EA=>{Yr.publish(B.PUB_SUB_EVENTS.EVENT_CANCEL,EA)},ju=(EA,AA,_A)=>{const{callbacks:CA}=_A;return _A.callbacks=null,EA(AA,_A).then((EA=>{"cancel"===EA?CA?.cancel?.():CA?.submit?.()}))},Vu=class{constructor(EA){this.c11nEnv=EA}MSG_CLASSNAME_REQUIRED="className is required parameter";MSG_CLASSNAME_STRING="className must be a string";MSG_ACTION_ID_REQUIRED="actionID is required parameter";MSG_ACTION_ID_STRING="actionID must be a string";MSG_ACTION_NAME_REQUIRED="actionName is required parameter";MSG_ACTION_NAME_STRING="actionName must be a string";MSG_KEY_PROPERTIES_REQUIRED="keyProperties is required parameter";MSG_DATAVIEWID_REQUIRED="dataViewID is required parameter";MSG_DATAVIEWID_STRING="dataViewID must be a string";MSG_CONTAINERITEMID_REQUIRED="containerItemID is required parameter";MSG_CONTAINERITEMID_STRING="containerItemID must be a string";MSG_PAGENAME_REQUIRED="pageName is required parameter";MSG_PAGENAME_STRING="pageName must be string";MSG_INSIGHTID_REQUIRED="insightID is required parameter";MSG_DASHBOARDID_REQUIRED="DashboardID is required parameter";MSG_ACTIVE_SUGGESTION_UNATTENDED="You must accept or decline autofilled fields.";MSG_CASE_ID_REQUIRED="caseID is required parameter";MSG_CONTEXT_STRING="context must be string";shouldDeleteCaseInCreateStage=(EA,AA,_A)=>!EA&&AA||_A;getSaveActionPayload=(EA,AA=!1)=>{const _A=EA,CA=_A&&_A.includes(G.MODAL),SA=this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID),DA=this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENT_ID),TA=this.c11nEnv.getValue(B.CASE_INFO.ACTIVE_ACTION_ID)?this.c11nEnv.getValue(B.CASE_INFO.ACTIVE_ACTION_ID):this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENTACTION_ID),NA=this.c11nEnv.getContainerName(),PA=this.c11nEnv.getValue(B.CASE_INFO.CASE_TYPE_ID),RA=AA?void 0:pl(this.c11nEnv.getContextName()),bA=this.c11nEnv.getValue("isProcessAction","isProcessAction");return Mh.buildActionObject({context:_A,containerItemID:EA,assignmentID:DA,actionID:TA,caseID:SA,containerName:NA,caseType:PA,isModalAction:CA,isFormValid:RA,isProcessAction:bA,saveOnly:AA},this.c11nEnv)};actionsApiPromise=(EA,AA,_A=!0)=>{let CA,SA,DA="";DA=AA&&null!==AA.actionMgrID?AA.actionMgrID||"":gn.getNextActionMgrId();const TA=new Promise(((EA,AA)=>{CA=EA,SA=AA}));if(!CA||!SA)throw new Error("resolveFn or rejectFn is not defined.");return gn.register(DA,TA,CA,SA,EA,AA,_A),{actionMgrID:DA,promise:TA}};showDataObjectCreateView(EA,AA=B.VIEW_NAMES.DATA_OBJECT_CREATE_VIEW){const _A=Mh.buildActionObject({viewName:AA,className:EA},this.c11nEnv),CA=ie,{promise:SA}=this.actionsApiPromise(CA,_A);return ph({type:CA,payload:{..._A,containerName:B.MODAL,skipSemanticUrl:!0,isCreateDataObject:!0}}),SA}cancelDataObject(EA){if(!EA)return Promise.reject(new Error("containerItemId is required parameter"));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=EA;if(!Ol(AA))return new Bl(this.c11nEnv).removeContainerItem({containerItemID:EA,skipReleaseLockRequest:!0});const _A=Xe,CA=Mh.buildActionObject({containerItemID:EA,context:AA},this.c11nEnv),SA=AA&&AA.includes(G.MODAL);ph({type:_A,payload:{...CA,isModalAction:SA,isDataObject:!0,skipReleaseLockRequest:!0}});const{promise:DA}=this.actionsApiPromise(_A,CA);return DA.then((()=>{Fu({})}))}createDataObject(EA){if(!EA)return Promise.reject(new Error("containerItemID is required parameter"));const{data:AA}=dh()?.getState()||{},_A=AA[EA]?.dataInfo?.content?.classID;if(!_A)return Promise.reject(new Error(G.DATA_CLASS_NOT_FOUND));const CA=$l.getSavableDataPage(_A),SA=dt,DA=!!EA&&EA.includes(G.MODAL),TA=Mh.buildActionObject({containerItemID:EA,dataPageID:CA},this.c11nEnv),{promise:NA}=this.actionsApiPromise(SA,TA);return ph({type:"CREATE_DATA_OBJECT",payload:{...TA,isModalAction:DA,isFormValid:pl(EA)}}),NA}deleteDataObject(EA,AA){if(!EA)return Promise.reject(new Error("className is required parameter"));if(!AA)return Promise.reject(new Error("keys is required parameter"));const _A=pt,CA=$l.getSavableDataPage(EA),SA=$l.getDataPageKeys(CA),DA={};if(SA)for(const PA of SA)DA[PA.keyName]=PA.isAlternateKeyStorage?AA[PA.linkedField]:AA[PA.keyName];const TA=Mh.buildActionObject({dataViewName:CA,dataViewParameters:DA},this.c11nEnv),{promise:NA}=this.actionsApiPromise(_A,TA);return ph({type:"DELETE_DATA_OBJECT",payload:{...TA}}),NA}getDataObjectView(EA,AA,_A={viewName:""}){if(!EA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(!AA)return Promise.reject(new TypeError(this.MSG_KEY_PROPERTIES_REQUIRED));if("object"!=typeof AA)return Promise.reject(new TypeError("keyProperties must be a object"));const CA=ht,{dataPageID:SA,dataViewParameters:DA}=Lu(EA,AA),TA=Mh.buildActionObject({dataLookUp:SA,keyProperties:AA,requestPayload:DA,viewName:_A.viewName||B.VIEW_NAMES.DATA_OBJECT_EDIT_VIEW,containerName:G.MODAL},this.c11nEnv),{promise:NA}=this.actionsApiPromise(CA,TA);return ph({type:"VIEW_DATA_OBJECT",payload:{...TA}}),NA}updateDataObject(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if(!AA)return Promise.reject(new Error("keys is required parameter"));const{data:_A}=dh()?.getState()||{},CA=_A[EA]?.dataInfo?.content?.classID;if(!CA)return Promise.reject(new Error(G.DATA_CLASS_NOT_FOUND));const{dataPageID:SA,keys:DA}=Uu(CA,AA),TA=gt,NA=EA&&EA.includes(G.MODAL),PA=Mh.buildActionObject({containerItemID:EA,dataPageID:SA,key:DA},this.c11nEnv),{promise:RA}=this.actionsApiPromise(TA,PA);return ph({type:"UPDATE_DATA_OBJECT",payload:{...PA,isModalAction:NA,isFormValid:pl(EA)}}),RA}openDataObjectAction(EA,AA,_A,CA){if(!EA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(!AA)return Promise.reject(new TypeError(this.MSG_KEY_PROPERTIES_REQUIRED));if("object"!=typeof AA)return Promise.reject(new TypeError("keyProperties must be a object"));if(!_A)return Promise.reject(new Error(this.MSG_ACTION_ID_REQUIRED));if(!CA)return Promise.reject(new Error(this.MSG_ACTION_NAME_REQUIRED));const SA=ft,{dataViewParameters:DA,dataPageID:TA,dataPageKeys:NA}=Lu(EA,AA),PA=Mh.buildActionObject({actionID:_A,actionName:CA,dataViewParameters:DA,lookupDatapage:TA,containerName:G.MODAL,dataViewPayload:NA,context:this.c11nEnv.getContextName()},this.c11nEnv),{promise:RA}=this.actionsApiPromise(SA,PA);return ph({type:SA,payload:{...PA}}),RA}submitDataObjectAction(EA,AA,_A){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));if(!AA)return Promise.reject(new Error(this.MSG_KEY_PROPERTIES_REQUIRED));if(!_A)return Promise.reject(new Error(this.MSG_ACTION_ID_REQUIRED));const{data:CA}=dh()?.getState()||{},SA=CA[EA]?.dataInfo?.content?.classID;if(!SA)return Promise.reject(new Error(G.DATA_CLASS_NOT_FOUND));const DA=sp(EA),TA=Fd(DA),NA=ld(TA,DA)||{},{resourceType:PA="",key:RA=""}=NA,bA=mt,{dataPageID:OA,keys:vA}=Uu(SA,AA),xA=Mh.buildActionObject({containerItemID:EA,actionID:_A,resourceType:PA,key:RA,keys:vA,savableDatapage:OA,containerName:G.MODAL,context:EA},this.c11nEnv);xA.context=EA;const{promise:wA}=this.actionsApiPromise(bA,xA);return ph({type:bA,payload:{...xA,isFormValid:pl(EA)}}),wA}createWork(EA,AA={flowType:"",containerName:"",openCaseViewAfterCreate:!1,modalOptions:{dockable:!1},startingFields:Object,remoteCaseMeta:{},channelName:""}){if(!EA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms?.plugins?.c11n?.createWork)return window.pms.plugins.c11n.createWork(EA,"pyStartCase");const{dockable:_A=!1}=AA?.modalOptions||{};let CA=ge;const SA=Mh.buildActionObject({class:EA,flowType:"pyStartCase",containerName:G.PRIMARY,openCaseViewAfterCreate:!0,...AA,modalOptions:{isDockable:_A}},this.c11nEnv),{promise:DA}=this.actionsApiPromise(CA,SA);if(AA.channelName&&(SA.headers=SA.headers||{},SA.headers[G.X_ORIGIN_CHANNEL]=AA.channelName),q.isRemoteCase(EA)){const{RemoteClassName:AA,RemoteSystemID:_A,name:DA}=q.getRemoteCase(EA);if(SA.className=EA,SA.class=AA,SA.headers=SA.headers||{},SA.headers.RemoteSystemID=_A,q.isTraditionalRemoteCase(EA)){const _A={className:EA,name:DA,action:"createWork",remoteClassName:AA};CA=this.setTraditionalRemoteCaseParams(SA,_A)}}return ac.getPreviewMode()&&(SA.debugInfo={debugId:Dh.generateUniqueID()}),ph({type:CA,payload:{...SA}}),DA}setTraditionalRemoteCaseParams(EA,AA){return EA.className=AA.className,EA.isTraditionalRemoteCase=q.isTraditionalRemoteCase(AA.className),EA.remoteClassName=AA.remoteClassName,EA.action=AA.action,EA.viewName=W,EA.gadgetId=AA.gadgetId??Rc.getUniqueGadgetId(),EA.name=AA.name,EA.skipSemanticUrl=!0,ie}getDataObjectActions(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_DATAVIEWID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_DATAVIEWID_STRING));const _A=Ce,CA=Mh.buildActionObject({dataViewID:EA,dataViewParameters:AA},this.c11nEnv),{promise:SA}=this.actionsApiPromise(_A,CA);return ph({type:_A,payload:{...CA}}),SA}getDescendants(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_CASE_ID_REQUIRED));if("string"!=typeof AA)return Promise.reject(new TypeError(this.MSG_CONTEXT_STRING));const _A=AA||this.c11nEnv.getContextName(),CA=Mh.buildActionObject({caseID:EA,currentContext:_A},this.c11nEnv),{promise:SA}=this.actionsApiPromise("GET_DESCENDANTS",CA),DA=(TA={...CA,context:_A},{type:wu,payload:TA});var TA;return ph(DA),SA}openWorkByHandle(EA,AA,_A={}){if(!EA)return Promise.reject(new Error("workID is required parameter"));if("string"!=typeof EA)return Promise.reject(new TypeError("workID must be a string"));if(!AA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof AA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms?.plugins?.c11n?.openWorkByHandle)return window.pms.plugins.c11n.openWorkByHandle(EA,AA);const CA={insKey:EA,acTargetName:_A.targetContainer||G.PRIMARY,containerName:_A.targetContainer||G.PRIMARY};let SA=fe;const DA=Mh.buildActionObject(CA,this.c11nEnv),{promise:TA}=this.actionsApiPromise(SA,DA);return _A.channelName&&(DA.headers=DA.headers||{},DA.headers[G.X_ORIGIN_CHANNEL]=_A.channelName),DA.className=AA,q.isRemoteCase(AA)&&(SA=this.setRemoteCaseParamsForOpenCase(DA,AA,_A.remoteCaseMeta)??SA),ac.getPreviewMode()&&![G.WORKAREA].includes(_A.targetContainer)&&(DA.debugInfo={debugId:Dh.generateUniqueID()}),ph({type:SA,payload:{..._A,...DA}}),TA}setRemoteCaseParamsForOpenCase(EA,AA,_A={}){const{RemoteSystemID:CA,RemoteClassName:SA,name:DA}=q.getRemoteCase(AA);if(EA.headers=EA.headers||{},EA.headers.RemoteSystemID=CA,EA.isRemoteCase=!0,EA.remoteCaseClass=AA,q.isTraditionalRemoteCase(AA)){EA.remoteCaseMeta=_A;const CA={className:AA,name:DA,action:At,remoteClassName:SA};return this.setTraditionalRemoteCaseParams(EA,CA)}}openAssignment(EA,AA,_A={isActionFromToDoList:!1,isChild:!1,context:"",viewType:"",skipBrowserSemanticUrlUpdate:!1,containerName:"",channelName:"",remoteCaseMeta:{}}){if(!EA)return Promise.reject(new Error("assignmentID is required parameter"));if("string"!=typeof EA)return Promise.reject(new TypeError("assignmentID must be a string"));if(!AA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof AA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms?.plugins?.c11n?.openAssignment)return window.pms.plugins.c11n.openAssignment(EA,AA);const CA={assignmentID:EA,doDeleteCaseSummary:!0,containerName:_A.containerName,isActionFromToDoList:_A.isActionFromToDoList,isChild:!1};_A.isChild&&(CA.containerName=G.PRIMARY,CA.isChild=_A.isChild);let SA=Fl;const DA=Mh.buildActionObject(CA,this.c11nEnv),{promise:TA}=this.actionsApiPromise(SA,DA);if(_A.channelName&&(DA.headers=DA.headers||{},DA.headers[G.X_ORIGIN_CHANNEL]=_A.channelName),q.isRemoteCase(AA)){const{RemoteClassName:EA,RemoteSystemID:CA,name:TA}=q.getRemoteCase(AA);if(DA.headers=DA.headers||{},DA.headers.RemoteSystemID=CA,q.isTraditionalRemoteCase(AA)){DA.remoteCaseMeta=_A.remoteCaseMeta;const CA={className:AA,name:TA,action:"openAssignment",remoteClassName:EA};SA=this.setTraditionalRemoteCaseParams(DA,CA)}}DA.className=AA,DA.activeItemCaseViewMode=this.c11nEnv.getValue("context_data.caseViewMode"),ac.getPreviewMode()&&![G.WORKAREA].includes(_A.containerName)&&(DA.debugInfo={debugId:Dh.generateUniqueID()});const NA={context:DA.context||_A.context,containerName:DA.containerName||_A.containerName,targetContainerName:DA.containerName||_A.containerName,viewType:DA.viewType||_A.viewType,skipBrowserSemanticUrlUpdate:_A.skipBrowserSemanticUrlUpdate};return ph({type:SA,payload:{...DA,...NA}}),TA}finishAssignment(EA,AA={outcomeID:"",jsActionQueryParams:{}}){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const _A=Cd(EA);let CA=_A;if(_A?.includes("/workarea")&&(CA=_A.substring(0,CA?.lastIndexOf("/workarea"))),(EA=>{const AA=vn.getContextReferences(EA);if(AA)for(const[,_A]of AA)if(xh.resolveContextTreeNodeProps(_A.props).hasSuggestions)return!0;return!1})(_A)){const EA=[{type:"error",message:Ip.getLocaleValue(this.MSG_ACTIVE_SUGGESTION_UNATTENDED,"Messages")}];return Zn({messages:EA,context:CA,category:B.PAGE}),Promise.reject({type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR})}const SA=ye,DA=AA?.isTriggeredFromDifferentContext,{caseID:TA,assignments:NA,localActionID:PA,caseActions:RA,caseInfo:bA,businessID:OA,caseTypeID:vA,caseTypeName:xA}=pn(EA,this.c11nEnv,{isTriggeredFromDifferentContext:DA}),wA=sn(bA);let MA,LA=!1;if(RA){const EA=RA.find((EA=>EA.ID===PA));LA="Case"===EA?.type}else MA=hh(_A);let{assignmentID:GA}=pn(EA,this.c11nEnv,{isTriggeredFromDifferentContext:DA});MA?.context_data?.actionType&&(LA=MA.context_data.actionType===G.CASE,GA=GA||MA.context_data.assignmentID);const UA=dn(NA,GA,PA),[FA,jA]=TA.split(" "),VA={class:FA,actionID:UA,assignmentID:GA,caseID:TA,workID:jA,containerName:this.c11nEnv.getContainerName(),containerItemID:EA,isCaseWideAction:LA,doDeleteCaseSummary:!0,isInCreateStage:wA,businessID:OA,caseTypeID:vA,caseTypeName:xA};EA?.includes(G.MODAL)&&(VA.containerName=G.MODAL,VA.isModalAction=!0),VA.outcome=AA.outcomeID,VA.jsActionQueryParams=AA.jsActionQueryParams,bA?.isLocalAction&&(VA.viewType=bc.FORM);const kA=Mh.buildActionObject(VA,this.c11nEnv),{promise:BA}=this.actionsApiPromise(SA,kA);return kA.isProcessAction=this.c11nEnv.getValue("isProcessAction","isProcessAction")||hh(_A).context_data.isProcessAction,Mu.executeOrQueueDeferredAction({type:SA,payload:{...kA,context:_A}}),BA}getNextWork(){const EA=Fl,AA=Mh.buildActionObject({containerName:G.PRIMARY,isGetNextWork:!0},this.c11nEnv),{promise:_A}=this.actionsApiPromise(EA,AA);return ph({type:EA,payload:{...AA}}),_A}openStage(EA){if(!EA)return Promise.reject(new Error("stageID is required parameter for openStage"));const AA=Fl,_A=this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID),CA=this.c11nEnv.getCaseSummary().headers,SA=Mh.buildActionObject({containerName:this.c11nEnv.getContainerName(),isOpenStage:!0,stageID:EA},this.c11nEnv),{promise:DA}=this.actionsApiPromise(AA,SA),TA={type:AA,payload:{...SA,caseID:_A,headers:CA}};return ph(TA),DA}submitBulkAction(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA="SUBMIT_BULK_ACTION",_A=this.c11nEnv.getValue(B.CASE_INFO.CASES),CA=this.c11nEnv.getValue(B.CASE_INFO.ACTIVE_ACTION_ID),SA={containerName:this.c11nEnv.getContainerName(),containerItemID:EA,isCaseWideAction:!0,doDeleteCaseSummary:!0,isInCreateStage:!1};EA&&EA.includes(G.MODAL)&&(SA.containerName=G.MODAL,SA.isModalAction=!0);const DA=Mh.buildActionObject(SA,this.c11nEnv),{promise:TA}=this.actionsApiPromise(AA,DA),NA=Cd(EA);return ph({type:AA,payload:{...DA,context:NA,cases:_A,actionID:CA,isFormValid:pl(NA),classID:this.c11nEnv.getCurrentClassID()}}),TA}submitBulkActionAsync(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA="SUBMIT_BULK_ACTION_ASYNC",_A=this.c11nEnv.getValue(B.CASE_INFO.CASES),CA=this.c11nEnv.getValue(B.CASE_INFO.ACTIVE_ACTION_ID),SA={containerName:EA.includes(G.MODAL)?G.MODAL:this.c11nEnv.getContainerName(),containerItemID:EA,isCaseWideAction:!0,doDeleteCaseSummary:!0,isInCreateStage:!1,isModalAction:EA.includes(G.MODAL)},DA=Mh.buildActionObject(SA,this.c11nEnv),{promise:TA}=this.actionsApiPromise(AA,DA),NA=Cd(EA);return ph({type:AA,payload:{...DA,context:NA,cases:_A,actionID:CA,isFormValid:pl(NA),classID:this.c11nEnv.getCurrentClassID()}}),TA}openBulkAction(EA,AA){if(!EA)return Promise.reject(new Error("actionID is required parameter for openBulkAction"));if("string"!=typeof EA)return Promise.reject(new TypeError("actionID must be a string openBulkAction"));const{selectedList:_A,runningMode:CA}=AA,SA=AA.type,DA={selectedList:_A,vcName:AA.target,actionName:AA?.name,actionID:EA,doDeleteCaseSummary:!0,localActionType:SA,runningMode:CA,...AA},TA="OPEN_BULK_ACTION",NA=Mh.buildActionObject(DA,this.c11nEnv),{promise:PA}=this.actionsApiPromise(TA,NA);return ph({type:TA,payload:{...NA}}),PA}cancelBulkAction(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=De,_A={containerItemID:EA,context:EA,skipReleaseLockRequest:!0,target:`${G.APP.APP}/${G.MODAL}`,caseViewMode:G.PERFORM_MODE,deleteContext:!0};ph({type:AA,payload:_A});const{promise:CA}=this.actionsApiPromise(AA,_A);return CA}approveCase(EA){return EA?"string"!=typeof EA?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(ph({type:re,payload:{reference:B.CASE_INFO.APPROVALFLAG,value:G.APPROVED,context:EA}}),this.finishAssignment(EA)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}rejectCase(EA){return EA?"string"!=typeof EA?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(ph({type:re,payload:{reference:B.CASE_INFO.APPROVALFLAG,value:G.REJECTED,context:EA}}),this.finishAssignment(EA)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}resolveDuplicateCase(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const[,AA]=this.c11nEnv.getValue(B.CASE_INFO.DUPLICATECASEINSKEY).split(" "),_A={type:re,payload:{reference:B.CASE_INFO.DUPLICATECASEFLAG,value:G.DUPLICATE,context:EA}},CA={type:re,payload:{reference:B.CASE_INFO.DUPLICATECASEID,value:AA,context:EA}};return ph([_A,CA]),this.finishAssignment(EA)}ignoreDuplicateCase(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA={type:re,payload:{reference:B.CASE_INFO.DUPLICATECASEFLAG,value:G.IGNORE,context:EA}},_A={type:re,payload:{reference:B.CASE_INFO.DUPLICATECASEID,value:"",context:EA}},CA={type:re,payload:{reference:B.CASE_INFO.DUPLICATECASEINSKEY,value:"",context:EA}};return ph([AA,_A,CA]),this.finishAssignment(EA)}openLocalAction(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_ACTION_ID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_ACTION_ID_STRING));const _A=AA.caseID||this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID);if(window.pms?.plugins?.c11n?.openLocalAction)return AA.caseID=_A,ju(window.pms.plugins.c11n.openLocalAction,EA,AA);const CA=AA.assignKey||this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENT_ID),SA=AA.type,DA={caseID:_A,assignmentID:CA,vcName:AA.target,actionName:AA?.name,assignKey:CA,actionID:EA,doDeleteCaseSummary:!0,localActionType:SA,...AA},TA="OPEN_LOCAL_ACTION",NA=Mh.buildActionObject(DA,this.c11nEnv),PA=this.c11nEnv.getContextName(),{promise:RA}=this.actionsApiPromise(TA,NA),bA=Nd(PA)[0];let OA=!1;const vA=q.getRemoteHeaderByContext(PA);let xA;if(vA&&(NA.headers={},NA.headers.RemoteSystemID=vA),!bA)return xA=PA,ph({type:TA,payload:{...NA,contextName:PA,continueExecution:OA}}),RA;xA=Ed(bA);const wA=cd(bA);if(wA?.accessedOrder.forEach((EA=>{_A===wA.items[EA].key&&(OA=!0,xA=wA.items[EA].context)})),!OA||xA&&"review"===dh()?.getState()?.data[xA]?.context_data?.caseViewMode)return ph({type:TA,payload:{...NA,contextName:PA,continueExecution:OA}}),RA;const MA=xA,LA=MA&&MA.includes(G.MODAL),GA=AA.assignKey||this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENT_ID),UA=hh(xA),FA=UA?.caseInfo?.assignments?UA.caseInfo.assignments[0]?.actions[0]?.ID:void 0,jA=this.c11nEnv.getContainerName(),VA=this.c11nEnv.getValue(B.CASE_INFO.CASE_TYPE_ID),kA=this.c11nEnv.getValue("isProcessAction","isProcessAction"),BA=Mh.buildActionObject({context:MA,containerItemID:xA,assignmentID:GA,actionID:FA,caseID:_A,containerName:jA,caseType:VA,isModalAction:LA,isFormValid:!0,isProcessAction:kA},this.c11nEnv);BA.context=xA;const $A=Cd(xA),WA=this.c11nEnv.getCaseSummary(),HA=sn(WA),qA=Mh.buildActionObject({caseID:_A,containerItemID:xA,cancelContext:$A},this.c11nEnv);let zA={};return LA?(qA.acTargetName=G.MODAL,qA.isInCreateStage=HA,qA.isModalAction=LA,zA={...qA}):zA={...qA,acName:_t(this.c11nEnv.getContainerName(),qA.context)},ph({type:TA,payload:{...NA,contextName:PA,saveActionPayload:BA,cancelActionPayload:zA,continueExecution:OA}}),RA}openProcessAction(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_ACTION_ID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_ACTION_ID_STRING));const _A=this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID)||AA.caseID;if(window.pms?.plugins?.c11n?.openProcessAction)return AA.caseID=_A,ju(window.pms.plugins.c11n.openProcessAction,EA,AA);const CA=this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENT_ID)||AA.assignKey,SA=AA.type,DA={caseID:_A,assignmentID:CA,vcName:AA.target,actionName:AA?.name,assignKey:CA,actionID:EA,doDeleteCaseSummary:!0,processActionType:SA,isProcessAction:!0,...AA},TA=Ul,NA=Mh.buildActionObject(DA,this.c11nEnv),{promise:PA}=this.actionsApiPromise(TA,NA);return ph({type:TA,payload:{...NA}}),PA}navigateToStep(EA,AA){if(!EA)return Promise.reject(new Error("stepID is required parameter"));if("string"!=typeof EA)return Promise.reject(new TypeError("stepID must be a string"));if(!AA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof AA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const _A="NAVIGATE_TO_STEP",CA=this.c11nEnv.getValue(B.NEXT_ASSIGNMENT_INFO_ID)?this.c11nEnv.getValue(B.NEXT_ASSIGNMENT_INFO_ID):this.c11nEnv.getValue(B.CASE_INFO.ASSIGNMENT_ID),SA=sn(this.c11nEnv.getCaseSummary()),DA={ID:CA,stepID:EA,acTargetName:this.c11nEnv.getContainerName(),targetContainerName:this.c11nEnv.getContainerName(),containerItemID:AA,doDeleteCaseSummary:!0,isInCreateStage:SA};AA&&AA.includes(G.MODAL)&&(DA.acTargetName=G.MODAL);const TA=Mh.buildActionObject(DA,this.c11nEnv),{promise:NA}=this.actionsApiPromise(_A,TA),PA=Cd(AA);return ph({type:_A,payload:{...TA,containerItemID:AA,context:PA}}),NA}cancelAssignment(EA,AA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:_A}=B,CA=Ie,SA=Cd(EA),DA=EA&&EA.includes(G.MODAL),TA=this.c11nEnv.getCaseSummary(),NA=sn(TA),PA=this.c11nEnv.getValue(_A.CASE_INFO_ID),RA=this.c11nEnv.getValue(_A.ASSIGNMENT_ID),bA=Mh.buildActionObject({caseID:PA,containerItemID:EA,context:SA},this.c11nEnv);let OA={};DA?(bA.acTargetName=G.MODAL,bA.isInCreateStage=NA,bA.isModalAction=DA,OA={...bA}):OA={...bA,acName:_t(this.c11nEnv.getContainerName(),bA.context)};const{promise:vA}=this.actionsApiPromise(CA,bA);return ph({type:CA,payload:OA}),vA.then((()=>{AA||Fu({caseID:PA,assignmentID:RA,context:this.c11nEnv.getContextName()})}))}cancelLocalAction(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:AA}=B,_A=EA,CA=Xe,SA=EA&&EA.includes(G.MODAL),DA=this.c11nEnv.getValue(AA.CASE_INFO_ID),TA=Mh.buildActionObject({caseID:DA,containerItemID:EA,context:_A},this.c11nEnv);if(!Ol(_A))return new Bl(this.c11nEnv).removeContainerItem({containerItemID:EA}).then((()=>{Fu({caseID:DA,context:this.c11nEnv.getContextName()})}));ph({type:CA,payload:{...TA,isModalAction:SA}});const{promise:NA}=this.actionsApiPromise(CA,TA);return NA}cancelCreateStageAssignment(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:AA}=B,_A=Xe,CA=EA,SA=CA&&CA.includes(G.MODAL),DA=this.c11nEnv.getCaseSummary(),TA=sn(DA),NA=this.c11nEnv.getValue(AA.CASE_INFO_ID),PA=Mh.buildActionObject({caseID:NA,containerItemID:EA,context:CA},this.c11nEnv),RA=this.c11nEnv.getValue("isProcessAction","isProcessAction"),bA=fp.isCoexistenceAppOfType(G.APP_TYPE.UIKIT);if(PA.isProcessAction=RA,TA&&(SA||bA)&&!on(DA)){const AA=this.c11nEnv.getValue(G.CASE_INFO.IS_FIRST_ASSIGNMENT),NA=Ol(CA);if(this.shouldDeleteCaseInCreateStage(NA,AA,bA))return this.deleteCaseInCreateStage(EA);ph({type:_A,payload:{...PA,isModalAction:SA,isChildCase:un(DA),isInCreateStage:TA}})}const{promise:OA}=this.actionsApiPromise(_A,PA);return OA.then((()=>{}))}saveAssignment(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=Vl,_A=this.getSaveActionPayload(EA,!0),{promise:CA}=this.actionsApiPromise(AA,_A);return ph(kl(_A)),CA}saveAndClose(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=Vl,_A=this.getSaveActionPayload(EA),{promise:CA}=this.actionsApiPromise(AA,_A);return ph(kl(_A)),CA}deleteCaseInCreateStage(EA,AA=!1){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const _A=jl,CA=EA,SA=CA&&CA.includes(G.MODAL),DA=this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID),TA=this.c11nEnv.getValue(B.CASE_INFO.CASE_TYPE_ID),NA=Mh.buildActionObject({caseID:DA,caseType:TA,containerItemID:EA,context:CA,ignoreCaseDeletion:AA},this.c11nEnv),PA=this.c11nEnv.getValue("isProcessAction","isProcessAction"),RA=this.c11nEnv.getValue(B.CASE_INFO.PARENTCASEINFO);NA.isProcessAction=PA,NA.parentCaseInfo=RA;const bA=`${G.APP.APP}/${od.PRIMARY}`,OA=kc(bA,od.PRIMARY);NA.parentContext=OA,SA&&(NA.targetName=G.MODAL,NA.containerName=od.MODAL,NA.isModalAction=SA),ph((EA=>({type:jl,payload:EA}))(NA));const{promise:vA}=this.actionsApiPromise(_A,NA);return vA.then((()=>{Fu({caseID:DA,context:this.c11nEnv.getContextName()})}))}getRecents(EA){if(!EA)return Promise.reject(new Error("maxResultsToFetch is required parameter"));if("number"!=typeof EA)return Promise.reject(new TypeError("maxResultsToFetch must be number"));let{restApi:AA}=gp.getRestEndPoint("getRecents")||{};AA=`${AA}?maxResultsToFetch=${EA}`;const _A=T()+AA;return yc(_A,{method:"GET",headers:{}})}updateRecents(EA,AA,_A,CA){const{restApi:SA}=gp.getRestEndPoint("updateRecents")||{},DA=`${T()}${SA}`;return yc(DA,{method:"PATCH",headers:{"Content-Type":"application/json"},body:{pyLabel:_A,pyID:AA,classID:EA,ID:CA}})}logout(){const{restApi:EA}=gp.getRestEndPoint("Logout")||{},AA=`${T()}${EA}`;return yc(AA,{method:"GET",headers:{}}).then((EA=>(Object.keys(vn.rootNodes).forEach((EA=>{xu.cleanCaches(EA)})),vn.rootNodes={},sessionStorage.clear(),Nh(),Promise.resolve(EA))))}invoke(EA,AA={}){const _A={method:AA.method||"GET",body:AA.body};return yc(EA,_A,this.c11nEnv.getContextName())}showCasePreview(EA,AA={}){this.loadView(EA,"pyCasePreview",{container:od.PREVIEW,containerName:od.PREVIEW,context:B.APP.APP,...AA})}showDataPreview(EA,AA,_A){return EA?"string"!=typeof EA?Promise.reject(new TypeError("dataContext must be string")):AA?"object"!=typeof AA?Promise.reject(new TypeError("dataContextParameters must be an object")):this.showData("pyDataPreview",EA,AA,{container:od.PREVIEW,containerName:od.PREVIEW,context:B.APP.APP,..._A||{},skipSemanticUrl:!0}):Promise.reject(new Error("dataContextParameters is required parameter")):Promise.reject(new Error("dataContext is required parameter"))}loadView(EA,AA,_A){let CA=Mh.buildActionObject({caseId:EA,viewName:AA,caseClassName:this.c11nEnv.getValue(B.CASE_INFO.CASE_TYPE_ID),RemoteSystemID:q.getRemoteHeaderByContext(this.c11nEnv.getContextName())},this.c11nEnv);_A||(_A={containerName:this.c11nEnv.getContainerName(),updateData:!1}),_A&&"object"==typeof _A?(Object.hasOwn(_A,"container")&&!Object.hasOwn(_A,"containerName")&&(_A.containerName=_A.container),CA={...CA,..._A}):CA={...CA,containerName:this.c11nEnv.getContainerName()};const SA=oe,{promise:DA}=this.actionsApiPromise(SA,CA,!1);return ph({type:SA,payload:{...CA}}),DA}showPage(EA,AA,_A={containerName:"",skipSemanticUrl:""}){if(!EA)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!AA)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof AA)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms?.plugins?.c11n?.showPage)return window.pms.plugins.c11n.showPage(EA,AA,_A);const CA=Mh.buildActionObject({viewName:EA,className:AA},this.c11nEnv),SA=ie,{promise:DA}=this.actionsApiPromise(SA,CA);return ac.getPreviewMode()&&(CA.debugInfo={debugId:Dh.generateUniqueID()}),ph({type:SA,payload:{...CA,containerName:_A.containerName||this.c11nEnv.getContainerName(),skipSemanticUrl:_A.skipSemanticUrl}}),DA}showInsight(EA,AA={}){if(!EA)return Promise.reject(new Error(this.MSG_INSIGHTID_REQUIRED));const _A=Mh.buildActionObject({},this.c11nEnv),CA=le,{promise:SA}=this.actionsApiPromise(CA,_A);return ph({type:CA,payload:{..._A,containerName:this.c11nEnv.getContainerName(),skipSemanticUrl:AA.skipSemanticUrl||!1,insightID:EA}}),SA}showDashboard(EA,AA={}){if(!EA)return Promise.reject(new Error(this.MSG_DASHBOARDID_REQUIRED));const _A=Mh.buildActionObject({},this.c11nEnv),CA=ue,{promise:SA}=this.actionsApiPromise(CA,_A);return ph({type:CA,payload:{..._A,containerName:this.c11nEnv.getContainerName(),skipSemanticUrl:AA.skipSemanticUrl||!1,dashboardID:EA}}),SA}showData(EA,AA,_A,CA={containerName:"",skipSemanticUrl:!1}){if(!EA)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!AA)return Promise.reject(new Error("dataContext is required parameter"));if("string"!=typeof AA)return Promise.reject(new TypeError("dataContext must be string"));const SA=Mh.buildActionObject({pageName:EA,dataContext:AA,dataContextParameters:_A,RemoteSystemID:q.getRemoteHeaderByContext(this.c11nEnv.getContextName())},this.c11nEnv),DA=ce;CA?.containerName||(CA.containerName=Hr.getTargetViewContainerName(DA));const{promise:TA}=this.actionsApiPromise(DA,SA);return ph({type:DA,payload:{...SA,...CA,skipSemanticUrl:Boolean(CA.skipSemanticUrl)}}),TA}changeHandler(EA,AA){Mh.changeHandler(EA,AA)}eventHandler(EA,AA){Mh.eventHandler(EA,AA)}triggerFieldChange(EA,AA,_A=!1){const CA=this.c11nEnv.getContextName(),SA=this.c11nEnv.getPageReference(),DA=xh.getContextPath(SA,EA);_A||this.c11nEnv.getValidationApi().validate(AA),this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(EA,AA);let TA=this.c11nEnv.getValue(G.CLASS_ID);const NA=EA?EA.split(".").filter((EA=>!!EA)):[];NA.length>1&&(NA.pop(),TA=mh(`.${NA.join(".")}.classID`,SA,CA)),EA=Dh.trimDotForProperty(EA),ph({type:ae,payload:{reference:DA,value:AA,context:CA,pageReference:this.c11nEnv.getPageReference(),propertyName:EA||this.c11nEnv.getComponentConfig().value,classID:TA}})}updateFieldValue(EA,AA,_A={}){const{removePropertyFromChangedList:CA=!1,isArrayDeepMerge:SA=!0,contextPageReference:DA="",isListEntry:TA=!1,skipDirtyValidation:NA=!1}=_A,PA=this.c11nEnv.getContextName();let RA=this.c11nEnv.getPageReference();const bA=DA?.startsWith(RA)?DA.replace(RA,""):DA;RA=DA||RA;const OA=xh.getContextPath(RA,EA);let vA=!1;this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(bA?`${bA}${EA}`:EA,AA,{isArrayDeepMerge:SA}),this.c11nEnv.isBulkAction()&&(vA=!0),EA||(EA=this.c11nEnv.getStateProps().value),Qn({type:B.MESSAGES.MESSAGES_TYPE_ERROR,property:EA,pageReference:RA,context:PA,isListEntry:TA}),ph({type:re,payload:{reference:OA,value:AA,context:PA,isArrayDeepMerge:SA,skipDirtyValidation:NA,...vA&&{isStrictTracking:vA},...CA&&{removePropertyFromChangedList:CA}}})}activateModalContainerItem(EA){const AA=ke,{context:_A}=EA,CA=_A&&_A.includes(G.MODAL),SA=Mh.buildActionObject({...EA,containerName:this.c11nEnv.getContainerName(),containerItemID:_A},this.c11nEnv);CA&&(SA.containerName=G.MODAL,SA.isModalAction=CA),ph({type:AA,payload:SA});const{promise:DA}=this.actionsApiPromise(AA,SA);return DA}refreshCaseView(EA,AA,_A,CA={}){const{promise:SA,actionMgrID:DA}=this.actionsApiPromise("REFRESH_DATA"),{autoDetectRefresh:TA,propertyName:NA,preserveClientChanges:PA,classID:RA,context:bA,optionalPayload:OA}=CA,vA={actionMgrID:DA,caseViewAction:!0,preserveClientChanges:PA,propertyName:NA,classID:RA,optionalPayload:OA};CA.refreshFor&&(vA.refreshFor=CA?.refreshFor),CA.skipDataMerge&&(vA.skipDataMerge=CA?.skipDataMerge);const xA=bA||this.c11nEnv.getContextName(),wA=this.c11nEnv.getPageReference();return!this.c11nEnv.getValue(G.CONTEXT_DATA_MODAL_VIEW.IS_MULTI_RECORD_DATA)&&TA&&(((EA,AA)=>ln(EA)&&!cn(EA,AA))(xA,wA)||cn(xA,wA))?kn(xA,_A,vA):Un(EA,AA,xA,_A,vA),SA}openEmbeddedDataModal(EA,AA,_A,CA,SA,DA){const TA=yt,NA=AA.getCaseInfo().getKey(),PA=`${AA.getPageReference().replace(B.CASE_INFO.CASE_INFO_CONTENT,"")}${_A}[${CA}]`,RA={targetProperty:_A,index:CA,viewID:EA,ID:NA,actionType:SA,interestPage:Dh.convertPageRefToClipboardPageNotation(PA),heading:DA},bA=Mh.buildActionObject(RA,this.c11nEnv),{promise:OA}=this.actionsApiPromise(TA,bA);return fp.getFeatureMap().granularUIRefresh&&(AA.getMetadata().config.children[0].children||[]).forEach((EA=>{const _A=rn.trimAnnotation(EA.config.value),CA=Vp(_A.startsWith(".")?_A.replace(".",""):_A,EA.config.classID);if(CA?.isDeclarativeTarget){const EA=AA.getPageReference();vn.addFieldNode(AA.getContextName(),EA+PA,AA.viewName,_A,"",{isDeclarativeTarget:!0,propertyName:_A,pageReference:EA+PA})}})),ph({type:TA,payload:{...bA,containerName:B.MODAL,skipSemanticUrl:!0}}),OA}submitEmbeddedDataModal(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=It,_A=this.c11nEnv.getPageReference().replace(B.CASE_INFO.CASE_INFO_CONTENT,""),CA=Cd(EA),SA={containerItemID:EA,containerName:this.c11nEnv.getContainerName(),doDeleteCaseSummary:!0,isInCreateStage:!1,ID:this.c11nEnv.getValue(B.CASE_INFO.CASE_INFO_ID),viewID:this.c11nEnv.getValue(G.CONTEXT_DATA_MODAL_VIEW.VIEW_NAME),isFormValid:pl(CA),interestPage:Dh.convertPageRefToClipboardPageNotation(_A),parentContext:this.c11nEnv.getValue(G.CONTEXT_DATA_MODAL_VIEW.PARENT_CONTEXT),isModalAction:!1,target:this.c11nEnv.getTarget()};EA&&EA.includes(G.MODAL)&&(SA.containerName=G.MODAL,SA.isModalAction=!0);const DA=Mh.buildActionObject(SA,this.c11nEnv),{promise:TA}=this.actionsApiPromise(AA,DA);if(Ol(CA)){const[EA,AA,_A]=En(this.c11nEnv.getPageReference());vn.mutatePageList(this.c11nEnv.getValue(G.CONTEXT_DATA_MODAL_VIEW.PARENT_CONTEXT),EA,AA,{type:rt,rowIndex:_A}),ph({type:rt,payload:{pageReference:this.c11nEnv.getPageReference(),context:this.c11nEnv.getValue(G.CONTEXT_DATA_MODAL_VIEW.PARENT_CONTEXT),isListEntry:!0}})}return Mu.executeOrQueueDeferredAction({type:AA,payload:{...DA,context:CA}}),TA}fillFormWithAI(EA){if(!EA)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof EA)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const AA=Cd(EA),_A=this.c11nEnv.getPageReference(),{promise:CA,actionMgrID:SA}=this.actionsApiPromise(Et);return kn(AA,_A,{actionMgrID:SA,isFillFormWithAI:!0,preserveClientChanges:!1}),CA}},ku=class{constructor(EA){this.c11nEnv=EA}async getCaseStages(EA,AA){const _A={caseID:EA},{restApi:CA,reqType:SA}=Og("getCaseStages",_A);return(await yc(CA,{method:SA},AA)).data.stages}getCaseTypeName(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_TYPE_NAME)}getName(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_NAME)}getClassName(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_TYPE_ID)}getAvailableProcesses(){return this.c11nEnv.getValue(G.CASE_INFO.AVAILABLEPROCESSES)}getKey(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_ID)}getID(){const EA=this.getKey();if(EA){const[,AA]=EA.split(" ");return AA||EA}}getAssignmentID(){return this.c11nEnv.getValue(G.CASE_INFO.ASSIGNMENT_ID)}getActions(){return this.c11nEnv.getValue(G.CASE_INFO.ACTION_BUTTONS)}getActiveFlowActionID(){return this.c11nEnv.getValue(G.CASE_INFO.ACTIVE_ACTION_ID)||this.c11nEnv.getValue(G.CASE_INFO.ASSIGNMENTACTION_ID)}getParentCaseInfo(){return this.c11nEnv.getValue(G.CASE_INFO.PARENTCASEINFO)}isPerform(){return this.c11nEnv.getValue(`${G.CONTEXT_DATA}${G.CASE_VIEW_MODE_PROP}`)===G.PERFORM_MODE}isReview(){return this.c11nEnv.getValue(`${G.CONTEXT_DATA}${G.CASE_VIEW_MODE_PROP}`)===G.REVIEW_MODE}isAssignmentInCreateStage(){const EA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO);return sn(EA)}isLocalAction(){const EA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO);return on(EA)}getCurrentAssignmentViewName(){let EA=null,AA=!1;if(this.c11nEnv.getValue("context_data.caseViewMode")===G.PERFORM_MODE){if(this.isLocalAction())return EA;if(this.isAssignmentInCreateStage())AA=!0;else{const AA=this.c11nEnv.getTarget(),_A=this.c11nEnv.getContextName(),CA=ld(AA,_A),{config:SA}=AA&&_A?CA&&CA.view:this.c11nEnv.getMetadata();EA=SA?.type===G.VIEW?SA?.name:null}(EA&&EA.startsWith(G.PROPERTY_ANNOTATION)||AA)&&(EA=this.c11nEnv.getValue(G.CASE_INFO.VIEW_NAME))}return EA}getActionRefreshConditions(){const EA=this.c11nEnv.getValue(G.CASE_INFO.ACTIVE_ACTION_ID),AA=K(this.c11nEnv.getContextName());let _A;AA&&(_A=hh(AA));const CA=_A?.caseInfo?.availableActions,SA=hh(this.c11nEnv.getContextName()),DA=SA?.caseInfo?.refreshConditions;if(EA){if(CA){const AA=CA.find((AA=>AA.ID===EA));return AA?AA.refreshConditions:DA}return DA}return this.c11nEnv.getValue(G.CASE_INFO.ACTION_REFRESH_CONDITIONS)}getBusinessID(){return this.c11nEnv.getValue(G.CASE_INFO.BUSINESS_ID)}getAssignments(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO)?.assignments}getChildAssignments(){return this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO)?.childCases?.[0]?.assignments}isCaseWideLocalAction=()=>{const EA=this.c11nEnv.getValue(G.CASE_INFO.ACTIVE_ACTION_ID),AA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_ACTIONS);if(AA&&EA){const _A=AA.find((AA=>AA.ID===EA));return"Case"===_A?.type}return!1};getAllAssignments(){const EA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_ACTIONS),AA=this.c11nEnv.getValue(G.CASE_INFO.ASSIGNMENT_LABEL),_A=this.c11nEnv.getValue(G.CASE_INFO.D_CASE_ASSIGNMENTS_RESULTS)||[],CA=this.getChildAssignments()||[];let SA=JSON.parse(JSON.stringify(CA));SA=SA.map((EA=>(EA.isChild=!0,EA)));const DA=[..._A,...SA];let TA=JSON.parse(JSON.stringify(DA));return EA&&!this.isPerform()&&(TA=TA.map((EA=>(EA.name=this.getActiveCaseActionName()||EA?.name||AA,EA)))),TA}getActiveCaseActionName(){const EA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_ACTIONS),AA=this.c11nEnv.getValue(G.CASE_INFO.ACTIVE_ACTION_ID),_A=EA.find((EA=>EA.ID===AA));return _A?.name||""}getFirstCaseActionName(){const EA=this.c11nEnv.getValue(G.CASE_INFO.CASE_INFO_ACTIONS);return EA[0]?.name||""}hasAssignments(){const EA=this.c11nEnv.getValue(G.CASE_INFO.D_CASE_ASSIGNMENTS_RESULTS),AA=this.getChildAssignments();return!!(EA||AA||this.isCaseWideLocalAction())}hasMessages=()=>!!this.c11nEnv.getValue("caseMessages");hasGetNextWorkLinks(){return!!this.c11nEnv.getValue(G.CASE_INFO.GETNEXTWORK)}},{RESOURCE_TYPES:$u}=B,Bu=class{static openCase(EA,AA,_A,CA={}){const SA={insKey:EA,acTargetName:_A,actionMgrID:gn.getNextActionMgrId(),context:AA,...CA},DA=fe;CA&&CA.channelName&&(SA.headers={},SA.headers[G.X_ORIGIN_CHANNEL]=CA.channelName);const{promise:TA}=gn.actionManagerPromise(DA,SA.actionMgrID);return ph({type:DA,payload:SA}),TA}static openAssignment(EA,AA,_A,CA={}){const SA={assignmentID:EA,vcName:_A,doDeleteCaseSummary:!0,actionMgrID:gn.getNextActionMgrId(),context:AA,...CA},DA=Ee;CA&&CA.channelName&&(SA.headers={},SA.headers[G.X_ORIGIN_CHANNEL]=CA.channelName);const{promise:TA}=gn.actionManagerPromise(DA,SA.actionMgrID);return ph({type:DA,payload:{...SA}}),TA}static createCase(EA,AA,_A,CA={}){const SA=ge,DA={class:EA,acTargetName:_A,actionMgrID:gn.getNextActionMgrId(),context:AA,...CA};CA&&CA.channelName&&(DA.headers={},DA.headers[G.X_ORIGIN_CHANNEL]=CA.channelName);const{promise:TA}=gn.actionManagerPromise(SA,DA.actionMgrID);return ph({type:SA,payload:{...DA}}),TA}static getNextWork(EA,AA,_A={}){const CA=Ee,SA={isGetNextWork:!0,vcName:AA,doDeleteCaseSummary:!0,actionMgrID:gn.getNextActionMgrId(),context:EA,..._A},{promise:DA}=gn.actionManagerPromise(CA,SA.actionMgrID);return ph({type:CA,payload:{...SA}}),DA}static getOpenedCaseItems(EA){const AA=[],_A=cd(EA);if(_A){const{items:CA={}}=_A,SA=Object.keys(CA),DA=Ed(EA);SA.forEach((_A=>{if(CA[_A]&&(CA[_A].resourceType===$u.CASE||CA[_A].resourceType===$u.ASSIGNMENT)){const{key:SA="",context:TA}=CA[_A],NA=CA[_A],PA=SA.substring(SA.indexOf(" ")+1),RA=mh(".caseTypeID",G.CASE_INFO.CASE_INFO,TA),bA=DA===_A;AA.push({...NA,key:SA,workID:SA,caseID:PA,className:RA,context:TA,containerItemID:_A,target:EA,active:bA})}}))}return AA}static getCaseDetails=(EA,AA)=>{if(!EA)return Promise.reject(new Error("Case ID is required"));const _A={caseID:EA},{restApi:CA,reqType:SA}=Og(ze,_A),DA={},TA=q.getRemoteHeaderFromSourceClass(AA??"");return TA&&(DA.RemoteSystemID=TA),yc(CA,{method:SA,headers:DA})};static getCaseBulkActions=async EA=>{const{restApi:AA,reqType:_A}=Og("getBulkActions"),CA=EA.map((EA=>({ID:EA}))),SA=CA.length,DA=SA/5,TA={},NA=[];for(let bA=0;bA<SA;bA+=DA)TA.cases=CA.slice(bA,bA+DA),TA.cases.length&&NA.push(yc(AA,{method:_A,body:TA}));const PA=await Promise.all(NA);let RA=[];for(let bA=0;bA<PA.length;bA+=1)0!==bA?RA.length&&(RA=RA.filter((EA=>PA[bA].data.availableActions.some((AA=>EA.ID===AA.ID))))):RA=PA[bA].data.availableActions;return RA};static getCaseBulkActionsByCaseTypeID=async EA=>{const AA={casetypeID:EA},{restApi:_A,reqType:CA}=Og("getCaseBulkActions",AA),SA=await yc(_A,{method:CA});let DA=[];return SA.data?.availableActions?.length&&(DA=SA.data.availableActions),DA}};class Gu{constructor(EA){Gu._instance=this,this.context=`${EA}/${G.SUGGESTION}`,dh()?.getState().data?.[this.context]||ph({type:Be,payload:{context:this.context,data:{}}})}getField(EA){return mh(EA,"",this.context)}setField(EA,AA){ph({type:re,payload:{reference:EA,value:AA,context:this.context}})}removeField(EA){ph({type:_e,payload:{reference:EA,context:this.context}})}setState(EA){ph(jh({context:this.context,data:EA,isArrayDeepMerge:!0}))}}const Wu=Gu,Hu=class{static getSharedState(EA){const AA=EA.startsWith(".")?EA.substring(1):EA,_A=gh();return _A?Dh.getIn(_A,AA):null}static setSharedState(EA,AA){EA&&ph(yg({key:EA,value:AA}))}static updateState(EA,AA,_A,CA={}){const{isArrayDeepMerge:SA=!0,pageReference:DA}=CA;EA&&AA&&ph(Ig({context:EA,reference:DA?`${DA}.${AA}`:AA,value:_A,isArrayDeepMerge:SA}))}static getSuggestionsContext(EA){return new Wu(EA)}},qu=class{constructor(EA,AA,_A){this.meta=EA,this.datasource=AA,this.index=0,this.options=_A,this.datasourceObj=xh.getPropertyValue(AA,_A.pageReference,_A.context)}hasNext(){return this.index<this.datasourceObj.length}next(){if(!this.hasNext())throw new Error("No Children");const EA=xh.getContextPath(this.datasource,this.index);return this.index+=1,td({meta:this.meta,options:{...this.options,pageReference:EA}})}resetIndex(){this.index=0}};class zu{constructor(EA,AA){this.children=EA,this.index=0,this.options=AA}hasNext(){return this.index<this.children.length}next(){if(!this.hasNext())throw new Error("No Children");const EA=this.children[this.index];return this.index+=1,td({meta:EA,index:this.index,options:this.options})}resetIndex(){this.index=0}}const Yu=(EA,AA)=>{const _A=!!EA?.repeat;if(EA?.["repeat-self"])return new qu(EA,EA.context||"",AA);if(_A){const _A=Ih(`${AA.context}.${G.SUMMARY_OF_LISTS}`,EA.pageReference,AA.context);return new qu(EA.children[0],_A||EA.context,AA)}return EA?.children?new zu(EA.children,AA):void 0};class Ku{static allowedComponetsForBulkProcessing={Currency:!0,TextInput:!0,Phone:!0,Percentage:!0,Email:!0,Integer:!0,Decimal:!0,URL:!0,SemanticLink:!0,Checkbox:!0,RadioButtons:!0,DateTime:!0,Date:!0,Time:!0,Text:!0,TextArea:!0,RichText:!0,Dropdown:!0,Search:!0,Location:!0,Attachment:!0,AutoComplete:!0,MultiSelect:!0,UserReference:!0,Region:!0,TextContent:!0,View:{Forms:!0,DefaultForm:!0,OneColumn:!0,TwoColumn:!0,ThreeColumn:!0}};static getItemView(EA,AA){const _A=[];if(EA&&["portal","view"].includes(AA)){const{accessedOrder:AA,items:CA}=EA;if(AA&&CA){const EA=AA[AA.length-1];CA[EA]&&CA[EA].view&&Object.keys(CA[EA].view).length>0&&_A.push(CA[EA])}}return _A}static getDependentProperties=EA=>{let AA=[];return EA._rawConfig?.config?.parameters?AA=Object.values(EA._rawConfig?.config?.parameters||{}):EA.getFieldMetadata(EA.getStateProps()?.value)?.datasource?.parameters&&(AA=(EA.getFieldMetadata(EA.getStateProps()?.value)?.datasource?.parameters||[]).map((EA=>EA?.value))),AA.filter((EA=>fl.isProperty(EA))).map((EA=>fl.getPropertyName(EA)))}}const Xu=new Ku;let Ju;Object.freeze(Xu);const Qu=(EA,AA,_A)=>{EA&&(Object.keys(EA).forEach((CA=>{if("children"!==CA){const SA=EA[CA],DA=rn.trimAnnotation(SA);if("string"!=typeof DA&&"string"!=typeof SA||!(Dh.isValidAnnotation(SA)&&Dh.isPropertyRef(DA)||SA.startsWith("@W ")||SA.startsWith("@E ")||SA.startsWith("@ATTACHMENT "))){if(Array.isArray(DA))DA.forEach(((EA,_A)=>{const SA={parentStateObj:AA,parentKey:CA,isObjHasValue:!!AA[CA]};AA[CA]=AA[CA]||[],AA[CA][_A]=Object.create({}),Qu(EA,AA[CA][_A],SA)}));else if(DA&&"object"==typeof DA&&"exp"!==DA.type){const EA={parentStateObj:AA,parentKey:CA,isObjHasValue:!!AA[CA]};AA[CA]=AA[CA]||{},Qu(DA,AA[CA],EA)}}else _A&&_A.parentKey&&(_A.isObjHasValue=!0),AA[CA]=DA}})),_A&&!_A.isObjHasValue&&delete _A.parentStateObj[_A.parentKey])},Zu=(EA,AA)=>{EA._inheritedProps=EA._inheritedProps||[],EA.inheritedProps=[...EA._inheritedProps,...Dh.deepClone(AA.inheritedProps)]};class ed{constructor(EA){const{meta:AA,isRoot:_A,options:CA={},useCustomContext:SA}=EA;this.meta=AA,this._isRoot=_A,this.options=CA,this.useCustomContext=SA,this._rawConfig=AA?.config,this._isExpressionExist=!1,this._isWhenExist=!1,this._isValidatorExist=!1,this._pageReference="",this._referenceContext="",this._contextName="",this._stateProps={},this._actions={},this._children="",this._additionalRegisteredProps={},this._caseInfo=null,this.viewName=CA.viewName,this.parentViewName=CA.viewName??"",this._referenceList=CA.referenceList||"",this._isInsideList=CA.isInsideList||!1,this._inheritedConfig={},this._localeRuleName=CA.localeReference,this._containerTarget=CA.target,this.xrayInfo={},this._readOnly=AA?.config?.readOnly||CA.readOnly,this._hasSuggestions=!1,this._actionsApi=null,this._classID=null,this.index=EA.index,this.categoryName=CA.categoryName||"",CA.inheritedConfig&&(this._inheritedConfig=Dh.deepClone(CA.inheritedConfig)),AA?.config?.inheritedProps&&Zu(this._inheritedConfig,AA?.config),Qu(this._rawConfig,this._stateProps),this._isState=!Dh.isObjectEmpty(this._stateProps),this._rawConfig&&this._rawConfig.config&&(this._isExpressionExist=Dh.isExpressionExist(this._rawConfig.config),this._isWhenExist=Dh.isWhenExist(this._rawConfig.config),this._isValidatorExist=Ur.isValidatorExist(this._rawConfig.config)),this._isRoot?this._contextName=B.APP.APP:this._contextName=this.meta?.config?.contextName||this.options.context,this._type=this.meta?.type;let DA=this.options.pageReference;if(this.options.pageReference&&(DA=rn.handleAnnotation(this.options.pageReference,this)),this._pageReference=xh.getContextPath(DA||this.options.parentPageReference,this._pageReference),this._pageReference||(this._pageReference=""),"reference"===this._type&&(this._rawConfig=AA),"reference"===this._type&&Dh.isWhenExist({visibility:this.meta?.config?.visibility})&&Fn(this.viewName,this._contextName,this._pageReference),"reference"!==this._type&&AA&&(this._rawConfig=xh.resolveReference(AA,this)),this._rawConfig){const EA=this.getRawConfigProps();EA&&(this._localeRuleName=rn.trimAnnotation(EA.localeReference)||CA.localeReference,this._isExpressionExist=Dh.isExpressionExist(EA),this._isWhenExist=Dh.isWhenExist(EA),this._isValidatorExist=Ur.isValidatorExist(EA)),this._children=this._rawConfig.children,this._rawConfig?.type?.toLowerCase()===G.VIEW&&this._rawConfig.name&&(this.viewName=rn.handleAnnotation(this._rawConfig.name,this)),this.options.hasForm&&Vn(this)}}isDeclarativeTarget(){let EA=!1;if(this.getValue(this._pageReference)||""===this._pageReference){const AA=rn.trimAnnotation(this.getPropertyName()),_A=this.getFieldMetadata(AA);EA=_A?.isDeclarativeTarget||!1}return EA}_getPropertyName(){const EA=rn.trimAnnotation(this.getPropertyName());return""===this._pageReference&&EA.startsWith(".")?EA.substring(1,EA.length):EA}addFieldNode(){const EA=this._getPropertyName(),{value:AA,label:_A,required:CA,readOnly:SA,disabled:DA,visibility:TA,validationType:NA,caption:PA,allowMultiple:RA}=this.getRawConfigProps();if(this.getValue(this._pageReference)||""===this._pageReference){const bA="Address"===this._type&&this._rawConfig?.config?.associatedView?rn.trimAnnotation(this._rawConfig.config.associatedView):"",OA=_A||PA,vA={target:this._containerTarget,context:this._contextName,pageReference:this._pageReference,propertyName:rn.trimAnnotation(AA),label:OA?.startsWith("@")?rn.handleAnnotation(OA,this,void 0):OA,required:CA,readOnly:SA,disabled:DA,visibility:TA||this.options?.visibility,skipRequiredValidation:this.options?.isBulkAction,inheritedProps:this.getInheritedProps(),useCustomContext:this.useCustomContext,value:AA,validationType:NA,componentName:this._rawConfig?.type,hasSuggestions:this._hasSuggestions,isInsideList:this.isInsideList(),index:this.index,allowMultiple:RA,isDeclarativeTarget:this.isDeclarativeTarget()};vn.addFieldNode(this._contextName,this._pageReference,(bA||this.categoryName||this.viewName)??"",EA,this.getValue(EA),vA)}}removeNode(){if(!this.isVisible())if(Object.hasOwn(this._rawConfig?.config??{},"value"))vn.removeFieldNode(this._contextName,this._pageReference,this.viewName||"",rn.trimAnnotation(this.getPropertyName()),this.index);else{const EA=this._rawConfig?.config?.context?`${this._pageReference}${this._rawConfig?.config.context}`:this._pageReference;vn.removeViewNode(this._contextName,EA,this._rawConfig?.config?.name||this._rawConfig?.config?.id||"",this.index)}}addViewNode(){this._rawConfig?.type?.toLowerCase()===G.VIEW&&this._rawConfig.name&&this.viewName&&vn.addViewNode(this._contextName,this._pageReference,this.viewName,this.parentViewName),"Group"===this._rawConfig?.type&&this._rawConfig?.config?.id&&vn.addViewNode(this._contextName,this._pageReference,this._rawConfig.config.id,this.parentViewName),"Address"===this._rawConfig?.type&&this._rawConfig?.config?.associatedView&&vn.addViewNode(this._contextName,this._pageReference,rn.trimAnnotation(this._rawConfig.config.associatedView),this.parentViewName),"deferload"===this._rawConfig?.type?.toLowerCase()&&this._rawConfig.config?.name&&vn.addViewNode(this._contextName,this._pageReference,this._rawConfig.config.name,this.parentViewName)}addWhenNode(){let EA="",AA="";const _A=Dh.getWhenNames(this._rawConfig?.config),CA=this.getRawConfigProps();if(CA?.type&&CA?.type?.toLowerCase()===G.VIEW)AA=G.CONTEXT_TREE_NODE_TYPES.VIEW,EA=this.getCurrentView();else{AA=G.CONTEXT_TREE_NODE_TYPES.FIELD;const _A=this.getPropertyName();EA=rn.isProperty(_A)?rn.trimAnnotation(_A):""}EA&&_A.forEach((_A=>{vn.addWhenNode(this.getContextName(),this.getPageReference(),AA,EA,_A,{pageReference:this.getPageReference(),context:this.getContextName()})}))}updateContextTree(){if(this.isVisible()&&(this.addViewNode(),this._rawConfig?.config&&Object.hasOwn(this._rawConfig.config,"value")&&"DISPLAY_ONLY"!==this._inheritedConfig.displayMode&&"DISPLAY_ONLY"!==this._rawConfig.config?.displayMode&&this.addFieldNode(),(this._rawConfig?.type?.toLowerCase()!==G.VIEW||"Editable"===this._rawConfig.config?.renderMode)&&this._rawConfig?.config?.referenceList&&"DISPLAY_ONLY"!==this._rawConfig.config?.displayMode)){const{value:EA,label:AA,required:_A,readOnly:CA,disabled:SA,visibility:DA,validationType:TA,selectionMode:NA,selectionList:PA,selectionKey:RA,referenceList:bA,renderMode:OA,caption:vA}=this.getRawConfigProps(),xA=AA||vA;let wA=[];["Multiselect","Checkbox"].includes(this._rawConfig.type)&&(wA=this.getSelfReferencingDatapageKeys()),vn.addPageListNode(this._contextName,this._pageReference,this.viewName??"",rn.trimAnnotation(this.getPropertyName()),{target:this._containerTarget,context:this._contextName,pageReference:this._pageReference,propertyName:rn.trimAnnotation(this.getPropertyName()),label:xA?.startsWith("@")?rn.handleAnnotation(xA,this,void 0):xA,required:_A,readOnly:CA,disabled:SA,visibility:DA||this.options.visibility,skipRequiredValidation:this.options.isBulkAction,inheritedProps:this.getInheritedProps(),useCustomContext:this.useCustomContext,value:EA,validationType:TA,componentName:this._rawConfig.type,type:this._rawConfig.config?.type,hasSuggestions:this._hasSuggestions,isInsideList:this.isInsideList(),selectionMode:NA,selectionList:PA,renderMode:OA,referenceList:bA,selectionKey:RA,index:this.index,selfReferencingDatapageKeys:["Multiselect","Checkbox"].includes(this._rawConfig.type)?wA:void 0});const MA=this.getValue(rn.trimAnnotation(this.getPropertyName()),this._pageReference)||[];vn.updatePageListNode(this._contextName,this._pageReference,rn.trimAnnotation(this.getPropertyName()),MA.length)}this.isWhenExist()&&this.addWhenNode(),this.removeNode()}setXRayInfo(EA){Dh.mergeDeep(EA,this.xrayInfo)}getXRayInfo(){return this.xrayInfo}getStateProps(){return this._stateProps}setStateProps(EA){Dh.mergeDeep(EA,this._stateProps)}getMetadata(){return this._rawConfig}getCaseInfo(){return this._caseInfo||(this._caseInfo=new ku(this)),this._caseInfo}getCaseLocaleReference(){const EA=this.getCaseInfo().getClassName();return EA?`CASE!${EA}`.toUpperCase():null}getListActions(){return wr(this)}getReferenceList(){return this._referenceList}isInsideList(){return this._isInsideList||/\[\d+\]/g.test(this.getPageReference())}getRawMetadata(){return this.getMetadata()}setReferenceList(EA){this._referenceList=EA}getComponentConfig(){return this.getMetadata()?.config||{}}isExpressionExist(){return this._isExpressionExist}isWhenExist(){return this._isWhenExist}isConditionExist(){return this.isExpressionExist()||this.isWhenExist()}isBoundToState(){return this._isState}getPageReference(){return this._pageReference}getPropertyName(){const EA=this.getComponentConfig();let AA;return AA="multi"===EA.selectionMode?"selectionList":"single"===EA.selectionMode&&EA.selectionKey?"selectionKey":"Editable"===EA.renderMode?"referenceList":"Address"===this._type?"addressProp":"value",this.getComponentConfig()[AA]}getFullReference(){const EA=this.getPageReference(),AA=this.getPropertyName();return xh.getContextPath(EA,AA)}getContextName(){return this._contextName}getContainerName(){const{type:EA}=this.getMetadata()||{},AA=[G.CONTAINERS.ROOT_CONTAINER,G.CONTAINERS.VIEW_CONTAINER,G.CONTAINERS.FLOW_CONTAINER,G.CONTAINERS.MODAL_VIEW_CONTAINER,G.CONTAINERS.PREVIEW_VIEW_CONTAINER,G.CONTAINERS.HYBRID_VIEW_CONTAINER],{acTargetName:_A=od.PRIMARY,name:CA,routingInfo:SA}=this.getComponentConfig();return(EA&&AA.includes(EA)||"@ROUTING_INFO"===SA)&&CA?CA:this.options.containerName||_A}getTarget(){return this._containerTarget}getCurrentView(){return this.viewName}populateSuggestionProps(EA){if(this._rawConfig?.config&&Object.hasOwn(this._rawConfig.config,"value")&&this.getStateProps()?.value&&this.options.hasForm){const AA=h?.getStore()?.getState()?.data[`${this.getContextName()}/${G.SUGGESTION}`],_A=this.getStateProps()?.value,CA=xh.getContextPath(this.getPageReference(),_A),SA=AA?Hu.getSuggestionsContext(this.getContextName()).getField(CA):void 0;this._hasSuggestions=!!SA,EA.hasSuggestions=this._hasSuggestions,this._stateProps.hasSuggestions=this._hasSuggestions}}getConfigProps(EA={}){const AA={...Mr.getDefaultsforType(this._type),readOnly:this._readOnly,...this._rawConfig&&this._rawConfig.config,...this._additionalRegisteredProps,...this._inheritedConfig};return this.populateSuggestionProps(AA),this.resolveConfigProps(AA,EA),Dh.resolveStringBooleans(EA)}getRawConfigProps(){const EA={...Mr.getDefaultsforType(this._type),...this._rawConfig?.config,...this._additionalRegisteredProps,...this._inheritedConfig};return this.populateSuggestionProps(EA),EA}resolveConfigProps(EA,AA={}){return EA&&(xh.resolveProps(EA,AA,this),rn.handleComponentMapping(AA,{type:this.getComponentName(),config:EA},this)),AA}registerAdditionalProps(EA={}){return Object.assign(this._additionalRegisteredProps,EA),Qu(EA,this._stateProps),this.resolveConfigProps(this._additionalRegisteredProps)}deRegisterAdditionalProps(EA=[]){return EA.forEach((EA=>{delete this._additionalRegisteredProps[EA]})),!0}populateAdditionalProps(EA){const AA=this.getComponentName(),_A=this.getComponentConfig(),CA=AA===G.ROOT_CONTAINER&&"portal"!==EA.renderingMode;if(AA===G.MODAL_VIEW_CONTAINER||AA===G.CASE_CREATE_STAGE){const AA=Ed(`${G.APP.APP}/${this.getContainerName()}`),_A=Jn({context:AA,category:B.PAGE});EA.pageMessages=_A,this._stateProps.pageMessages=EA.pageMessages}if(this.isEditable()){let{value:AA}=this.getStateProps();void 0===AA&&"multi"===this.getComponentConfig()?.selectionMode?AA=this.getStateProps().selectionList||rn.trimAnnotation(this.getRawConfigProps().selectionList):!AA&&"Editable"===this.getComponentConfig()?.renderMode&&this.getStateProps().referenceList&&(AA=this.getStateProps().referenceList);const _A=Jn({property:AA,pageReference:this.getPageReference(),context:this.getContextName(),type:B.MESSAGES.MESSAGES_TYPE_ERROR}),CA=Jn({property:AA,pageReference:this.getPageReference(),context:this.getContextName(),type:B.MESSAGES.MESSAGES_TYPE_INFO});_A&&_A[0]&&(EA.validatemessage=_A.map((EA=>Ip.getLocaleValue(EA.message.replace(/\.$/,""),"Messages"))).join(". ")+(_A[_A.length-1].message.endsWith(".")?".":""),EA.status=G.FIELD_LEVEL_ERROR,this._stateProps.validatemessage=EA.validatemessage,this._stateProps.status=EA.status),CA&&CA[0]&&(EA.infoMessage=CA[0].message,EA.status=G.FIELD_LEVEL_WARNING,this._stateProps.infoMessage=EA.infoMessage,this._stateProps.status=EA.status)}if(AA===G.ROOT_CONTAINER){const AA=tr(CA,Ed(`${G.APP.APP}/${this.getContainerName()}`));EA.httpMessages=AA,this._stateProps.httpMessages=EA.httpMessages;const _A=Hu.getSharedState("isLoggedOut");EA.isLoggedOut=_A,this._stateProps.isLoggedOut=_A;const SA=Jn({context:G.APP.ROOT,category:"PAGE"});EA.pageMessages=SA,this._stateProps.pageMessages=EA.pageMessages}if(AA===G.HYBRID_VIEW_CONTAINER){const AA=Jn({context:G.APP.APP,category:G.HTTP});EA.httpMessages=AA,this._stateProps.httpMessages=AA}if(AA===G.APP_SHELL&&EA.portalDocMode===G.CONTAINER_TYPE.MULTIPLE&&(EA.activeCases=Bu.getOpenedCaseItems(`${B.APP.APP}/${G.PRIMARY}`),this._stateProps.activeCases=EA.activeCases),AA===G.APP_SHELL){const AA=G.APP.APP,_A=Ed(`${AA}/${this.getContainerName()}`),CA=[...Jn({context:AA,category:"PAGE"})||[],...Jn({context:_A,category:"PAGE"})||[]],SA=CA.length>0?CA:void 0;EA.pageMessages=SA,this._stateProps.pageMessages=EA.pageMessages}if(EA.value&&AA===G.SCALARLIST&&(this._stateProps.value=EA.value),AA===G.APP_SHELL||AA===G.MODAL_VIEW_CONTAINER||AA===G.CASE_CREATE_STAGE||_A.template===G.CASE_PREVIEW){let AA=Jn({context:G.APP.APP,category:"HTTP"});const _A=Jn({context:Ed(`${G.APP.APP}/${this.getContainerName()}`),category:"HTTP"});AA?_A&&(AA=AA.concat(Jn({context:Ed(`${G.APP.APP}/${this.getContainerName()}`),category:"HTTP"}))):AA=Jn({context:Ed(`${G.APP.APP}/${this.getContainerName()}`),category:"HTTP"}),EA.httpMessages=AA?AA.map((EA=>EA.message)):AA,this._stateProps.httpMessages=EA.httpMessages,AA?.forEach((AA=>{AA.errorDetails&&(EA.errorDetails=EA.errorDetails?EA.errorDetails.push(...AA.errorDetails):AA.errorDetails,this._stateProps.errorDetails=EA.errorDetails),AA.correlationID&&(EA.correlationID=AA.correlationID)}))}if(AA===G.VIEW_CONTAINER||AA===G.FLOW_CONTAINER||AA===G.MODAL_VIEW_CONTAINER||AA===G.PREVIEW_VIEW_CONTAINER||AA===G.ROOT_CONTAINER){if(EA.routingInfo=Ct(this.getContainerName(),this._contextName),AA===G.ROOT_CONTAINER&&(EA.rootConfig=Ku.getItemView(EA.routingInfo,EA.renderingMode),this._stateProps.rootConfig=EA.rootConfig),this._stateProps.routingInfo=EA.routingInfo,AA===G.FLOW_CONTAINER){const AA=Jn({context:this.getContextName(),category:G.CASEMESSAGES}),_A=this.getContextName();EA.caseMessages=AA,this._stateProps.caseMessages=EA.caseMessages,EA.caseViewMode=this.getValue("context_data.caseViewMode"),this._stateProps.caseViewMode=EA.caseViewMode;const CA=Nd(_A)[0];if(CA){const AA=Ed(CA),_A=h?.getStore()?.getState()?.data;_A&&AA&&(EA.lastUpdateTime=_A[AA]?.caseInfo?.lastUpdateTime,this._stateProps.lastUpdateTime=_A[AA]?.caseInfo?.lastUpdateTime);const SA=Jn({context:AA,category:B.PAGE}),DA=Jn({context:AA,category:"HTTP"});EA.httpMessages=DA,EA.pageMessages=SA,this._stateProps.pageMessages=EA.pageMessages,this._stateProps.httpMessages=EA.httpMessages,DA?.forEach((AA=>{AA.errorDetails&&(EA.errorDetails=EA.errorDetails?EA.errorDetails.push(...AA.errorDetails):AA.errorDetails,this._stateProps.errorDetails=EA.errorDetails),AA.correlationID&&(EA.correlationID=AA.correlationID)}))}}if(EA.loadingInfo=this.getLoadingStatus(this.getContextName()),EA.assignmentNames=this.getCaseInfo().getAssignments()?.map((EA=>EA.name)),EA.childAssignmentNames=this.getCaseInfo().getChildAssignments()?.map((EA=>EA.name)),AA===G.MODAL_VIEW_CONTAINER){const AA=EA.routingInfo?.accessedOrder||[],_A=AA[AA.length-1];_A&&(EA.loadingInfo=this.getLoadingStatus(_A))}this._stateProps.loadingInfo=EA.loadingInfo,this._stateProps.assignmentNames=EA.assignmentNames,this._stateProps.childAssignmentNames=EA.childAssignmentNames}else _A.template===G.CASE_VIEW||_A.template===G.CASE_PREVIEW||_A.template===G.OBJECT_PAGE?(EA.caseInfo=this.getCaseSummary(),this._stateProps.caseInfo=EA.caseInfo):AA===G.CASE_STAGES&&(EA.stages=this.getCaseStages(),EA.stageID=this.getStageID(),this._stateProps.stages=EA.stages,this._stateProps.stageID=EA.stageID);this.populateFieldMetadata(EA),this.updateContextTree()}isReadOnlyField(EA,AA){const _A=fl.isPropertyInternal(AA),CA=EA.datasource,SA=this.getComponentConfig().isSearchField,{isClassKey:DA,isSpecial:TA,isDeclarativeTarget:NA}=EA.fieldMetadata,PA=EA.listType!==G.ASSOCIATED;return!SA&&(NA||_A||!CA&&(DA||TA)&&PA)}getPropertyDetails(EA,AA,_A){return EA===G.ASSOCIATED?{propertyValue:AA,propertyAnnotation:G.ASSOCIATED_PROPERTY_ANNOTATION}:{propertyValue:_A,propertyAnnotation:G.PROPERTY_ANNOTATION}}updateConfigData(EA,AA,_A){EA.fieldMetadata=AA,this.isReadOnlyField(EA,_A)&&(EA.readOnly=!0,this._stateProps.readOnly=EA.readOnly,EA.fieldMetadata.isDeclarativeTarget&&this.registerAdditionalProps({readOnly:!0})),EA.fieldMetadata?.isReadOnly&&(EA.readOnly=!0,this.registerAdditionalProps({readOnly:!0}))}populateFieldMetadata(EA){const{value:AA,datasource:_A,listType:CA}=this.getComponentConfig(),{propertyValue:SA,propertyAnnotation:DA}=this.getPropertyDetails(CA,_A,AA);if(SA&&"string"==typeof SA&&(SA.includes(DA)||SA.includes(G.ATTACHMENT_ANNOTATION))){const AA=rn.getPropertyName(SA),_A=this.getFieldMetadata(AA);_A&&this.updateConfigData(EA,_A,AA)}}resolvePropertyMetadata(EA,AA){if(!EA)return EA;const _A=sh(`${this._pageReference}.${AA}`,this._contextName);return(_A||null===_A)&&(EA.additionalInformation=_A),EA}getFieldMetadata(EA){if(!EA)return null;const AA=EA.split(".");if(AA.length<2){let AA=this.getValue(G.CLASS_ID);return!AA&&this._rawConfig&&this._rawConfig.config&&this._rawConfig.config.ruleClass&&(AA=this._rawConfig.config.ruleClass),this.resolvePropertyMetadata(Vp(EA,AA),EA)}return this.resolvePropertyMetadata(Vp(AA.pop(),this.getValue(`.${AA.join(".")}${G.CLASS_ID}`)),EA)}getCurrentPageFieldMetadata(EA=null){let AA=this.getPageReference().split(".");null!==EA&&(AA=EA.split("."));const _A=AA.pop();return this.resolvePropertyMetadata(Vp(_A,this.getValue(`${AA.join(".")}${G.CLASS_ID}`)))}getCurrentClassID(){return this._classID??this.getValue(G.CLASS_ID)}getCaseSummary(){const EA={...this.getDataObject()[B.CASE_INFO.CASE_INFO]};return EA.CaseID=EA.CaseID||this.getValue(B.CASE_INFO.CASE_INFO_PZINSKEY),{...EA,isCaseWideAction:()=>cn(this.getContextName(),this.getPageReference())}}getReferencedUser(EA){const AA=this.getValue("referencedUsers");if(Array.isArray(AA)){const _A=AA.find((AA=>AA.UserID===EA));if(_A)return{userId:_A.UserID,UserName:_A.UserName}}return AA&&AA[EA]?AA[EA]:null}getCaseStages(){return this.getDataObject()[B.CASE_INFO.CASE_INFO].stages}getStageID(){return this.getDataObject()[B.CASE_INFO.CASE_INFO].stageID}getActions(){return this._actions}isRoot(){return this._isRoot}resolveContextProps(EA){const{value:AA}=this.getStateProps();AA&&(EA.error=this.getContextDataValue(`${this.getPageReference()+AA}.error`),EA.validatemessage=this.getContextDataValue(`${this.getPageReference()+AA}.validatemessage`))}isValidatorExist(){return!!this._isValidatorExist}getValidationApi(){return new Ll(this)}isEditable(){return this._rawConfig&&this._rawConfig.config&&!(this._inheritedConfig&&this._inheritedConfig.readOnly)&&(Object.hasOwn(this._rawConfig.config,"value")||this._rawConfig.config.selectionList||"Editable"===this._rawConfig.config.renderMode&&this._rawConfig.config.referenceList)&&!("string"==typeof this._rawConfig.config?.value&&this._rawConfig.config.value.includes("@FILTERED_LIST"))&&!(Object.hasOwn(this._rawConfig.config,"readOnly")&&("true"===this._rawConfig.config.readOnly||!0===this._rawConfig.config.readOnly))&&!(Object.hasOwn(this._rawConfig.config,"disabled")&&!0===this._rawConfig.config.disabled)}isVisible(){return this._rawConfig?.config&&Object.hasOwn(this._rawConfig?.config,"visibility")&&"string"==typeof this._rawConfig?.config?.visibility?rn.handleAnnotation(this._rawConfig?.config?.visibility,this):"string"!=typeof this.options?.visibility||rn.handleAnnotation(this.options?.visibility,this)}isReadOnly(){return void 0!==this._readOnly&&("true"===this._readOnly||!0===this._readOnly||"string"==typeof this._readOnly&&rn.handleAnnotation(this._readOnly,this))}hasChildren(){return!!this._children}getComputedVisibility(){const EA="reference"===this._type&&this.getReferencedView()?this.getReferencedViewPConnect().getPConnect():this;if(!1===this.getConfigProps().visibility)return!1;if(!1===this.getConfigProps().requiresVisibleChildren)return!0;const AA=EA.getConfigProps(),_A={includeTypes:["Group","Region","View"],excludeTemplates:["ListView","SimpleTable","StudioTable"]};let CA=EA._type&&_A.includeTypes.includes(EA._type)&&!_A.excludeTemplates.includes(AA.template);if(!!AA.highlightedData&&AA.highlightedData.length&&AA.showHighlightedData&&(CA=!1),!CA)return!0;const SA=EA.getChildren();return!!SA&&SA.some((EA=>EA.getPConnect().getComputedVisibility()))}getChildrenIterator(){return this._children.setContext(this.getPageReference()),this._children}setAction(EA,AA){this._actions[EA]=AA}getComponentName(){return this._rawConfig&&this._rawConfig.type}isComponentRefreshable(){return!(!this._rawConfig||!this._rawConfig.isRefreshable)}getDataObject(EA){return hh(EA||this.getContextName())}getImagePath(EA){return`${kr.getConstellationServiceUrl()}/v860/${kr.getAppAlias()}/image/${EA}?org=${gp.getOrganizationName()}`}skipRequiredValidation(){return this.options.isBulkAction}isBulkAction(){return this.options.isBulkAction}getChildren(){if(this._children&&this._children.length){const EA=Yu(this._rawConfig,{pageReference:this._pageReference,context:this._contextName,localeReference:this._localeRuleName,hasForm:this.options.hasForm,isBulkAction:this.options.isBulkAction,containerName:this.getContainerName(),containerItemName:this.options.containerItemName,viewName:this.viewName,inheritedConfig:this._inheritedConfig,target:this._containerTarget,readOnly:this._readOnly,categoryName:"Group"===this._type?this._rawConfig?.config?.id:null}),AA=[];for(;EA?.hasNext();){const _A=EA.next();if(this.isBulkAction()){const EA=_A.getPConnect().getComponentName(),{template:AA}=_A.getPConnect().getConfigProps();if(!EA||!0!==Ku.allowedComponetsForBulkProcessing[EA]&&!0!==Ku.allowedComponetsForBulkProcessing[EA]?.[AA])continue}AA.push(_A)}return EA?.resetIndex(),AA}return[]}setInheritedProp(EA,AA){this._inheritedConfig[EA]=AA}getLocaleRuleName(){return this._localeRuleName}getLocalizedValue(EA,AA,_A){const CA=_A||this.getLocaleRuleName(),SA=this?.getMetadata();let DA=null;if(SA){const EA=SA?.type;EA&&!["View","Region"].includes(EA)&&(DA=EA)}return Ip.getLocaleValue(EA,AA,CA,DA)}getLocalizedValueForFieldLabel(EA,AA,_A){const CA=_A||this.getLocaleRuleName(),SA=this?.getMetadata();let DA=null;const TA=fp.getLocale();if(SA){const AA=SA?.type,_A=["View","Region"],CA=SA?.config?.label??SA?.config?.caption;if("en-US"!==TA&&CA?.startsWith(G.FIELD_LABEL_ANNOTATION)){const AA=CA.split(`${G.FIELD_LABEL_ANNOTATION} `).pop(),_A=AA?.split("."),SA=_A?.pop();let TA=`${SA}`;const NA=this.getFieldMetadata(TA),PA=NA?.classID||this.getValue(`.${_A?.join(".")}${G.CLASS_ID}`),RA=NA?.definedOnClassID;return TA=`${RA||PA}.${TA}`,Ip.getLocaleValue(EA,TA,Ip.FIELD_LABELS_BUNDLE_KEY,DA)}AA&&!_A.includes(AA)&&(DA=AA)}return Ip.getLocaleValue(EA,AA,CA,DA)}getLocalizedParagraphValue(EA){const AA=Qp(EA,this.getCurrentClassID()),_A=AA?.definedOnClassID;return Ip.getParagraphLocaleValue(_A||this.getCurrentClassID(),EA)||AA?.content}getLocaleRuleNameFromKeys(EA,AA,_A){return`${EA}!${AA}!${_A}`}getValue(EA,AA){return this.useCustomContext?(EA=EA.startsWith?.(".")?EA.substring(1):EA,EA.split?.(".").reduce(((EA,AA)=>EA?.[AA]??void 0),this.useCustomContext)):this._hasSuggestions&&this.getStateProps()?.value===EA?xh.getPropertyValue(EA,this.getPageReference(),`${this._contextName}/${G.SUGGESTION}`):xh.getPropertyValue(EA,AA||this.getPageReference(),this._contextName)}setInheritedConfig(EA){if(!EA)return;const{readOnly:AA,displayMode:_A,referenceType:CA,hideLabel:SA}=EA;SA&&(this._inheritedConfig.hideLabel=SA),CA&&(this._inheritedConfig.referenceType=CA),_A&&(this._inheritedConfig.displayMode=_A),(this._inheritedConfig.readOnly||AA)&&(this._inheritedConfig.readOnly=AA),EA.inheritedProps&&(EA.inheritedProps?.forEach((EA=>{"required"===EA.prop&&(this._inheritedConfig[EA.prop]=EA.value)})),Zu(this._inheritedConfig,EA))}getInheritedProps(){const EA={},AA={};return this._inheritedConfig.inheritedProps?.forEach((EA=>{AA[EA.prop]=EA.value})),xh.resolveProps(AA,EA,this),EA}setValue(EA,AA,_A,CA=!1,SA={}){let DA,TA;const{isArrayDeepMerge:NA}=SA;this.isInsideList()&&this.getListActions().updateProperty(EA,AA),this.isBulkAction()&&(DA=!0,AA||(TA=!0)),ph({type:"SET_PROPERTY",payload:{reference:`${this.getPageReference()}${EA}`,value:AA,initialValue:_A,isImplicit:CA,context:this.getContextName(),...void 0!==NA&&{isArrayDeepMerge:NA},...DA&&{isStrictTracking:DA},...TA&&{removePropertyFromChangedList:TA}}})}updateDirtyCheckChangeList(EA,AA){(({value:EA,context:AA,reference:_A})=>{if(ml.isPageInstruction(_A))return;const CA=_A?.startsWith(".")?_A?.substr(1):_A;Al[AA]=Al[AA]||{},Al[AA][CA]||(Al[AA][CA]={initialValue:mh(CA,null,AA)}),Al[AA][CA].value=EA})({reference:`${this.getPageReference()}${EA}`,value:AA,context:this.getContextName()})}getContextDataValue(EA,AA){return yh(AA||this.getPageReference(),EA,this._contextName)}updateState(EA){const AA=this._pageReference.indexOf(G.CASE_INFO.CASE_INFO_CONTENT),_A=this._pageReference.indexOf(".");let CA=G.CASE_INFO.CASE_INFO_CONTENT;0!==AA&&(CA=_A>0?this._pageReference.substring(_A):this._pageReference),ph(jh({context:this._contextName,data:EA,rootPageReference:CA}))}replaceState(EA,AA,_A={}){const{skipDirtyValidation:CA=!1}=_A;ph({type:"REPLACE_PROPERTY",payload:{reference:`${this.getPageReference()}${EA}`,value:AA,context:this.getContextName(),skipDirtyValidation:CA}})}reportError(EA,AA,_A){ph(pg(EA,AA||{},_A))}getComponent(){return Ju({getPConnect:()=>this})}createComponent(EA,AA,_A,CA){let SA=this._pageReference;if(AA){const EA=Ih(`${this.getPageReference()}.${G.SUMMARY_OF_LISTS}`,AA,this._contextName);SA=xh.getContextPath(EA||AA,_A)||AA}else if(CA&&CA.pageReference){let EA=CA.pageReference;EA=rn.handleAnnotation(EA,this),SA=xh.getContextPath(this._pageReference,EA)||""}return Ju(td({meta:EA,index:this.index,options:{containerName:this.getContainerName(),hasForm:this.options.hasForm,...EA.options,pageReference:SA,context:this._contextName,target:this._containerTarget,readOnly:this._readOnly||this._inheritedConfig?.readOnly,viewName:this.viewName}}),CA)}getReferencedView(){if(this.meta)return xh.resolveReference(this.resolveConfigProps(this.meta),this)}_resolvePageRef(EA){return this.getPageReference().includes(EA)||EA.startsWith(G.CLASS_ANNOTATION)?this.getPageReference():`${this.getPageReference()}${EA}`}getReferencedViewPConnect(EA=!1){const AA={...this.getComponentConfig()};return delete AA?.name,delete AA?.type,td({meta:this.getReferencedView(),options:{...EA?this.options:void 0,...AA,context:this.getContextName(),pageReference:AA.context?this._resolvePageRef(AA.context):this.getPageReference(),viewName:this.viewName}})}getContainerManager(){return new Bl(this)}getActionsApi(){return this._actionsApi||(this._actionsApi=new Vu(this)),this._actionsApi}getActionManager(){return gn}doesContextExist(EA){return Ph(EA??this.getContextName())}getGoogleMapsAPIKey(){return R()}getServerURL(){return T()}getLoadingStatus(EA){let AA=null;return EA?(AA=hh(EA),AA=AA?AA.context_data:null):AA=this.getDataObject().context_data,!!AA&&!!AA.isLoading&&AA.isLoading}clearErrorMessages(EA){EA?.property?Qn({type:"error",property:EA.property,pageReference:this.getPageReference(),context:this.getContextName()}):EA?.context?Qn({type:"error",...EA}):(Qn({type:"error",...EA,context:G.APP.APP}),Qn({type:"error",...EA,context:Ed(`${G.APP.APP}/${this.getContainerName()}`)}))}resolveDatasourceReference(EA){return Ih(`${this.getPageReference()}.${G.SUMMARY_OF_LISTS}`,EA,this.getContextName())||EA}removeFormField(){}addFormField(){}setPageValue(EA,AA,_A){delete EA?.classID,this.setValue(AA,EA,void 0,void 0,{isArrayDeepMerge:!1}),((EA,AA,_A)=>{const CA=nl(AA);tl[EA]?tl[EA].fieldOrder[CA]=_A:tl[EA]={fieldOrder:{[CA]:_A}}})(this.getContextName(),`${this.getPageReference()}${AA}`,this),_A&&((EA,AA,_A)=>{const CA=(EA,AA)=>{Object.entries(EA).forEach((([EA,SA])=>{if(Array.isArray(SA)){const CA=PCore.createPConnect({options:{pageReference:_A.getPageReference(),context:_A.getContextName(),referenceList:`${AA}.${EA}`}}).getPConnect();xr(CA,`${AA}.${EA}`,{skipStateUpdate:!0});for(let EA=0;EA<SA.length;EA+=1)Nr(SA[EA],EA,CA,void 0,{})}else"object"==typeof SA&&CA(SA,`${AA}.${EA}`)}))};CA(EA,AA)})(EA,AA,this)}acceptSuggestion(EA){if(this.getStateProps()?.value&&this.options.hasForm&&this._hasSuggestions){const AA=Hu.getSuggestionsContext(this.getContextName()),_A=this.getStateProps()?.value||EA,CA=xh.getContextPath(this.getPageReference(),_A),SA=AA.getField(CA);this._hasSuggestions=!1,this.getActionsApi().updateFieldValue(_A,SA),this.getActionsApi().triggerFieldChange(_A,SA),AA.removeField(CA)}}ignoreSuggestion(EA){if(this.getStateProps()?.value&&this.options.hasForm&&this._hasSuggestions){const AA=this.getStateProps()?.value||EA,_A=xh.getContextPath(this.getPageReference(),AA);this._hasSuggestions=!1,Hu.getSuggestionsContext(this.getContextName()).removeField(_A)}}getSelfReferencingDatapageKeys(){const EA=[],AA=this.getPropertyName(),_A=this.getFieldMetadata(AA),{datasource:{parameters:CA={}}={}}=_A||{};return Object.values(CA).forEach((_A=>{const[,CA]=_A.split("."),SA=AA?.split(".").pop();CA===SA&&EA.push(_A.substring(_A.lastIndexOf(".")+1))})),EA}}function td(EA){const AA=new ed(EA);return{getPConnect:()=>AA}}function nd(EA){Ju=EA}const rd=class{static createContainerPConnect(EA,AA,_A,CA=!1){const{accessedOrder:SA,items:DA}=EA;if(SA&&DA){const EA=SA[SA.length-1];if(DA[EA]?.view&&Object.keys(DA[EA].view).length>0){const SA=DA[EA],TA=EA.substring(0,EA.lastIndexOf("_")),{view:NA,context:PA}=SA,{viewName:RA,viewContext:bA}=this.processRootViewDetails(NA,SA,AA);return RA?td({meta:NA,options:{context:PA,pageReference:bA||AA,containerName:_A,containerItemID:EA,parentPageReference:AA,hasForm:CA||_A===od.WORKAREA||_A===od.MODAL||RA===G.CREATE_DETAILS_VIEW_NAME,target:TA}}).getPConnect:null}}return null}static processRootViewDetails(EA,AA,_A){const{config:{context:CA,name:SA}={}}=EA,{context:DA}=AA;let TA=SA,NA=CA;const PA=fl.isProperty(SA),RA=fl.isProperty(CA);if(RA){const EA=fl.getPropertyName(CA);NA=mh(`.${EA}`,EA.startsWith(".")?_A:"",DA)}if(NA||(NA=_A),PA){const EA=fl.getPropertyName(SA);TA=mh(`.${EA}`,NA,DA)}return PA&&RA&&""!==TA&&(TA=SA,NA=CA),{viewName:TA,viewContext:NA}}static addFlowContainerItem(EA){const AA=EA.getContainerManager(),_A=EA.getContextName();let CA,SA;if("review"!==EA.getValue("context_data.caseViewMode")){const EA=_A.substring(0,_A.lastIndexOf("_")),AA=Ed(EA),DA=ld(EA,AA);DA&&({key:CA,flowName:SA}=DA)}AA.addContainerItem({semanticURL:"",key:CA,flowName:SA,caseViewMode:"perform",resourceType:"ASSIGNMENT",data:EA.getDataObject(_A)})}},sd={defaultLimit:16},ad={SINGLE:"single",MULTIPLE:"multiple"},od={PRIMARY:"primary",WORKAREA:"workarea",MODAL:"modal",PREVIEW:"preview"},id=()=>dh()?.getState()?.containers,cd=EA=>EA?dh()?.getState().containers[EA]:(Tt.error("getContainerData: target is the required parameter"),null),ld=(EA,AA)=>{if(!EA||!AA)return null;const _A=id(),CA=_A?.[EA];return CA&&CA.items&&CA.items[AA]||null},ud=EA=>EA?dh()?.getState().containers[EA]?.items:(Tt.error("getContainerItems: target is the required parameter"),null),dd=EA=>EA?dh()?.getState().containers[EA]?.accessedOrder||[]:(Tt.error("getContainerAccessOrder: target is the required parameter"),[]),pd=EA=>EA?dd(EA)?.length>0||!1:(Tt.error("areContainerItemsPresent: target is the required parameter"),!1),hd=(EA,AA,_A)=>{if(!EA||!AA)return Tt.error("isContainerItemExists: target and key are required parameters"),!1;const CA=id(),SA=CA?.[EA],DA=SA&&SA.items||null,TA=_A||((EA,AA)=>EA===AA);if(AA&&DA)for(const NA in DA)if(TA(AA,DA[NA].key))return!0;return!1},gd=(EA,AA,_A)=>{if(!EA||!AA)return Tt.error("getContainerItemName: target and key are required parameters"),null;const CA=id(),SA=CA?.[EA],DA=SA&&SA.items||null,TA=_A||((EA,AA)=>EA?.toLowerCase()===AA?.toLowerCase());if(AA&&DA)for(const NA in DA)if(TA(AA,DA[NA].key))return NA;return null},fd=(EA,AA)=>{if(EA&&AA)for(const SA of Object.keys(AA))if(_A=EA,CA=AA[SA].key,_A?.toLowerCase()===CA?.toLowerCase())return AA[SA];var _A,CA;return null},md=EA=>{if(!EA)return Tt.error("getContainerItemByKey: key is required parameter"),null;const AA=id()??{};for(const _A of Object.keys(AA))if(AA[_A]){const CA=AA[_A].items??null,SA=fd(EA,CA);if(SA)return SA}return null},yd=(EA,AA)=>{if(!EA||!AA)return Tt.error("isContainerInitialized: context and name are required parameters"),!1;const _A=id();return _A&&Object.prototype.hasOwnProperty.call(_A,`${EA}/${AA}`)},Id=(EA,AA)=>{if(!EA||!AA)return Tt.error("getContainerType: context and name are required parameters"),null;const _A=id(),CA=_A?.[`${EA}/${AA}`];return CA&&CA.type},Ed=EA=>{if(!EA)return Tt.error("getActiveContainerItemName: target is the required parameter"),null;let AA=null;const _A=id();if(_A&&_A[EA]){const CA=_A[EA],{accessedOrder:SA}=CA;AA=SA&&SA.length>0?SA[SA.length-1]:null}return AA},Ad=(EA,AA,_A)=>{if(!EA||!AA)return Tt.error("isContainerItemActive: target and key are required parameters"),!1;const CA=gd(EA,AA,_A);return!!CA&&CA===Ed(EA)},_d=(EA,AA)=>{let _A=null;const CA=id();for(const SA in CA)if(Object.prototype.hasOwnProperty.call(CA,SA)&&CA[SA].items){const DA=CA[SA].items[EA];if(_A=DA?DA[AA]:null,_A)break}return _A},Cd=EA=>EA?_d(EA,"context"):(Tt.error("getDataContextName: containerItemName is required parameters"),null),Sd=EA=>{if(!EA)return Tt.error("getActiveContainerItemContext: target is required parameters"),null;let AA=null;const _A=id();if(_A&&_A[EA]){const CA=_A[EA],{accessedOrder:SA}=CA,DA=SA&&SA.length>0?SA[SA.length-1]:null;AA=Cd(DA)}return AA},Td=EA=>{if(!EA)return Tt.error("getChildContainerItems: containerItemName is required parameters"),[];const AA=EA.endsWith("/")?EA:`${EA}/`;let _A=[],CA=!1;const SA=id(),DA=_A=>{const SA=[];return Object.keys(_A).forEach((_A=>{_A.startsWith(AA)&&_A!==AA&&SA.push(_A),_A===EA&&(CA=!0)})),SA};for(const TA in SA)if(Object.prototype.hasOwnProperty.call(SA,TA)&&SA[TA].items){const EA=DA(SA[TA].items);EA&&EA.length>0&&(_A=_A.concat(EA)),_A=_A.sort()}return CA?_A:[]},Nd=EA=>{if(!EA)return Tt.error("getChildContainers: containerItemName is required parameters"),[];const AA=[],_A=id();for(const CA in _A)Object.prototype.hasOwnProperty.call(_A,CA)&&CA.startsWith(EA)&&CA!==EA&&AA.push(CA);return AA},Pd=EA=>{if(!EA)return Tt.error("getChildContainersContexts: parentContainerItemID is required parameters"),[];const AA=[],_A=id();for(const CA in _A)Object.prototype.hasOwnProperty.call(_A,CA)&&CA.startsWith(EA)&&CA!==EA&&(dd(CA)||[]).forEach((_A=>{Cd(_A)!==EA&&AA.push(Cd(_A))}));return AA},Rd=EA=>{const AA=[...Pd(EA),EA],_A=[],CA=dh()?.getState().data||{};return AA.forEach((EA=>{Object.prototype.hasOwnProperty.call(CA,`${EA}/${G.SUGGESTION}`)&&_A.push(`${EA}/${G.SUGGESTION}`)})),_A},Dd=EA=>EA?EA&&cd(EA)&&cd(EA).type===ad.SINGLE:(Tt.error("isContainerSingleMode: target is required parameters"),null),bd=EA=>EA?EA&&cd(EA)&&cd(EA).type===ad.MULTIPLE:(Tt.error("isContainerMultipleMode: target is required parameters"),null),Od=EA=>EA?cd(EA)&&cd(EA).items&&Object.keys(cd(EA)?.items).length>0||!1:(Tt.error("hasContainerItems: target is required parameters"),!1),vd=EA=>EA&&sd[EA]?sd[EA]:sd.defaultLimit,xd=(EA,AA=sd.defaultLimit)=>{EA?sd[EA]=AA:Tt.error("setContainerLimit: target is required parameter")},wd=EA=>{if(!EA)return Tt.error("isContainerLimitReached: target is required parameter"),!1;let AA=!1;const _A=cd(EA),{items:CA={}}=_A,SA=Object.keys(CA),DA=vd(EA);return SA&&SA.length>0&&SA.length>=DA&&(AA=!0),AA},Md=EA=>{if(!EA||!EA.name||!EA.context)return Tt.error("resetContainersPayload: containerInfo object should contain name and context"),null;const AA=EA?.name,_A=cd(`${EA?.context}/${AA}`),CA=Array.isArray(_A?.accessedOrder)&&_A?.accessedOrder.map((EA=>_A?.items[`${EA}`]?.context))||[],SA=Nd(`${G.APP.APP}/${G.PREVIEW}`),DA=Pd(`${G.APP.APP}/${G.PREVIEW}`);return{context:EA?.context,name:AA,containerItems:[...CA,...DA],childContainers:SA}},Ld=EA=>{if(!EA)return Tt.error("isContainerDirty: containerItemID is the required parameter"),!1;const AA=Cd(EA);return Ol(AA)||Bc(EA)},Ud=EA=>{if(!EA)return Tt.error("getLeastRecentlyUsedNonDirtyContainerItemID: target is required parameter"),null;let AA;const _A=cd(EA),{accessedOrder:CA=[]}=_A;for(let SA=0;SA<CA.length;SA+=1){const EA=CA[SA];if(!Ld(EA)){AA=EA;break}}return AA},Fd=EA=>{if(!EA)return Tt.error("getTargetFromContainerItemID: containerItemID is the required parameter"),null;const{containers:AA}=dh()?.getState()||{};for(const CA in AA)if(AA[CA]?.accessedOrder?.includes(EA))return CA;const _A=EA.lastIndexOf(G.UNDERSCORE_STRING);return EA.substring(0,_A)},jd=(EA,AA={})=>{if(!EA)return Tt.error("closeContainerItem: containerItemID is the required parameter"),Promise.reject(new Error("closeContainerItem: containerItemID is the required parameter"));const _A=Fd(EA),CA=Cd(EA),{skipDirtyCheck:SA}=AA;let DA=!0,TA=[];if(Ld(EA)&&!SA&&(DA=window.confirm(Ip.getLocaleValue(Sl,"Messages"))),DA){const{accessedOrder:AA=[],items:SA={},type:DA}=cd(_A);TA=AA.filter((AA=>AA!==EA));const NA=TA[TA.length-1],PA=SA[NA]||{},{semanticURL:RA=G.FORWARD_SLASH_STRING,context:bA}=PA;TA.length>0&&RA&&RA!==G.FORWARD_SLASH_STRING?Fg({directUrlUpdation:!0,semanticURL:RA,options:{containerItemID:NA,context:bA}}):Fg({directUrlUpdation:!0,semanticURL:G.FORWARD_SLASH_STRING,options:{}}),ph(sg({containerItemID:EA,context:CA,target:_A,containerInfo:{newAccessedOrder:TA,containerType:DA}}))}return Promise.resolve({newAccessedOrder:TA,removeItem:DA})},Vd=(EA,AA,_A,CA)=>{const SA="root",DA=X(AA,SA,!0),TA=_t(AA,SA),NA={data:_A,context:CA?"app":DA},PA=[qh({root:EA,containerItemID:DA,context:CA?"app":DA,target:TA,containerName:AA})];PA.push(jh(NA)),ph(PA)},kd=(EA,AA,_A)=>{let CA=dd(EA);CA=CA.filter((EA=>EA!==AA));let SA=!1;for(let DA=0;DA<CA.length;DA+=1)if(Cd(CA[DA])===_A){SA=!0;break}return SA},$d=EA=>{if(!EA)return Tt.error("isContainerItemContextBeingUsedInOtherContainers: containerItemID is the required parameter"),!1;const AA=id(),_A=Cd(EA),CA=AA?Object.keys(AA):[];let SA=!1;for(let DA=0;DA<CA.length&&(SA=kd(CA[DA],EA,_A),!SA);DA+=1);return SA},Bd=EA=>{Array.isArray(EA)||(EA=[EA]);const AA=id()||{};return EA.map((EA=>{const _A=Fd(EA);return Dh.getIn(AA,[_A,"items",EA,"transientItems"])||[]})).flat()},Gd=EA=>{const{transientItemID:AA,data:_A,options:CA}=EA,SA=Dh.deepClone(dh()?.getState().data[AA]);CA?.reset&&Dh.iterateLeafNodes(SA,(EA=>{"classID"!==EA[EA.length-1]&&Dh.setIn(SA,EA,"")})),ph(Yh({transientItemID:AA,data:Dh.mergeDeep(_A,SA)}))},Wd=EA=>{const{transientItemID:AA,data:_A}=EA;ph(Xh({transientItemID:AA,data:_A}))},Hd=EA=>{const AA=Dh.deepClone(dh()?.getState().data[EA]);Dh.iterateLeafNodes(AA,(EA=>{"classID"!==EA[EA.length-1]&&Dh.setIn(AA,EA,"")})),ph(Kh({transientItemID:EA,data:AA}))},qd=EA=>{const AA=Dh.deepClone(dh()?.getState().data[EA]);Dh.iterateLeafNodes(AA,(EA=>Dh.setIn(AA,EA,""))),ph(Jh({transientItemID:EA,data:AA}))};class zd{static addContainerItems(EA){this.items=EA}static getContainerItems(){return this.items}static deleteContainerItem(EA){const AA=this?.items?.indexOf(EA);void 0!==AA&&-1!==AA&&this.items.splice(AA,1)}}const Yd=()=>zd,Kd=EA=>{const AA={containerName:EA};AA.childContainers=Nd(EA),ph({type:$e,payload:AA})},Xd=(EA,AA)=>{const _A=Td(EA),{key:CA}=ld(Fd(EA),EA),SA=[];_A.forEach((EA=>{const{key:_A}=ld(Fd(EA),EA);if(_A===CA){const _A={data:{caseInfo:{headers:{etag:AA}}},target:Fd(EA),context:EA};SA.push({type:Ae,payload:_A})}})),SA.length&&ph(SA)},Jd=(EA,AA)=>{const _A=[],CA={data:{caseInfo:{headers:{etag:AA}}},target:Fd(EA),context:EA};_A.push({type:Ae,payload:CA}),_A.length&&ph(_A)},Qd=()=>fp.isPortalLoaded?"app":"root",Zd=()=>Ml,ep=(EA,AA)=>{const _A={data:{caseInfo:{lastUpdateTime:AA}},target:Fd(EA),context:EA};ph({type:Ae,payload:_A})},tp=(EA,AA)=>{const _A=gd(EA,AA),CA=gd(`${_A}/workarea`,AA);return Cd(CA)},np=EA=>EA?_d(EA,"parentContext"):(Tt.error("getContainerParentContext: containerItemName is required parameters"),null),rp=EA=>{const{accessedOrder:AA}=EA;return AA&&AA.length>0?AA[AA.length-1]:""},sp=EA=>{if(EA&&"string"==typeof EA){const AA=EA.split("/");return AA.pop(),AA.join("/")}return null},ap=()=>rd,op=/{(.*?)}/i,ip=/{(.*?)}/g,cp=EA=>null!==EA.match(op),lp=EA=>(EA&&(EA.startsWith("/")&&(EA=EA.substring(1,EA.length)),EA.endsWith("/")&&(EA=EA.substring(0,EA.length-1))),EA),up=EA=>{const AA=EA[EA.length-1],_A=EA[EA.length-2];if("y"!==AA.toLowerCase())return`${EA}s`;switch(_A.toLowerCase()){case"a":case"e":case"i":case"o":case"u":return`${EA}s`;default:return`${EA=EA.substring(0,EA.length-1)}ies`}},dp=()=>lp(window.location.pathname),pp=(EA,AA,_A)=>{switch(_A){case"warning":AA?console.warn(EA,AA):console.warn(EA);break;case"error":AA?console.error(EA,AA):console.error(EA);break;default:AA?console.log(EA,AA):console.error(EA)}},hp=new class{constructor(){this.staticRoutesList=[],this.dynamicRoutesList=[],this.reqContextName="",this.defaultViewUrlPath="",this.portalName=""}init=(EA,AA)=>{EA&&EA.routes&&EA.routesMeta?(this.routingInfo=EA,this.appRoutes=EA.routes,this.appRoutesMeta=EA.routesMeta,this.reqContextName=EA.reqContextName,this.reqServletPath=EA.reqServletPath,this.appName=EA.appName,this.appAlias=EA.appAlias,this.orgName=EA.orgName,this.defaultViewUrlPath=AA,this._createStaticDynamicRoutesList(this.appRoutes),this.appDelimeter=EA.appDelimeter,this.reqServletNameReal=EA.pxReqServletNameReal,this.bDefaultPortal=EA.isDefaultPortal,this.portalName=EA.portalName,this.ignoreFromEndPoint=["reactMode=dev","reactMode=prod"]):console.error("Routing info is not appropriate. Missing routes and routesMeta objects in routingInfo",JSON.stringify(EA))};addRoutes=EA=>{EA?.routes&&EA.routesMeta&&(this.appRoutes={...this.appRoutes,...EA.routes},this.appRoutesMeta={...this.appRoutesMeta,...EA.routesMeta},this.routingInfo&&(this.routingInfo.routes={...this.routingInfo.routes,...EA.routes},this.routingInfo.routesMeta={...this.routingInfo.routesMeta,...EA.routesMeta}),this._createStaticDynamicRoutesList(EA.routes))};setDefaultRoute=EA=>{this.defaultViewUrlPath=EA};_createStaticDynamicRoutesList=EA=>{Object.keys(EA).forEach((EA=>{cp(EA)?this.dynamicRoutesList?.push(EA):this.staticRoutesList?.push(EA)}))};_getDynamicKeyName=EA=>{const AA=EA.indexOf("{")+1,_A=EA.lastIndexOf("}");return EA.slice(AA,_A)};isDefaultPortal=()=>"false"!=`${this.bDefaultPortal}`;getPortalName=()=>this.portalName;getApplicationPath=()=>lp(`${this.getReqContextName()}/${this.getReqServletNameReal()}`);getReqServletNameReal=()=>`${this.reqServletNameReal}`;getAppDelimeter=()=>`${this.appDelimeter}`;getApplicationName=()=>`${this.appName}`;getApplicationAlias=()=>`${this.appAlias}`;getServletPath=()=>`${this.reqServletPath}`;getOrganizationName=()=>`${this.orgName}`;getReqContextName=()=>lp(this.reqContextName);getRoutingInfo=()=>this.routingInfo;processUrl=(EA,AA)=>{AA&&(EA=EA.toLowerCase()),EA&&(EA=decodeURIComponent(EA));const _A=new RegExp(this.getApplicationPath(),"i");return EA=EA.replace(_A,""),lp(EA)};getEndPointInfo=EA=>{this.ignoreFromEndPoint?.forEach((AA=>{EA.includes(AA)&&(EA=EA.substring(0,EA.indexOf(AA)))}));let AA=this.processUrl(EA,!0),_A=this._getMatchedRouteInRoutingTable(AA);void 0===_A&&(AA=this.processUrl(this.defaultViewUrlPath,!0),_A=this._getMatchedRouteInRoutingTable(AA)||"");const{routeKey:CA,payload:SA}=this.appRoutes[_A],{reqType:DA,endPoint:TA,params:NA}=this.appRoutesMeta?.[CA].restApi||{},PA={...SA},{caseClassName:RA,caseID:bA}=PA;if(q.isRemoteCase(RA)){const{RemoteClassGroup:EA,RemoteSystemID:AA}=q.getRemoteCase(RA);PA.caseID=bA?.replace(RA,EA?.toUpperCase()),PA.RemoteSystemID=AA}const OA={routeKey:CA,requestType:DA,routeEndpoint:TA,payload:{...NA,...PA}};return this._resolveRoute(OA,this.processUrl(EA,!1),_A)};getSemanticURL(EA,AA,_A){return this.buildSemanticURL(EA,AA,_A)}getResolvedSemanticURL(EA,AA,_A={}){const CA=this.getSemanticURL(EA,AA,_A);let SA=CA;if(cp(CA)){const EA=CA.match(ip);EA?.forEach((EA=>{const AA=this._getDynamicKeyName(EA);_A[AA]&&(SA=SA.replace(EA,_A[AA]))}))}const DA=Ug(SA),TA=new URL(DA);return this.isDefaultPortal()||this.getPortalName()&&!TA.searchParams.toString().includes("portal=")&&TA.searchParams.append("portal",this.getPortalName()),TA.toString()}updateSemanticURLAndDocumentTitle(EA){const{key:AA,actionName:_A,caseClassName:CA,isRemoteCase:SA}=EA;if(SA&&!CA)return;const DA=this.getSemanticURL(_A,{caseClassName:CA}).replace(/{.+?}/,String(ss(AA))),TA=`${B.APP.APP}${G.FORWARD_SLASH_STRING}${B.PRIMARY}`,NA={semanticURL:DA,directUrlUpdation:!0,options:{acName:TA,context:Sd(TA)}};Lg(NA);const PA=CA.substring(CA.lastIndexOf("-")+1),RA=AA.substring(AA.lastIndexOf(" ")+1),bA=fp.environmentInfoObject?.pxApplication?.pyLabel;Wg(`${PA} (${RA}) - ${bA}`)}buildSemanticURL(EA,AA,_A){const{urlPattern:CA}=this.appRoutesMeta?.[EA]||{},SA=CA?.split("/").length,DA=CA?.split("/"),TA=Object.keys(this.appRoutes).filter((EA=>SA===EA.split("/").length)).filter((EA=>{const AA=EA.split("?")[0].split("/");return DA?.every(((EA,_A)=>EA.startsWith("{")||EA===AA[_A]))}));if(1===TA.length)return this._getQueryParamsResolvedURL(TA[0],_A);if(0===Object.keys(AA).length)return"";const NA=TA.find((EA=>{const CA=this.appRoutes[EA].payload,SA={..._A};delete SA.dataViewName,delete SA.dataContext;const DA=CA.dataViewKeys||CA.dataContextParameters||{},TA=Object.keys(AA).every((EA=>AA[EA]===CA[EA]));return!!TA&&(Dh.isEmpty(DA)||Dh.isEmpty(SA)?TA:Object.keys(SA).every((EA=>Object.prototype.hasOwnProperty.call(DA,EA))))}));return NA?this._getQueryParamsResolvedURL(NA,_A):TA.includes("cases/{id}")&&_A?.id?"cases/{id}":""}_getQueryParamsResolvedURL(EA,AA,_A=!1){const[CA,SA]=EA.includes("?")?EA.split("?"):[EA];if(SA){const EA={};for(const[_A,CA]of Object.entries(AA))EA[_A.toLowerCase()]=CA;const DA=new URLSearchParams(SA),TA={};for(const[CA,SA]of DA.entries())if("string"==typeof SA&&cp(SA)){const DA=this._getDynamicKeyName(SA);TA[CA]=_A?AA[DA]||EA[DA.toLowerCase()]:AA[DA]}else"string"==typeof SA&&(TA[CA]=SA);return`${CA}?${new URLSearchParams(TA).toString()}`}return CA}_getQueryParamsObject(EA){const AA={},_A=new URLSearchParams(EA);for(const[CA,SA]of _A.entries())AA[CA]=SA;return AA}getRestEndPoint(EA,AA){try{return this._buildRestApi(EA,AA)}catch(EA){return console.error(EA),null}}_buildRestApi(EA,AA){if(EA&&this.appRoutesMeta?.[EA]){const{reqType:_A,body:CA}=this.appRoutesMeta[EA].restApi;let{endPoint:SA}=this.appRoutesMeta[EA].restApi;AA?.params&&AA.params.pageName&&(SA=`${SA}&pageName=${AA.params.pageName}`);const DA=SA.match(ip);if(DA)for(let EA=0;EA<DA.length;EA+=1){const _A=DA[EA].replace("{","").replace("}",""),CA=new RegExp(DA[EA],"g");SA=SA.replace(CA,AA?.[_A])}if(CA){let EA={};return Object.keys(CA).forEach((_A=>{this._isSpecialInstruction(_A)&&(EA={...EA,...this._processInstruction(_A,CA[_A],AA)})})),{restApi:SA,reqType:_A,body:EA}}return{restApi:SA,reqType:_A}}throw new Error(`Cannot find route metadata for the routeKey: ${EA}.`)}_isSpecialInstruction(EA){return EA&&EA.startsWith("@")}_processInstruction(EA,AA,_A){const CA={};return"@COPY"===EA&&AA.forEach((EA=>{CA[EA]=_A[EA]})),CA}doesRestApiExist(EA){return!(!this.appRoutesMeta||!this.appRoutesMeta[EA])}_resolveRoute=(EA,AA,_A)=>{const CA=[],[SA,DA]=AA.includes("?")?AA.split("?"):[AA],[TA,NA]=_A.includes("?")?_A.split("?"):[_A],PA=SA.split("/"),RA=TA.split("/"),bA={};for(let LA=0;LA<RA.length;LA+=1)CA[LA]=RA[LA],cp(RA[LA])&&(bA[this._getDynamicKeyName(RA[LA])]=PA[LA],CA[LA]=PA[LA]);const OA=this._getQueryParamsObject(NA),vA=this._getQueryParamsObject(DA),xA={};for(const[LA,GA]of Object.entries(vA))xA[LA.toLowerCase()]=GA;for(const LA in OA)cp(OA[LA])?bA[LA]=vA[LA]||xA[LA.toLowerCase()]:bA[LA]=OA[LA];let wA;DA&&(wA=this._getQueryParamsResolvedURL(_A,vA,!0));const MA=this._resolvePayload(EA,bA,_A);return{...this._resolveRouteEndPoint(MA,_A),urlPath:wA||CA.join("/")}};_resolveRouteEndPoint=(EA,AA)=>{let{routeEndpoint:_A}=EA;if(!cp(_A))return EA;const CA={};if(CA[AA]=EA,void 0!==EA.payload){const AA=_A.match(ip);for(let SA=0;SA<AA.length;SA+=1){const DA=AA[SA],TA=this._getDynamicKeyName(DA);if(void 0!==EA.payload[TA]){const AA=EA.payload[TA];_A=_A.replace(DA,AA)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${TA}} in routeEndpoint- ${TA} is missing in payload`,CA)}}else this._sendWarningAndErrorMessages("Unable to resolve dynamic token(s) in routeEndpoint- payload is missing in routing table for-",CA);return{...EA,routeEndpoint:_A}};_resolvePayload=(EA,AA,_A)=>{if(void 0===EA.payload)return EA;const CA={...EA.payload,...this._resolvePayloadRecursive(EA.payload,AA)};return{...EA,payload:CA}};_resolvePayloadRecursive(EA,AA){const _A={};for(const CA in EA)if(Object.prototype.hasOwnProperty.call(EA,CA)){let SA=EA[CA];if("string"==typeof SA&&cp(SA)){const EA=SA.match(ip);for(let _A=0;_A<EA.length;_A+=1){const CA=EA[_A],DA=this._getDynamicKeyName(CA);if(void 0!==AA[DA]){const EA=AA[DA];SA=SA.replace(CA,EA)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${DA}} in payload- {${DA}} is missing in semantic url construct`)}_A[CA]=SA}else"object"==typeof SA&&(_A[CA]=this._resolvePayloadRecursive(SA,AA))}return _A}_getMatchedRouteInRoutingTable=EA=>{let AA=this._findMatchedRouteInStaticList(EA);return void 0!==AA?AA:(AA=this._findMatchedRouteInDynamicList(EA),void 0!==AA?AA:void 0)};_findMatchedRouteInStaticList=EA=>this.staticRoutesList?.find((AA=>AA.toLowerCase()===EA.toLowerCase()));_findMatchedRouteInDynamicList=EA=>{const[AA,_A]=EA.includes("?")?EA.split("?"):[EA],CA=AA.split("/");return this.dynamicRoutesList?.find((EA=>{const[AA,SA]=EA.includes("?")?EA.split("?"):[EA],DA=AA.split("/");if(DA.length!==CA.length)return!1;let TA=0;for(TA=0;TA<DA.length;TA+=1){const EA=DA[TA].toLowerCase();if(!cp(EA)&&EA!==CA[TA]&&up(EA)!==CA[TA])return!1}if(SA){const EA=new URLSearchParams(_A.toLowerCase()),AA=new URLSearchParams(SA.toLowerCase()),CA=new Set,DA=new Set,TA=/\{[a-zA-Z]+\}/;for(const _A of EA.keys())CA.add(_A);for(const _A of AA.keys())DA.add(_A);if(DA.size!==CA.size)return!1;for(const _A of CA){if(!DA.has(_A))return!1;const CA=AA.get(_A);if(EA.get(_A)!==CA&&!TA.test(CA))return!1}}return!0}))};_sendWarningAndErrorMessages=(EA,AA)=>{pp(EA,AA,"warning"),pp("Error in Generated Routing Table",null,"error"),pp("Back | Forward for this page may NOT work as intended",null,"warning"),pp("Bookmark | Refresh for this page may NOT work as intended",null,"warning")}},gp=hp,fp=new class{constructor(){this.environmentInfoObject=null,this.isPortalLoaded=!1,this.pageName=null,this.KeyMapping={},this.isAssignmentHeaderHidden=!1,this.coexistenceMeta={appType:"",isCoexistence:!1},this.brandingInfo=null,this.cookieComplianceMethod="none",this.isExtraCallRequiredForDefaultHome="false"}setEnvironmentInfo(EA){this.environmentInfoObject=EA;const AA=this.environmentInfoObject?.features||Dh.convertObjectWithStringToBoolean(this.environmentInfoObject?.pyFeatures)||{granularUIRefresh:!1};this.environmentInfoObject.features={...AA,granularUIRefresh:AA.granularUIRefresh||AA.pyEnableGranularUIRefresh||!1}}getOperatorName(){return this.environmentInfoObject?.pxOperator?.pyUserName}getOperatorWorkGroup(){return this.environmentInfoObject?.pxOperator?.pyWorkGroup}getOperatorIdentifier(){return this.environmentInfoObject?.pxOperator?.pyUserIdentifier}getOperatorImageInsKey(){return this.environmentInfoObject?.pxOperator?.pyImageInsKey}getApplicationLabel(){return this.environmentInfoObject?.pxApplication?.pyLabel}getPortalName(){return gp.getPortalName()}getApplicationName(){return this.environmentInfoObject?.pxApplication?.pyRuleName}getUseLocale(){return this.environmentInfoObject?.pxLocale?.pyUseLocale}getAccessGroup(){return this.environmentInfoObject?.pxOperator?.pyAccessGroup}getTimeZone(){return this.environmentInfoObject?.pxLocale?.pyTimeZone}getTheme(){return this.themeOverrides}setTheme(EA){return this.themeOverrides=EA,this.themeOverrides}getBrandingInfo(){return this.brandingInfo}setBrandingInfo(EA){return this.brandingInfo=EA,this.brandingInfo}getCookieComplianceMethod(){return this.cookieComplianceMethod}setCookieComplianceMethod(EA){this.cookieComplianceMethod=EA}setLocale(EA){const AA=EA.replaceAll("-","_").split("_").slice(0,2);this.locale=AA.join("-"),this.environmentInfoObject?.pxLocale&&(this.environmentInfoObject.pxLocale.pyUseLocale=this.locale)}getLocale=()=>this.locale;getEnvironmentKeys(){return Object.keys(G.ENV_INFO_KEYS)}getMaxAttachmentSize(){return this.environmentInfoObject?.pxApplication?.pyMaxAttachmentSize}getDefaultOperatorDP(){return this.environmentInfoObject?.pxApplication?.pyDefaultOperatorDP}getDocumentUrlDP(){return this.environmentInfoObject?.pxApplication?.pyDocumentUrlDP}getCaseInstanceListDP(){return this.environmentInfoObject?.pxApplication?.pyCaseInstanceListDP}getBaseLocale(){return this.environmentInfoObject?.pxApplication?.pyBaseLocale||"en-US"}getRenderingMode(){return this.environmentInfoObject?.renderingMode}getBuiltOnAppNames(){return this.environmentInfoObject?.pxApplication?.pyBuiltOnApplications}setPreviewMode(){ac.setPreviewMode()}setDefaultCasePage(EA){this.pageName=EA}getDefaultCasePage(){return this.pageName}disableAssignmentHeader(EA){this.isAssignmentHeaderHidden=EA}isAssignmentHeaderDisabled(){return this.isAssignmentHeaderHidden}getDefaultPortal(){return this.environmentInfoObject?.pxOperator?.pyDefaultPortal}updateFeatureMap(EA){const AA=this.environmentInfoObject?.features;return this.environmentInfoObject&&EA&&(this.environmentInfoObject?.features?this.environmentInfoObject.features={...AA,...EA}:this.environmentInfoObject.features={...EA}),this.getFeatureMap()}getFeatureMap(){return this.environmentInfoObject?.features||{}}setKeyMapping(EA){return this.KeyMapping=EA,this.KeyMapping}getKeyMapping(EA){const AA=this.KeyMapping[EA];return void 0!==AA?AA:null}setCoexistenceMeta(EA){return EA&&(this.coexistenceMeta=EA),this.getCoexistenceMeta()}getCoexistenceMeta(){return this.coexistenceMeta}isCoexistenceAppOfType(EA){return!(!this.coexistenceMeta.isCoexistence||this.coexistenceMeta.appType!==EA)}getCaseTypeList(){return this.environmentInfoObject&&this.environmentInfoObject?.pyCaseTypeList||[]}getUserSettings(){return this.environmentInfoObject?.pyUserSettings||null}getAvailableLocalePacks(){return this.environmentInfoObject?.pyAvailableLocalePacks?.map((EA=>EA.pyLabel))||[]}getIsExtraCallRequiredForDefaultHome(){return this.isExtraCallRequiredForDefaultHome}setIsExtraCallRequiredForDefaultHome(EA){this.isExtraCallRequiredForDefaultHome=EA}getInactivityTimeout(){const EA=this.environmentInfoObject?.pxOperator?.pyAuthenticationTimeout;return EA?Number(EA):EA}isUnifiedObject(){return this.environmentInfoObject?.features?.isUnifiedObject||!1}getRuntime(){return"undefined"!=typeof window&&window.document?"Browser":"Native"}},mp=class{static regex=/\{@P[^}]*\s*:\s*[^}]*\}/g;static subRegex=/:'[a-zA-Z0-9!@#$&()\\-`.+,/\s"]*'/;static keyMap={};static formatLocaleKey(EA){let AA=0,_A="";for(;AA<=EA.length;){const CA=EA.indexOf("{@P ",AA);if(-1===CA){_A+=EA.substring(AA,EA.length);break}_A+=EA.substring(AA,CA);const SA=EA.indexOf("}",AA),DA=EA.substring(CA,SA+1),[TA,NA]=this.getKeyAndValue(DA);this.addKeyToMap(TA,NA),_A+=`${DA.split(":")[0]}}`,AA=SA+1}return _A}static getKeyAndValue(EA){const AA=EA.indexOf(":"),_A=EA.indexOf("}");return[`${EA.substring(0,AA)}}`,EA.substring(AA+1,_A)]}static addKeyToMap(EA,AA){this.keyMap[EA]=AA}static replaceWithValue(EA){let AA=0,_A="";for(;AA<=EA.length;){const CA=EA.indexOf("{@P ",AA);if(-1===CA){_A+=EA.substring(AA,EA.length);break}_A+=EA.substring(AA,CA);const SA=EA.indexOf("}",AA),DA=EA.substring(CA,SA+1);_A+=this.keyMap[DA],AA=SA+1}return _A}};class yp{GENERIC_BUNDLE_KEY="@BASECLASS!GENERIC!PYGENERICFIELDS";FIELD_LABELS_BUNDLE_KEY="@BASECLASS!LABEL!PYFIELDLABELS";GENERIC_BUNDLE_KEY_LP="GENERIC!GENERICFIELDS";MESSAGE_BUNDLE_KEY="@BASECLASS!MESSAGE!PYMESSAGES";BASE_CLASS="@BASECLASS";DATA_PAGE_LOCALECONTEXT="datapage";constructor(){this.localeStore={},this.getLocaleValue=this.getLocaleValue.bind(this)}setLocaleForRule=(EA,AA)=>{const _A=EA.LocaleContent||EA;this.localeStore[yp.#e(AA)]=_A};getLocaleForRule(EA=this.#t()){return this.localeStore[yp.#e(EA)]}resetLocaleStore=()=>{this.localeStore={}};#n(EA){return EA?yp.#e(EA):this.#t()}#r(EA){let AA=!1;return EA&&"string"==typeof EA&&(AA=EA.includes("@P ")),AA}#s(EA,AA){return AA!==this.FIELD_LABELS_BUNDLE_KEY?EA?`${EA}.fields`:"fields":EA}getLocaleValue(EA,AA,_A,CA){_A=this.#n(_A);const SA=this.#r(EA);SA&&(EA=mp.formatLocaleKey(EA));const DA=this.#a(EA,_A,AA,CA);return"Messages.fields"===(AA=this.#s(AA,_A))&&"string"==typeof EA?this.getLocalizedErrorMessage(DA,EA)||EA:SA?mp.replaceWithValue(DA[EA]||EA):DA[EA]||EA}#a(EA,AA,_A,CA){AA!==this.FIELD_LABELS_BUNDLE_KEY&&(_A=_A?`${_A}.fields`:"fields");let SA=this.localeStore[AA.toUpperCase()],DA=SA?Dh.getIn(SA,_A,{}):{};return!DA[EA]&&CA&&(SA=this.localeStore[this.#t().toUpperCase()],DA=SA?Dh.getIn(SA,`${CA}.${_A}`,{}):{}),DA}#t(){return void 0===fp.getFeatureMap()?.localizationVersion?this.GENERIC_BUNDLE_KEY:this.GENERIC_BUNDLE_KEY_LP}getParagraphLocaleValue(EA,AA){const _A=`${EA}!${G.PARAGRAPH}!${AA}`,CA=this.localeStore[_A.toUpperCase()];return CA?decodeURIComponent(atob(CA.content).split("").map((EA=>`%${`00${EA.charCodeAt(0).toString(16)}`.slice(-2)}`)).join("")):null}getPortalLocaleReference(EA){return EA?`PORTAL!${EA}`.toUpperCase():`PORTAL!${fp.getPortalName()}`.toUpperCase()}getCaseLocaleReference(EA){return EA?`CASE!${EA}`.toUpperCase():null}getLocalizationVersion(){return fp.getFeatureMap().localizationVersion||1}async getLocaleJsons(EA){if(!(await this.isCurrentLocalePackAvailable()))return[];const AA=fp.getUseLocale(),_A=[],CA=PCore.getLocaleUtils().localeStore;if((EA=(EA=EA.filter((EA=>!CA[yp.#e(EA)]))).map((EA=>EA.toUpperCase()))).length>0){const CA=EA.map((EA=>({localeRuleKey:EA,promise:kr.getSvcLocale(AA,`${EA}.json`)}))),SA=await Promise.allSettled(CA.map((EA=>EA.promise)));await Promise.all(SA.map((async(EA,AA)=>{if("fulfilled"===EA.status&&null!==EA.value){const SA=CA[AA];let DA;try{DA=await EA.value.json()}catch{DA=null}DA&&_A.push({localeRuleKey:SA.localeRuleKey,jsonData:DA})}})))}return _A}async loadLocaleResources(EA){const AA=fp.getUseLocale(),_A=fp.getBaseLocale();if(fp&&AA&&(AA!==_A||"en-US"!==_A)&&EA?.length>0)try{(await this.getLocaleJsons(EA)).forEach((EA=>{this.setLocaleForRule(EA.jsonData,EA.localeRuleKey)}))}catch(EA){console.warn(EA)}}setTimezone(EA){this.timezone=EA}getTimeZoneInUse(){const EA=Intl.DateTimeFormat().resolvedOptions().timeZone;return this.timezone||EA}matchPatternWithText(EA,AA){let _A=AA;const CA=[];for(let SA=0;SA<EA.length;){const AA=EA[SA];if(0!==AA.length){const EA=_A.indexOf(AA);if(-1===EA)return null;if(SA>0){const AA=_A.slice(0,EA);CA.push(AA)}_A=_A.slice(EA+AA.length)}SA+=1}return _A&&CA.push(_A),CA}getLocalizedErrorMessage(EA,AA){let _A="";if(EA[AA])return EA[AA];for(const CA of Object.keys(EA)){const SA=CA.split(/\{\d+\}/),DA=this.matchPatternWithText(SA,AA);if(DA){const AA=EA[CA];if(_A=this.replacePlaceHolders(DA,AA),_A)return _A}}return _A}replacePlaceHolders(EA,AA){for(let _A=0;_A<EA.length;){if(!AA.includes(`{${_A+1}}`))return"";AA=AA.replace(`{${_A+1}}`,EA[_A]),_A+=1}return AA}async isCurrentLocalePackAvailable(){const EA=fp.getLocale();return this.availableLangPacks?.length||(this.availableLangPacks=fp.getAvailableLocalePacks()),EA&&this.availableLangPacks.includes(EA)}static#e(EA){if(!EA)return EA;const AA=EA.indexOf("!CASE!");return-1===AA?EA:`CASE!${EA.substring(0,AA)}`}getCaseTypeLocaleReferences(){return fp.getCaseTypeList().map((EA=>`${EA.pyWorkTypeImplementationClassName}!CASE!${EA.pyWorkTypeName}`.toUpperCase()))}}const Ip=new yp;let Ep;const Ap=EA=>{if(EA){const AA=(new DOMParser).parseFromString(EA,"text/html").getElementsByTagName("pega-reference")[0].getAttribute("data-rule-id")??"";if(AA){const EA=Ep.getValue(AA);return Ep.registerAdditionalProps({[AA]:`@P ${AA}`}),EA}}},_p=class{static getParagraphStream(EA,AA){return((EA,AA)=>{Ep=AA;const _A=EA.replace(/<pega-reference(.*?)<\/pega-reference>/g,Ap);return/^(<p>)\s*(<\/p>)$/.test(_A)?null:_A})(EA,AA)}};nn.registerHandler("@L",((EA,AA)=>AA.getLocalizedValue(EA))),nn.registerHandler("@P",((EA,AA,_A)=>AA?AA.getValue(EA):xh.getLitePropertyValue(_A))),nn.registerHandler("@E",((EA,AA,_A)=>{try{const CA=Wt(EA),SA=Ht(CA);return qt(SA,AA,_A)}catch(EA){}return!0})),nn.registerHandler("@W",((EA,AA,_A)=>{let CA;if(AA)CA=AA.getContextDataValue(`.${G.SUMMARY_OF_WHEN_CONDITIONS}.${EA}`);else{const{pageReference:AA,context:SA}=_A??{};CA=yh(AA,`.${G.SUMMARY_OF_WHEN_CONDITIONS}.${EA}`,SA)}return!0===CA||"true"===CA})),nn.registerHandler("@ASSOCIATED",((EA,AA)=>{let _A={};const CA=[];let SA="",DA="";const TA=AA.getPageReference();if(EA.startsWith(".")){SA=`${TA}.${EA.substring(1)}`;const CA=EA.split(".").filter((EA=>!!EA));CA.length>1&&(CA.pop(),DA=CA.join(".")),_A=AA.getFieldMetadata(EA.substring(1))}else _A=AA.getFieldMetadata(EA),SA=EA;const NA=_A?.datasource?.tableType,PA=_A?.datasource?.mode===G.READONLY,RA=_A?.datasource?.name||"",bA=AA.getComponentConfig();if(bA&&bA.deferDatasource&&(bA.datasourceMetadata=`@FIELD_META ${EA}`,AA.setStateProps({datasourceMetadata:bA.datasourceMetadata}),NA===G.DATA_PAGE))return null;if(NA===G.DECISION||NA===G.RULE_REFERENCE)return function(EA,AA){const _A=rn.getPropertyName(EA?.propertyForDisplayText??""),CA=rn.getPropertyName(EA?.propertyForValue??""),SA=AA.getContextDataValue(`.${G.SUMMARY_OF_EXPRESSIONS}.${EA?.name}`)||[];return SA?.map((EA=>({key:EA[CA]||EA[`.${CA}`],value:EA[_A]||EA[`.${_A}`]})))}(_A?.datasource,AA);if(NA!==G.DATA_PAGE)return _A?.datasource?.records;const OA=rn.getPropertyName(_A?.datasource?.propertyForDisplayText),vA=rn.getPropertyName(_A?.datasource?.propertyForValue),xA=Array.isArray(_A?.datasource?.parameters)?_A?.datasource?.parameters:[],wA=AA.getContextName(),MA=[];if(xA.forEach((EA=>{if(rn.isProperty(EA?.value)){let AA=mh(`.${Dh.getFullPropertyReference([DA,rn.getPropertyName(EA.value)])}`,TA,wA);MA.push(Dh.getFullPropertyReference([TA,DA,rn.getPropertyName(EA?.value)])),null!=AA&&""!==AA||(AA=G.NULL_STRING),CA.push(AA)}else CA.push(EA?.value||G.NULL_STRING)})),wA){const EA=en.getContextObjectByName(wA)||{};MA.forEach((AA=>{if(AA in EA){const _A=EA[AA];EA[AA]=[...new Set([..._A,SA])]}else EA[AA]=[SA]})),en.addContextName(wA,EA)}const LA=function(EA,AA,_A,CA){let SA="",DA=_A;if(AA.join(G.HASH_DELIMITER)&&(SA=Dh.getHashedString(AA.join(G.HASH_DELIMITER)),DA=_A+G.UNDERSCORE_STRING+SA),CA){const EA=gh(),AA=EA?EA[_A]?.[DA]:{};return Array.isArray(AA?.pxResults)?AA.pxResults:[]}const TA=(EA.getDataObject()[_A]||{})[DA]||{};return Array.isArray(TA?.pxResults)?TA.pxResults:[]}(AA,CA,RA,PA);return LA.map((EA=>({key:EA[vA]||EA[`.${vA}`],value:EA[OA]||EA[`.${OA}`]})))})),nn.registerHandler("@ROUTING_INFO",((EA,AA)=>Ct(AA.getContainerName(),AA.getContextName()))),nn.registerHandler("@ENV",((EA,AA)=>{switch(EA){case G.ENV_INFO_KEYS.APPLICATION_NAME:return fp.getApplicationName();case G.ENV_INFO_KEYS.ACCESS_GROUP:return fp.getAccessGroup();case G.ENV_INFO_KEYS.USER_NAME:return fp.getOperatorName();case G.ENV_INFO_KEYS.USER_ID:return fp.getOperatorIdentifier();case G.ENV_INFO_KEYS.APPLICATION_DESC:return AA.getLocalizedValue(fp.getApplicationLabel()||"");case G.ENV_INFO_KEYS.USER_IMAGE:return fp.getOperatorImageInsKey();case G.ENV_INFO_KEYS.LOCALE:return fp.getUseLocale();case G.ENV_INFO_KEYS.TIMEZONE:return fp.getTimeZone();case G.ENV_INFO_KEYS.WORK_GROUP:return fp.getOperatorWorkGroup();default:return EA}})),nn.registerHandler("@DATASOURCE",((EA,AA)=>{const _A=AA.getValue(EA)||[],CA=AA.getComponentConfig(),SA=Object.keys(CA).find((AA=>CA[AA]?.source?.includes(EA)));if(SA){const{fields:EA,copyAll:AA}=CA[SA],DA=[];return _A.forEach((_A=>{const CA={};AA?Object.keys(_A).forEach((EA=>{const AA=rn.getPropertyName(EA);CA[AA]=_A[AA]})):Object.keys(EA).forEach((AA=>{const SA=rn.getPropertyName(EA[AA]);CA[AA]=_A[SA]})),DA.push(CA)})),DA}return[]})),nn.registerHandler("@FIELD_META",((EA,AA)=>{let _A,CA={};if(CA=EA.startsWith(".")?AA.getFieldMetadata(EA.substring(1)):AA.getFieldMetadata(EA),CA&&CA.datasource&&CA.datasource.parameters){let SA="";const DA=EA.split(".").filter((EA=>!!EA));if(DA.length>1&&(DA.pop(),SA=`.${DA.join(".")}`),Array.isArray(CA.datasource.parameters)){const EA=[];CA.datasource.parameters.forEach((_A=>{const CA={},{name:DA,value:TA}=_A;CA.name=DA,"string"==typeof TA&&TA.startsWith("@P")?CA.value=`@P ${SA}${TA.substring(3)}`:CA.value=TA,EA.push(AA.resolveConfigProps(CA))})),_A=EA}else _A=AA.resolveConfigProps(CA.datasource.parameters);CA={...CA,datasource:{...CA.datasource,parameters:_A}}}return CA})),nn.registerHandler("@USER",((EA,AA,_A={})=>{const CA=AA?.getValue(EA)||xh.getLitePropertyValue(_A,EA),SA=AA?.getReferencedUser(CA)||xh.getReferencedUser(CA,_A);return{userId:CA,userName:SA?SA.UserName:null}})),nn.registerHandler("@ACTIVE_CASES",((EA,AA)=>Bu.getOpenedCaseItems(`${AA.getContextName()}/${AA.getContainerName()}`))),nn.registerHandler("@LR",(EA=>EA)),nn.registerHandler("@CASE",((EA,AA)=>EA===G.ID?AA.getCaseInfo().getKey():EA)),nn.registerHandler("@SHARED",(EA=>Hu.getSharedState(EA))),nn.registerHandler("@PARAGRAPH",((EA,AA)=>{const _A=AA.getLocalizedParagraphValue(EA);return _A?_p.getParagraphStream(_A,AA):null})),nn.registerHandler("@FILTERED_LIST",((EA,AA)=>{const _A=EA.substring(1,EA.indexOf("[")),CA=EA.substring(EA.indexOf("]")+2),SA=EA.substring(EA.indexOf("[")+1,EA.indexOf("]"));if(!AA)return null;const{useCustomContext:DA}=AA;let TA;return Dh.isEmpty(DA)?TA=AA.getValue(`.${_A}`):(TA=DA,TA=Dh.getIn(TA,_A)),TA&&CA.length>0?(SA&&(TA=TA.filter((EA=>zt(SA,EA)))),TA.map((EA=>Dh.getIn(EA,CA)))):null})),nn.registerHandler("@ADDRESS",((EA,AA)=>{const _A=AA.getValue(EA)?.pyCountry;return _A?`pyAddressForm_${_A}`:"pyAddressForm"})),nn.registerHandler("@DATATYPE",((EA,AA)=>AA.getValue(EA)));const Cp="downloadAttachment",Sp={},Tp=EA=>{const AA=Ac();return Sp[EA]=AA,AA},Np=EA=>{let AA="document-doc";if(!EA)return AA;if(EA.startsWith("audio"))AA="audio";else if(EA.startsWith("video"))AA="video";else if(EA.startsWith("image"))AA="picture";else if(EA.includes("pdf"))AA="document-pdf";else{const[,_A]=EA.split("/"),CA=EA=>EA.some((EA=>_A.includes(EA)));CA(["excel","spreadsheet"])?AA="document-xls":CA(["zip","compressed","gzip","rar","tar"])&&(AA="document-compress")}return AA},Pp=EA=>{let AA,_A,CA,SA;return AA=EA.pyCategoryLabel?`${EA.pyCategoryLabel},`:EA.pyCategoryName?`${EA.pyCategoryName},`:EA.Category,_A=EA.pxCreateOpName?EA.pxCreateOpName:EA.pxCreateOperator?EA.pxCreateOperator:EA.CreateUser?.Name||"",CA=EA.pyFileName?EA.pyFileName:EA.FileExtension&&""!==EA.FileExtension&&EA.FileName.endsWith(EA.FileExtension)?EA.FileName.substring(0,EA.FileName.lastIndexOf(EA.FileExtension)-1):EA.FileName,SA=EA.pyAttachName&&EA.pyFileName?EA.pyAttachName.startsWith(EA.pyFileName)&&EA.pyAttachName.split(".").length-1===EA.pyFileName.split(".").length?EA.pyAttachName.split(".").pop():"":EA.FileExtension,{props:{meta:`${AA} ${_A}`,name:EA.pyAttachName?EA.pyAttachName:EA.FileName,icon:Np(EA.pyMimeFileExtension||EA.MimeType)},responseProps:{fileName:EA.pyAttachName?EA.pyAttachName:EA.FileName,name:CA,category:EA.pyCategoryName?EA.pyCategoryName:EA.Category,extension:SA,ID:EA.pzInsKey?EA.pzInsKey:EA.ID,mimeType:EA.pyMimeFileExtension?EA.pyMimeFileExtension:EA.MimeType,attachmentURL:EA.pyAttachmentLink?EA.pyAttachmentLink:EA.AttachmentURL,createUser:_A,createDateTime:EA.pxCreateDateTime?EA.pxCreateDateTime:EA.CreateDateTime,responseType:EA.responseType??(EA.ID?"binary":null)}}},Rp={uploadAttachment:(EA,AA,_A,CA)=>{const SA=new FormData;SA.append("appendUniqueIdToFileName",!0),SA.append("file",EA);const{restApi:DA,reqType:TA}=Og("uploadAttachment",{});return yc(DA,{method:TA,headers:{"Content-Type":"multipart/form-data"},body:SA,onUploadProgress:AA,signal:Tp(EA.ID).token},CA).then((AA=>({type:"File",category:EA.category||"File",ID:AA.data.ID,clientFileID:EA.ID,filename:EA.name}))).catch(_A?_A(_c,EA):EA=>{throw EA.isHandled=!1,EA}).finally((()=>delete Sp[EA.ID]))},linkAttachmentsToCase:(EA,AA,_A,CA)=>{const SA={};if("File"===_A){const[EA]=AA,{clientFileID:_A}=EA;delete EA.clientFileID,SA.signal=Tp(_A).token}const{restApi:DA,reqType:TA}=Og("linkCaseAttachment",{caseID:EA});return yc(DA,{...SA,body:{attachments:AA},method:TA},CA)},getCaseAttachments:(EA,AA,_A=!1)=>{const{restApi:CA,reqType:SA}=Og("getCaseAttachments",{caseID:EA,includeThumbnail:_A});return yc(CA,{method:SA},AA).then((EA=>EA.data.attachments))},getAttachmentCategories:(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og("getAttachmentCategories",{caseID:EA,type:AA});return yc(CA,{method:SA},_A).then((EA=>EA.data))},downloadAttachment:(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og(Cp,{attachmentID:EA});return yc(CA,{method:SA,..."binary"===_A&&{responseType:"arraybuffer"}},AA)},editAttachment:(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og("editAttachment",{attachmentID:EA});return yc(CA,{method:SA,body:{...AA}},_A)},deleteAttachment:(EA,AA)=>{const{restApi:_A,reqType:CA}=Og("deleteAttachment",{attachmentID:EA});return yc(_A,{method:CA},AA)},downloadDocument:(EA,AA)=>{const{restApi:_A,reqType:CA}=Og("downloadDocument",{documentID:EA});return yc(_A,{method:CA},AA)},deleteDocument:(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og("deleteDocument",{caseID:EA,documentID:AA});return yc(CA,{method:SA},_A)},getDocumentURL:EA=>{const AA=PCore.getEnvironmentInfo().getDocumentUrlDP()||"D_pxGetDocumentURL";return PCore.getDataPageUtils().getPageDataAsync(AA,EA.getContextName(),{},{invalidateCache:!0}).catch((AA=>{EA.reportError(": Error occurred during ajax call getDocumentURL API : ",AA.response)}))},cancelRequest:EA=>{Sp[EA]&&(Sp[EA].cancel(),delete Sp[EA])},buildFilePropsFromResponse:Pp,getAttachmentURL:EA=>{const{restApi:AA}=Og(Cp,{attachmentID:EA});return AA},prepareAttachmentData:EA=>{let AA=[];if(EA&&Object.hasOwn(EA,"pyCount")&&EA.pyCount>0)AA=EA?.pxResults?.filter((EA=>!!EA.pzInsKey)).map((EA=>Pp(EA)))||[];else if(EA&&"object"==typeof EA){let _A;_A=Array.isArray(EA)?EA:[EA],AA=_A?.filter((EA=>EA.ID&&EA.FileName||EA.pzInsKey)).map(Pp)}else AA=[];return{hasUploadedFiles:AA.length>0,categoryName:EA?.pyCategoryName||AA?.[0]?.responseProps?.category||"",attachments:AA}}};nn.registerHandler("@ATTACHMENT",((EA,AA,_A)=>{let CA;return CA=AA?AA.getValue(EA):xh.getLitePropertyValue(_A),Rp.prepareAttachmentData(CA)})),nn.registerHandler("@FL",((EA,AA)=>AA.getLocalizedValueForFieldLabel(AA.getFieldMetadata(EA)?.label))),nn.registerHandler("@GENAICOACH",((EA,AA)=>Zp(EA,AA.getCurrentClassID()))),nn.registerHandler("@REFRESH",((EA,AA)=>{const _A=AA.getCaseInfo().getKey(),CA=AA.getContextName(),SA=AA.getPageReference();Il.registerForRefresh("PROP_CHANGE",AA.getActionsApi().refreshCaseView.bind(AA.getActionsApi(),_A,"",SA,{autoDetectRefresh:!0,preserveClientChanges:!1,refreshFor:!0}),`${SA}${EA}`,`${CA}/${SA}`,CA)}));const Dp={},bp={},Op={},vp={},xp={},wp={},Mp={},Lp={},Up={},Fp={},jp=(EA={},AA={})=>{0!==Object.keys(AA).length?Object.keys(EA).forEach((_A=>{const CA=EA[_A],SA=AA[_A];if(SA){const EA=Array.isArray(SA)?SA:[SA];(Array.isArray(CA)?CA:[CA]).forEach((AA=>{const _A=EA.findIndex((EA=>EA.classID===AA.classID));if(-1===_A)EA.push(AA);else{const CA={isDeclarativeTarget:!1},SA={...EA[_A],...CA,...AA};EA[_A]=SA}})),AA[_A]=1===EA.length?EA[0]:EA}else AA[_A]=CA})):Dh.copy(EA,AA)},Vp=(EA,AA="")=>{if(!EA)return null;const _A=vp[EA];if(!_A)return null;if(!AA)return Array.isArray(_A)?[..._A]:_A;let CA;return CA=Array.isArray(_A)?_A.find((EA=>EA.classID.toLowerCase()===AA.toLowerCase()))||null:_A.classID.toLowerCase()===AA.toLowerCase()||("Page"===_A.type||"Page List"===_A.type)&&_A?.pageClass?.toLowerCase()===AA.toLowerCase()?_A:null,CA},kp=(EA,AA,_A,CA=[])=>{if(!AA||!EA)return null;if(!EA.includes(".")){let SA;const DA=Vp(EA,AA);return CA.length&&(SA=CA.join(".")),{...DA,embeddedType:_A,category:SA}}const[SA,...DA]=EA.split("."),TA=Vp(SA,AA);return TA&&CA.push(TA.label),kp(DA.join("."),TA?.pageClass,TA?.type,CA)},$p=EA=>{jp(EA,bp)},Bp=EA=>{jp(EA,Op)},Gp=EA=>{if(EA.views&&jp(EA.views,bp),EA.navigations&&jp(EA.navigations,Op),EA.personalizations&&jp(EA.personalizations,wp),EA.insights&&jp(EA.insights,Mp),EA.paragraphs&&jp(EA.paragraphs,Dp),EA.dataTypes&&jp(EA.dataTypes,Lp),EA.datapages&&jp(EA.datapages,Up),EA.genAICoaches&&jp(EA.genAICoaches,Fp),EA.fields){Object.keys(EA.fields).forEach((AA=>{const _A=EA.fields[AA];if(Array.isArray(_A)){if(EA.datapages&&_A.forEach((AA=>{AA.datasource&&"DataPage"===AA.datasource.tableType&&(AA.datasource.mode=EA.datapages[AA.datasource.name].mode)})),1===_A.length){const[CA]=_A;EA.fields[AA]=CA}}else EA.datapages&&_A.datasource&&"DataPage"===_A.datasource.tableType&&(_A.datasource.mode=EA.datapages[_A.datasource.name].mode)}));const{datapages:AA={}}=EA;Object.keys(AA).forEach((EA=>{xp[EA]=AA[EA]}))}jp(EA.fields,vp)},Wp=EA=>bp[EA],Hp=(EA,AA)=>{const _A=bp[EA];return Array.isArray(_A)?_A.some((EA=>EA.classID===AA)):_A?.classID===AA},qp=EA=>Op[EA],zp=EA=>EA in xp?xp[EA]:null,Yp=EA=>EA in wp?wp[EA]:null,Kp=EA=>EA in Mp?Mp[EA]:null,Xp=EA=>{const AA={};return Object.keys(vp).forEach((_A=>{const CA=vp[_A];let SA;Array.isArray(CA)?SA=CA.find((AA=>EA===AA.classID)):EA===CA.classID&&(SA=CA),SA&&(AA[_A]=Dh.deepClone(SA))})),AA},Jp=(EA,AA)=>{const _A=Vp(EA,AA)?.datasource?.parameters;return _A?Dh.deepClone(_A):null},Qp=(EA,AA)=>{let _A=null;const CA=Dp[EA];return CA&&(Array.isArray(CA)?_A=CA.find((EA=>EA.classID===AA)):CA.classID===AA&&(_A=CA)),_A?Dh.deepClone(_A):null},Zp=(EA,AA)=>{let _A=null;const CA=Fp[EA];return CA&&(Array.isArray(CA)?_A=CA.find((EA=>EA.classID===AA)):CA.classID===AA&&(_A=CA)),_A?Dh.deepClone(_A):null},eh=EA=>{if(EA in Lp){const{savableDataPage:AA}=Lp[EA];return AA}return null},th=EA=>{const AA=Up[EA];if(!AA)return null;const{classID:_A,isAlternateKeyStorage:CA,parameters:SA}=AA;if(CA)return SA.map((EA=>({keyName:EA.name,isAlternateKeyStorage:CA,linkedField:EA.linkedField})));const DA=Lp[_A];return DA?DA.classKeys.map((EA=>({keyName:EA,isAlternateKeyStorage:CA}))):[]},nh=EA=>{if(EA in Lp){const{lookupDataPage:AA}=Lp[EA];return AA}return null},rh=EA=>{if(Object.prototype.hasOwnProperty.call(Lp,EA)){const{lookupDataPageInfo:AA}=Lp[EA];return AA}return null},sh=(EA,AA)=>{const _A=EA.split("."),CA=_A.pop(),SA=new ed({options:{pageReference:`${_A.join(".")}`,context:AA}}),DA=Vp(CA,SA.getCurrentClassID())?.additionalInformation;if(!DA?.includes("@PARAGRAPH"))return DA;const TA=rn.trimAnnotation(DA),NA=SA.getCurrentClassID(),PA=Qp(TA,NA),RA=PA?.definedOnClassID,bA=Ip.getParagraphLocaleValue(RA||NA,TA);return bA?_p.getParagraphStream(bA,SA):PA?.content?_p.getParagraphStream(PA.content,SA):null},ah=(EA,AA)=>{const _A=EA.split("."),CA=_A.pop(),SA=new ed({options:{pageReference:`${_A.join(".")}`,context:AA}}),DA=Vp(CA,SA.getCurrentClassID()),TA={};return SA._classID=SA.getCurrentClassID(),SA.resolveConfigProps(DA,TA),TA};class oh{constructor(){this.name="CascadeManager",this.cascadeSubscribers={},this.cascadeResetSubscribers={},this.listChangeSubscribers=[]}registerResetDependencies(EA,AA,_A,CA,SA,DA="singleRecord"){if(!EA||!_A||!CA?.length)return;const TA=_A.startsWith(".")?`${AA}.${_A.substring(1)}`:_A,NA=this.cascadeResetSubscribers[EA]||{},PA=this._handlePageReference(AA,_A,SA);CA.forEach((EA=>{if(!EA)return;let AA=EA.startsWith(".")?EA.substring(1):EA;if(AA=Dh.getFullPropertyReference([PA,AA]),AA in NA){const EA=NA[AA];EA.find((EA=>EA.propertyName===TA))||EA.push({propertyName:TA,mode:DA})}else NA[AA]=[{propertyName:TA,mode:DA}]})),Object.keys(NA).length>0&&(this.cascadeResetSubscribers[EA]=NA)}deregisterResetDependencies(EA,AA,_A,CA,SA){if(!EA||!_A||!CA?.length)return;const DA=_A.startsWith(".")?`${AA}.${_A.substring(1)}`:_A,TA=this.cascadeResetSubscribers[EA]||{},NA=this._handlePageReference(AA,_A,SA);CA.forEach((EA=>{if(EA){let AA=EA.startsWith(".")?EA.substring(1):EA;if(AA=Dh.getFullPropertyReference([NA,AA]),AA in TA){const EA=TA[AA];Dh.removeExistingDependentProperty(EA,DA)}}})),Object.keys(TA).length>0&&(this.cascadeResetSubscribers[EA]=TA)}getResetDependencies(EA,AA){return this.cascadeResetSubscribers[EA]?.[AA]||[]}purgeResetDependencies(EA){EA&&this.cascadeResetSubscribers[EA]&&delete this.cascadeResetSubscribers[EA]}registerFields(EA,AA,_A,CA,SA){this.cascadeSubscribers[EA]=this.cascadeSubscribers[EA]||{},_A?.forEach((_A=>{this.cascadeSubscribers[EA][`${AA}${_A}`]=this.cascadeSubscribers[EA][`${AA}${_A}`]||{};const DA=this.cascadeSubscribers[EA][`${AA}${_A}`];if(!DA[SA]){DA[SA]=CA;const TA=mh(_A,AA,EA);DA.previousValue="object"==typeof TA?null:TA}}))}registerListField(EA,AA,_A,CA,SA){const DA=oh._getFieldsForList(EA,AA,_A);DA.length>0&&(this.registerFields(EA,AA,DA,CA,SA),cu.enableCascade(EA))}unRegisterListField(EA,AA,_A,CA){const SA=oh._getFieldsForList(EA,AA,_A);SA.length>0&&this.unRegisterFields(EA,AA,SA,CA)}static _getFieldsForList(EA,AA,_A){const CA=[],SA=Vp(_A,mh("classID",AA,EA));return SA&&!Array.isArray(SA)&&SA.datasource&&SA.datasource.parameters&&Object.values(SA.datasource.parameters).forEach((EA=>{if(rn.isProperty(EA)){const AA=rn.trimAnnotation(EA);CA.push(AA)}})),CA}unRegisterFields(EA,AA,_A,CA){this.cascadeSubscribers[EA]&&_A?.forEach((_A=>{if(!this.cascadeSubscribers[EA][`${AA}${_A}`])return;const SA=this.cascadeSubscribers[EA][`${AA}${_A}`];SA[CA]&&delete SA[CA]}))}triggerCascade(EA,AA,_A,CA){let SA=!1;this.cascadeSubscribers[EA]&&this.cascadeSubscribers[EA][AA]&&(Object.keys(this.cascadeSubscribers[EA][AA]).forEach((DA=>{const TA=this.cascadeSubscribers[EA][AA];"previousValue"!==DA&&TA.previousValue!==_A&&(SA=!0,CA?CA.add(TA[DA]):TA[DA](AA,_A))})),SA&&(this.cascadeSubscribers[EA][AA].previousValue=_A))}purgeCascadeFields(EA){delete this.cascadeSubscribers[EA]}handleServerChanges(EA,AA=[],_A=[]){if(!EA)return;const CA=new Set;_A.forEach((AA=>{const _A=mh(AA,"",EA);this.triggerCascade(EA,AA,_A,CA)})),CA.forEach((EA=>{EA()})),0!==this.listChangeSubscribers.length&&0!==AA.length&&AA.forEach((AA=>{this.listChangeSubscribers.forEach((_A=>{const CA=mh(AA,"",EA);_A(EA,AA,CA)}))}))}_updateChangedProperties(EA,AA,_A,CA,SA,DA,TA){if(EA!==AA){const EA=CA.lastIndexOf("."),AA=CA.substring(0,EA),NA=CA.substring(EA),PA=sr.getMessages({type:"error",property:NA,context:SA,pageReference:AA});if(PA?.length>0&&TA.push(CA),!_A)return;DA.push(CA)}}_getServerProperties(EA,AA,_A,CA,SA,DA){if("object"!=typeof EA){SA.push(_A.replace(/\.(\d+)/g,"[$1]"));let TA=!0;0!==this.listChangeSubscribers.length&&Dh.isValidPageListProperty(_A)||(TA=!1),_A=_A.replace(/\.(\d+)/g,"[$1]");const NA=mh(_A,"",AA);if(void 0===NA&&!EA&&0!==EA)return;return void this._updateChangedProperties(NA,EA,TA,_A,AA,CA,DA)}const TA=Object.keys(EA??{});for(let NA=0,PA=TA.length;NA<PA;NA+=1){const PA=TA[NA],RA=`${_A}.${PA}`;this._getServerProperties(EA[PA],AA,RA,CA,SA,DA)}}getServerProperties(EA,AA,_A=G.CASE_INFO.CASE_INFO_CONTENT){const CA=[],SA=[],DA=[],TA=Dh.getIn(EA,_A);return TA&&AA?(this._getServerProperties(TA,AA,_A,CA,DA,SA),{changedListProperty:CA,leafProperty:DA,changedPropertyWithError:SA}):{changedListProperty:CA,leafProperty:DA,changedPropertyWithError:SA}}_handlePageReference(EA,AA,_A){let CA=EA;return"Page"===_A&&AA.startsWith(".")&&AA.slice(1).includes(".")&&(CA=`${EA}${AA.substring(0,AA.lastIndexOf("."))}`),CA}registerForListChanges(EA=()=>{}){this.listChangeSubscribers.push(EA)}unRegisterForListChanges(){this.listChangeSubscribers=[]}}const ih=new oh;let ch=null;const lh=EA=>EA?.split(/\.(?![^[]+\])|\[|\]/g).filter(Boolean),uh=EA=>{ch=EA},dh=()=>ch,ph=EA=>{if(!EA)return;let AA=[],_A=[],CA=[];Array.isArray(EA)||"MERGE_DATA"!==EA.type||({changedListProperty:AA,leafProperty:_A,changedPropertyWithError:CA}=ih.getServerProperties(EA.payload.data,EA.payload.context,EA.payload.rootPageReference)),dh()?.dispatch(EA),Array.isArray(EA)||"MERGE_DATA"!==EA.type||(CA.forEach((AA=>{const _A=AA.lastIndexOf("."),CA=AA.substring(0,_A),SA=AA.substring(_A);sr.clearMessages({type:"error",property:SA,pageReference:CA,context:EA.payload.context});const DA=vn.getFieldReferenceForProperty(EA.payload.context,AA),TA=xh.resolveContextTreeNodeProps(DA.props);Ur.validate(TA.componentName?.toLowerCase(),TA.propertyName,xh.getLitePropertyValue(TA,TA.propertyName),TA)})),ih.handleServerChanges(EA.payload.context,AA,_A))},hh=EA=>dh()?.getState().data?.[EA],gh=()=>dh()?.getState().data[G.SHARED],fh=(EA,AA,_A)=>{if(!(CA=EA)||CA.startsWith('"')||CA.startsWith("'"))return(EA=>EA&&EA.trim().substring(1,EA.length-1))(EA);var CA;const SA=EA?.startsWith(".")?AA+EA:EA,DA=lh(SA);return Dh.getIn(_A,DA)},mh=(EA,AA,_A)=>fh(EA,AA,hh(_A)),yh=(EA,AA,_A)=>fh(AA,EA?`${G.CONTEXT_DATA}.${EA}`:`${G.CONTEXT_DATA}`,hh(_A)),Ih=(EA,AA,_A)=>((EA,AA,_A)=>{const CA=lh(`${AA}.${_A}`);return Dh.getIn(EA,CA)})(hh(_A),`${G.CONTEXT_DATA}.${EA}`,AA),Eh=EA=>{const{context:AA}=EA,_A=dh()?.getState().data[AA];if(_A)return me;const{action:CA}=EA;return["createWork","showHarness","openAssignment","openWorkByHandle","initRouting"].includes(CA)?Re:me},Ah=(EA,AA)=>{const _A=lh(AA);return Dh.deleteIn(EA,_A)},_h=EA=>!Array.isArray(EA)&&"object"==typeof EA,Ch=(EA,AA,_A={})=>{const{isArrayDeepMerge:CA,propertiesToReplace:SA=[]}=_A;Array.isArray(EA)&&!AA&&(AA=[]),Array.isArray(SA)&&SA.length>0&&SA.forEach((AA=>{Dh.setIn(EA,AA,{})}));const DA=(EA,AA)=>{if(_h(EA)&&null!==AA&&"string"!=typeof AA&&"number"!=typeof AA&&"boolean"!=typeof AA)return j()(EA,AA,DA);if(Array.isArray(EA)&&null!==AA&&Array.isArray(AA)){if(CA)return j()(EA,AA,DA);{const _A=AA.length;if(void 0===CA&&_A===EA.length)return j()(EA,AA,DA)}}return""===AA&&EA&&"object"==typeof EA?EA:AA};return DA(EA,AA)},Sh=(EA,AA,_A,CA={isArrayDeepMerge:!0})=>{const{isArrayDeepMerge:SA}=CA,DA=lh(AA);if("object"==typeof _A){const AA=Ch(Dh.getIn(EA,DA),_A,{isArrayDeepMerge:SA});return Dh.setIn(EA,DA,AA)}return Dh.setIn(EA,DA,_A)},Th=(EA,AA,_A)=>{const CA=lh(AA);return Dh.setIn(EA,CA,_A)},Nh=()=>{const EA=st,{promise:AA,actionMgrID:_A}=gn.actionManagerPromise(EA);return ph({type:EA,payload:{actionMgrID:_A}}),AA},Ph=EA=>{const AA=dh()?.getState();return!!AA?.data?.[EA]};class Rh{static mergeDeep(EA,AA){return j()(AA,EA)}static hasIn(EA,AA){return x()(EA,AA)}static getIn(EA,AA,_A){return M()(EA,AA,_A)}static setIn(EA,AA,_A){return U()(EA,AA,_A)}static deleteIn(EA,AA){return O()(EA,AA)}static isObjectEmpty(EA){return!EA||0===Object.entries(EA).length}static isEmpty(EA){return k()(EA)}static deepClone(EA={}){return JSON.parse(JSON.stringify(EA))}static copy(EA,AA){Object.keys(EA).forEach((_A=>{AA[_A]=EA[_A]}))}static isPropertyRef(EA){if(!EA||-1===EA.indexOf("."))return!1;let AA=0;const _A=EA.length;for(;AA<_A;AA+=1)if(" @#$%=!<>/\\".includes(EA[AA]))return!1;return!0}static isWhenExist(EA){const AA=["visibility","disabled","readOnly","required"];let _A=!1;for(const CA in EA)AA.includes(CA)&&"string"==typeof EA[CA]&&EA[CA]?.startsWith("@W ")&&(_A=!0);return _A||"multirecordlist"!==EA?.type||"Editable"!==EA?.renderMode||(_A=Object.keys(EA?.allowActions??{}).some((AA=>"string"==typeof EA?.allowActions?.[AA]&&EA.allowActions[AA]?.startsWith("@W ")))),_A}static getWhenNames(EA){const AA=["visibility","disabled","readOnly","required"];let _A="";const CA=new Set;for(const SA in EA)AA.includes(SA)&&"string"==typeof EA[SA]&&EA[SA]?.startsWith("@W ")&&(_A=rn.trimAnnotation(EA[SA]),CA.add(_A));return"multirecordlist"===EA?.type&&"Editable"===EA?.renderMode&&Object.keys(EA?.allowActions??{}).forEach((AA=>{"string"==typeof EA?.allowActions[AA]&&EA.allowActions[AA]?.startsWith("@W ")&&(_A=rn.trimAnnotation(EA.allowActions[AA]),CA.add(_A))})),[...CA]}static isExpressionExist(EA){const AA=["disabled","visibility","readOnly","required"];let _A=!1;for(const CA in EA)AA.includes(CA)&&"string"==typeof EA[CA]&&EA[CA]?.startsWith("@E ")&&(_A=!0);return _A}static buildDataObject(EA,AA){let _A={};const CA=_A;return AA.indexOf(".")>0?AA.split(".").forEach((EA=>{if(EA.includes("[")){const[AA]=EA.split("[");_A[AA]=[],_A=_A[AA],EA=EA.substring(EA.indexOf("[")+1,EA.lastIndexOf("]"))}_A[EA]={},_A=_A[EA]})):(_A[AA]={},_A=_A[AA]),Object.keys(EA).forEach((AA=>{let CA=AA;AA.startsWith(".")&&(CA=AA.substring(1)),_A[CA]=EA[AA]})),CA}static buildObject=(EA,AA,_A)=>{if(void 0===_A)return;const CA=EA.split(".");let SA=0;for(;SA<CA.length-1;SA+=1){const EA=CA[SA];EA?.toString().length&&!AA[EA]&&(AA[EA]={}),AA[EA]&&(AA=AA[EA])}"object"==typeof _A?(AA[CA[SA]]||(AA[CA[SA]]=Array.isArray(_A)?[]:{}),Ch(AA[CA[SA]],_A,{isArrayDeepMerge:!0})):AA[CA[SA]]=_A};static getHashedString(EA){return(0,D.crc32)(EA).toString(16)}static getPropertyName(EA){if(EA){const AA=EA.startsWith("@P"),_A=AA?EA.indexOf(" "):-1;return AA?EA.substring(_A+2):EA}return EA}static getPropertyNameFromDependency(EA){return"string"==typeof EA?EA:EA.propertyName}static isValidJson(EA){try{return JSON.parse(EA)}catch(EA){return console.error("not a Valid JSON",EA),!1}}static isEqual(EA,AA){return I()(EA,AA)}static isContains(EA,AA){const _A=Object.keys(EA);for(let CA=0;CA<_A.length;CA+=1)if(EA[_A[CA]]&&Rh.isEqual(EA[_A[CA]],AA))return!0;return!1}static removeExistingDependentProperty(EA,AA){const _A=EA.findIndex((EA=>EA.propertyName===AA));_A>=0&&EA.splice(_A,1)}static getFullPropertyReference(EA){return Array.isArray(EA)?EA.filter((EA=>!!EA)).join("."):""}static iterateLeafNodes(EA,AA){const _A=(EA,CA=[])=>{Object.entries(EA).forEach((([SA,DA])=>{CA.push(Array.isArray(EA)?Number(SA):SA),Array.isArray(DA)?DA.forEach(((EA,AA)=>{CA.push(AA),_A(EA,CA),CA.pop()})):"object"==typeof DA?_A(DA,CA):AA(CA.slice(),DA),CA.pop()}))};_A(EA)}static resolveStringBooleans(EA){const AA=["required","readOnly","visibility"];return Object.keys(EA).forEach((_A=>{AA.includes(_A)&&"string"==typeof EA[_A]&&(EA[_A]="true"===EA[_A])})),EA}static generateUniqueID(){return crypto.randomUUID()}static unflatten(EA){const AA={};return Object.entries(EA).forEach((([EA,_A])=>{const CA=EA.split(".");let SA;CA.reduce(((EA,AA,DA)=>(SA=EA[AA]?EA[AA]:Number.isNaN(Number(CA[DA+1]))?CA.length-1===DA?_A:{}:[],EA[AA]=SA,EA[AA])),AA)})),AA}static flatten(EA,AA,_A){AA||(AA=""),Array.isArray(EA)?EA.forEach(((EA,CA)=>{Rh.flatten(EA,`${AA}[${CA}]`,_A)})):"object"==typeof EA&&null!==EA?Object.keys(EA).forEach((CA=>{const SA=AA?`${AA}.${CA}`:CA;Rh.flatten(EA[CA],SA,_A)})):_A[AA]=EA}static buildInstructionPageReference(EA,AA){const _A=`${EA}${AA}`.replace(G.CASE_INFO.CASE_INFO_CONTENT,"").replace(G.DATA_INFO.DATA_INFO_CONTENT,"");return Hn.formatPageReference(_A)}static buildAttachmentsFormData(EA){return EA.map((EA=>{if(EA.delete){let AA="";return AA=EA.responseProps.ID?EA.responseProps.ID:EA.responseProps.pzInsKey,{type:"File",attachmentFieldName:EA.label,delete:!0,pzInsKey:AA}}return{type:"File",attachmentFieldName:EA.label,category:EA.category,ID:EA.handle,clientFileID:EA.ID}}))}static convertPageRefToClipboardPageNotation(EA){return EA.replace(/\[\d+\]/g,(EA=>EA.replace(/\d+/g,(EA=>`${parseInt(EA,10)+1}`)).replace("[","(").replace("]",")")))}static convertClipboardPageToPageRefNotation(EA){return EA.replace(/\(\d+\)/g,(EA=>EA.replace(/\d+/g,(EA=>""+(parseInt(EA,10)-1))).replace("(","[").replace(")","]")))}static isString(EA){return"string"==typeof EA}static rejectPendingActions(EA){return EA.forEach((EA=>EA.payload.actionMgrID&&gn.rejectActionByID(EA.payload.actionMgrID))),!0}static isValidAnnotation(EA){const AA=new Set(["@DATASOURCE","@ACTIVE_CASES","@ADDRESS","@ASSOCIATED","@ATTACHMENT","@CASE","@FILTERED_LIST","@PARAGRAPH","@P","@ROUTING_INFO","@USER","@W","@E","@SHARED"]),_A=EA.indexOf(" "),CA=EA.substring(0,_A);return AA.has(CA)}static trimDotForProperty(EA){return"string"==typeof EA&&EA.startsWith(".")?EA.substring(1):EA}static convertObjectWithStringToBoolean(EA){if(EA&&!Array.isArray(EA)&&"object"==typeof EA)return Object.keys(EA).forEach((AA=>{let _A;const CA=EA[AA];_A="string"==typeof CA?"true"===CA||"false"!==CA&&CA:CA,EA[AA]=_A})),EA}static isValidPageListProperty(EA){return!!EA&&/^(?!.*\.\.)(?!\d)\w+(\.\w+)*\.\d+(\.\w+)+$/.test(EA)}}const Dh=Rh,bh=G.SUMMARY_OF_LISTS,Oh=G.SUMMARY_OF_WHEN_CONDITIONS;class vh{static updateData(EA){Object.keys(EA).forEach((AA=>{ph(jh({context:AA,data:EA[AA]}))}))}static updateContextData(EA){Object.keys(EA).forEach((AA=>{ph(jh({context:AA,data:EA[AA]}))}))}static resolveWhen(EA,AA){return!!AA.getContextDataValue(`.${Oh}.${EA}`)}static resolveFieldValue(EA,AA){return AA.getLocalizedValue(EA)}static resolveNavigation(EA,AA){return qp([this.resolveName(EA,AA)])}static resolveView(EA,AA,_A=""){const CA=Wp([this.resolveName(EA,AA)]);let SA=[];if(Array.isArray(CA)&&CA.length>0){if(AA&&CA.length>1){if(_A||(_A=AA.getValue(G.CLASS_ID)),!_A)return;SA=CA.filter((EA=>EA[G.CLASSID]===_A))}return 0===SA.length?CA[0]:SA[0]}return CA}static resolveName(EA,AA){return EA&&"string"==typeof EA&&EA.startsWith("param.")?(EA=EA.substring(6),AA.getContextDataValue(`.$parameters.${EA}`)):(EA&&"string"==typeof EA&&EA.startsWith("@")&&(EA=rn.handleAnnotation(EA,AA)),EA)}static getContextPath(EA,AA){return"number"!=typeof AA&&!AA||"number"!=typeof(AA=rn.trimAnnotation(AA))&&"string"!=typeof AA?EA:"number"==typeof AA&&parseInt(AA,10)===AA?`${EA}[${AA}]`:AA.startsWith(".")?EA+AA:`${AA}`}static getRuleClass(EA,AA,_A){let CA;return AA?CA=AA.startsWith(G.CLASS_ANNOTATION)?AA.split(G.CLASS_ANNOTATION)[1].trim():this.resolveClassID(AA,EA.getPageReference(),EA.getContextName()):_A?.authorContext&&(CA=_A.ruleClass),CA}static resolveReference(EA,AA){const{type:_A}=EA;let CA;if("reference"===_A){const{config:_A}=EA,SA=_A?.type,{ref:DA,name:TA,context:NA}=_A||{},PA=this.getRuleClass(AA,NA,_A);return"navigation"===SA?CA=this.resolveNavigation(DA||TA,AA):"view"===SA?CA=this.resolveView(DA||TA,AA,PA||""):"widget"===SA&&(CA={type:"Widget",config:{name:TA,ruleClass:PA}}),CA}return EA}static resolvePropertyReference(EA,AA,_A){return mh(AA,EA,_A)}static getProperty(EA,AA,_A){let CA=this.resolvePropertyReference(AA,EA,_A);if(null==CA||0===CA.length){const SA=Ih(`${AA}.${bh}`,EA,_A);SA&&(CA=this.resolvePropertyReference(AA,SA,_A))}return CA}static getPropertyValue(EA,AA,_A){return EA=rn.trimAnnotation(EA),this.getProperty(EA,AA,_A)}static getReferencedUser(EA,AA){const _A=vh.getLitePropertyValue(AA,"referencedUsers");if(Array.isArray(_A)){const AA=_A.find((AA=>AA.UserID===EA));if(AA)return{userId:AA.UserID,UserName:AA.UserName}}return _A?.[EA]}static getLitePropertyValue(EA,AA){if(!EA)return;const{useCustomContext:_A,propertyName:CA,hasSuggestions:SA,pageReference:DA,context:TA}=EA;let NA=AA||CA;return _A?(NA=NA?.startsWith?.(".")?NA.substring(1):NA,NA?.split?.(".").reduce(((EA,AA)=>EA?.[AA]??void 0),_A)):SA?vh.getPropertyValue(NA,DA,`${TA}/${G.SUGGESTION}`):vh.getPropertyValue(NA,DA,TA)}static _handlePropString(EA,AA,_A,CA,SA){_A.startsWith("@")?EA[AA]=rn.handleAnnotation(_A,CA,SA):EA[AA]=_A}static _resolveProps(EA,AA,_A){EA&&Object.keys(EA).forEach((CA=>{const SA=EA[CA];"string"==typeof SA?this._handlePropString(EA,CA,SA,AA,_A):Array.isArray(SA)?SA.forEach((CA=>{this._resolveProps("object"==typeof CA?CA:EA[CA],AA,_A)})):"object"==typeof SA&&this._resolveProps(EA[CA],AA,_A)}))}static resolveProps(EA,AA,_A){return EA&&AA?(Dh.mergeDeep(EA,AA),this._resolveProps(AA,_A,void 0),AA):AA}static resolveContextTreeNodeProps(EA){const AA={};return EA?(Dh.mergeDeep(EA,AA),this._resolveProps(AA,void 0,EA),Dh.resolveStringBooleans(AA)):AA}static resolveClassID(EA,AA,_A){const CA=rn.trimAnnotation(EA);let SA;for(SA=CA.startsWith(".")?`${AA}${CA}`:`${CA}`;SA;){const EA=mh(G.CLASS_ID,SA,_A);if(EA)return EA;SA=SA.substring(0,SA.lastIndexOf("."))}return null}}const xh=vh,wh=new class{constructor(){this.actionHandlers={}}getHandler(EA){return this.actionHandlers[EA]}registerHandler(EA,AA){this.actionHandlers[EA]=AA}},Mh=class{static#o=[];static#i=!1;static getActionHandlers=(EA,AA,_A)=>{const CA=[];return{mouseenter:"hover",change:"onChange",blur:"onBlur"}[_A]!==AA||EA.forEach((EA=>{const AA=wh.getHandler(EA.action),{config:_A}=EA;CA.push({handler:AA,config:_A})})),CA};static isEditable=EA=>{const{tagName:AA}=EA;return"INPUT"===AA||"TEXTAREA"===AA||"SELECT"===AA||"DATETIME"===AA};static isNonKeyInput=EA=>{const{tagName:AA,type:_A}=EA;return"SELECT"===AA||"checkbox"===_A||"radio"===_A};static#c=(EA,AA,_A)=>{for(let CA=0;CA<EA.length;CA+=1){const SA=EA[CA],DA={actionHandler:SA.handler,component:AA,eventType:_A,config:SA.config};this.#o.push(DA)}};static buildActionObject=(EA,AA)=>{const _A={...EA};return _A.context="Browser"===fp.getRuntime()?AA.getContextName():_A.context,_A.pageReference=AA.getPageReference(),_A.actionMgrID=gn.getNextActionMgrId(),_A};static#l=EA=>{const AA=EA.actionHandler,_A=EA.component,{config:CA}=EA,SA={};xh.resolveProps(CA,SA,_A),AA&&(AA(EA.eventType,SA,_A),this.#u())};static#u=()=>{if(!this.#i){if(0===this.#o.length)return;const EA=this.#o.shift();this.#l(EA),EA.config&&"true"===EA.config.parallel&&this.#o.length>0&&this.#u()}};static#d=()=>{this.#u()};static#p=(EA,AA,_A)=>{this.#c(EA,AA,_A),this.#d()};static getFullRef=EA=>{const AA=EA.getPageReference(),_A=EA.getComponentConfig().value;return xh.getContextPath(AA,_A)};static#h(EA,AA){const _A=EA.getComponentConfig().behaviours||[];for(let CA=0;CA<_A.length;CA+=1){const{behaviour:SA,actions:DA}=_A[CA];if(DA){const _A=this.getActionHandlers(DA,SA,AA);_A&&_A.length>0&&this.#p(_A,EA,AA)}}}static changeHandler=(EA,AA)=>{const _A=EA.getStateProps().value,CA=EA.getContextName();if(Qn({type:B.MESSAGES.MESSAGES_TYPE_ERROR,property:_A,pageReference:EA.getPageReference(),context:CA}),("Browser"===fp.getRuntime()?AA?.nativeEvent instanceof Event||AA instanceof Event:AA?.nativeEvent)||null!==AA.value&&void 0===AA.prop){let{target:_A}=AA;null===_A&&AA&&AA.auxiliaryTarget&&(_A=AA.auxiliaryTarget);const SA=void 0===_A?AA.value:"value"in _A?_A.value:_A.innerText,DA=this.getFullRef(EA);ph({type:re,payload:{reference:DA,value:SA,context:CA}}),void 0!==_A&&this.isEditable(_A)&&!this.isNonKeyInput(_A)||ph({type:ae,payload:{reference:DA,pageReference:EA.getPageReference(),value:SA,context:CA,propertyName:EA.getComponentConfig().value,classID:EA.getValue(G.CLASS_ID)}})}else{const _A=EA.getPageReference(),SA=EA.getStateProps();for(const EA of Object.keys(AA)){const DA=SA[EA],TA=AA[EA];ph({type:re,payload:{reference:xh.getContextPath(_A,DA),value:TA,context:CA}}),ph({type:ae,payload:{reference:xh.getContextPath(_A,DA),value:TA,context:CA}})}}};static blurHandler=(EA,AA)=>{let{target:_A}=AA;null===_A&&AA&&"auxiliaryTarget"in AA&&(_A=AA.auxiliaryTarget);const{value:CA,validationValue:SA}=_A,DA=this.getFullRef(EA),TA=EA.getContextName();_A.clearMessages&&Qn({type:B.MESSAGES.MESSAGES_TYPE_ERROR,property:EA.getStateProps().value,pageReference:EA.getPageReference(),context:TA}),this.isEditable(_A)&&(EA.getValidationApi().validate("validationValue"in _A?SA:CA),EA.isInsideList()&&EA.getListActions().updateProperty(EA.getStateProps().value,CA),!this.isNonKeyInput(_A)&&ph({type:ae,payload:{reference:DA,pageReference:EA.getPageReference(),value:CA,context:TA,propertyName:EA.getComponentConfig().value,classID:EA.getValue(G.CLASS_ID)}}))};static eventHandler=(EA,AA)=>{const{type:_A}=AA;switch(_A){case"change":this.changeHandler(EA,AA);break;case"blur":this.blurHandler(EA,AA)}_A&&this.#h(EA,_A)};static pause=()=>{this.#i=!0};static resume=()=>{this.#i=!1,this.#u()};static isQueueEmpty=()=>0===this.#o.length;static clearQueue=()=>{this.#o=[]};static getActionsQueue=()=>this.#o;static EVENTS_MAP={click:"onClick",change:"onChange",hover:"onMouseEnter",blur:"onBlur"}},Lh="CREATE_WORK",Uh=EA=>({type:Lh,payload:EA}),Fh=(EA,AA,_A,CA="")=>{const SA=[];Object.keys(EA).forEach((DA=>{"object"==typeof EA[DA]&&DA.includes("[")?function(EA,AA,_A,CA,SA,DA){const TA=CA.substring(0,CA.indexOf("[")),NA=CA.substring(CA.indexOf("[")+1,CA.indexOf("]"));Array.isArray(AA[TA])&&(AA[TA]?.splice(+NA,1,EA[CA]),DA.push(TA),_A.add(`${SA}.${CA}`))}(EA,AA,_A,DA,CA,SA):EA[DA]&&"object"==typeof EA[DA]?(AA[DA]||(AA[DA]=Array.isArray(EA[DA])?[]:{}),Fh(EA[DA],AA[DA],_A,`${CA}.${DA}`)):AA[DA]=EA[DA]})),function(EA,AA,_A){Object.keys(EA).forEach((CA=>{(Array.isArray(EA[CA])&&!_A.includes(CA)||!Array.isArray(EA[CA])&&!Object.hasOwn(AA,CA))&&delete EA[CA]}))}(AA,EA,SA)},jh=(EA,AA={})=>{const{serverPrecedenceFields:_A=[],propertiesToReplace:CA=[]}=AA,{context:SA,data:DA,isArrayDeepMerge:TA,preserveClientChanges:NA=!1}=EA,PA=Nl(SA,!0);((EA,AA={})=>{const _A=el.buildClientChangeList(EA)||{};Object.keys(_A).forEach((EA=>{Dh.buildObject(EA,AA,_A[EA])}))})(SA,PA);const RA=hh(SA);let bA={};if(RA&&DA){bA=JSON.parse(JSON.stringify(RA));const EA=JSON.parse(JSON.stringify(DA)),AA=new Set;Fh(PA,bA,AA),((EA,AA,_A)=>{const CA=new Set;EA.forEach((EA=>{EA=Dh.trimDotForProperty(EA);const[SA,DA,TA]=En(EA);SA&&DA&&TA&&!CA.has(`${SA}.${DA}`)&&((Dh.getIn(_A,`${SA}.${DA}`)||[]).forEach(((EA,_A)=>{_A!==+TA&&Dh.setIn(AA,`${SA}.${DA}[${_A}]`,EA)})),CA.add(`${SA}.${DA}`))}))})(AA,bA,EA)}!function(EA,AA){const _A=Dh.getIn(EA,G.REFERENCED_USERS);let CA;if(void 0!==_A){if(!Array.isArray(_A)&&"object"==typeof _A)return CA=Dh.getIn(AA,G.REFERENCED_USERS,{}),void Dh.setIn(EA,G.REFERENCED_USERS,{...CA,..._A});CA=Dh.getIn(AA,G.REFERENCED_USERS,[]);const SA=new Map;for(const EA of[...CA,..._A])if(SA.has(EA.UserID)){const AA=SA.get(EA.UserID);SA.set(EA.UserID,{...AA,...EA})}else SA.set(EA.UserID,EA);_A.length=0;for(const EA of SA.values())_A.push(EA)}}(DA,RA);const OA={caseInfo:{content:{...bA?.caseInfo?.content}}};let vA=DA;return NA?(_A.forEach((EA=>{Dh.deleteIn(OA,`caseInfo.content.${EA}`)})),vA=Ch(DA,OA,{isArrayDeepMerge:!TA})):((EA,AA)=>{const _A=Al[EA]||{};Object.keys(_A).forEach((EA=>{Dh.hasIn(AA,EA)&&(_A[EA].value=Dh.getIn(AA,EA))}));let CA=el.getStateMachinesByContext(EA)||{};CA={...CA,...el.getUnConnectedStateMachines(EA)||{}},Object.keys(CA).forEach((_A=>{if(Dh.hasIn(AA,_A)){const CA=Dh.getIn(AA,_A);CA&&Array.isArray(CA)&&0===CA.length&&el.setStateMachineEmpty(EA,_A)}}))})(SA,DA),{type:Ae,payload:{...EA,data:vA,...CA.length>0?{propertiesToReplace:CA}:null}}},Vh=EA=>({type:"SHOW_HARNESS",payload:EA}),kh=EA=>({type:oe,payload:EA}),$h=EA=>({type:ie,payload:EA}),Bh=EA=>({type:"ADD_WORK",payload:EA}),Gh=EA=>({type:fe,payload:EA}),Wh=EA=>({type:Ne,payload:EA}),Hh=EA=>({type:Pe,payload:EA}),qh=EA=>({type:Re,payload:EA}),zh=EA=>({type:be,payload:EA}),Yh=EA=>({type:Oe,payload:EA}),Kh=EA=>({type:we,payload:EA}),Xh=EA=>({type:Le,payload:EA}),Jh=EA=>({type:Me,payload:EA}),Qh=EA=>{const{containerItemID:AA}=EA;return EA.suggestionContexts=Rd(AA),{type:Fe,payload:EA}},Zh=EA=>{const{context:AA}=EA;return{type:de,payload:{context:AA}}},eg=EA=>{const{context:AA}=EA;return{type:pe,payload:{context:AA}}},tg=EA=>({type:je,payload:EA}),ng=EA=>({type:Ue,payload:EA}),rg=EA=>({type:nt,payload:EA}),sg=EA=>{const{context:AA,containerItemID:_A}=EA;let CA=AA;return CA||(CA=Cd(_A)),EA.context=CA,EA.deleteContext=!$d(_A),EA.childContainers=Nd(_A),EA.childContainersContexts=Pd(_A),EA.transientItems=Bd([...EA.childContainersContexts,_A]),EA.suggestionContexts=Rd(_A),_A===AA&&(EA.caseID=mh(G.CASE_INFO.CASE_INFO_ID,"",AA),EA.RemoteSystemID=mh(G.CASE_INFO.REMOTESYSTEMID,"",AA)),{type:De,payload:EA}},ag=EA=>{const{containerItemID:AA}=EA;return EA.transientItems=Bd([...Pd(AA),AA]),{type:xe,payload:EA}},og=EA=>{const{transientItemID:AA}=EA;return EA.transientItems=[AA],{type:ve,payload:EA}},ig=EA=>{const{context:AA,containerItemID:_A}=EA;let CA=AA;return CA||(CA=Cd(_A)),EA.context=CA,EA.childContainers=Nd(_A),EA.childContainersContexts=Pd(_A),EA.transientItems=Bd([...EA.childContainersContexts,_A]),EA.suggestionContexts=Rd(_A),_A===AA&&(EA.caseID=mh(G.CASE_INFO.CASE_INFO_ID,"",AA),EA.RemoteSystemID=mh(G.CASE_INFO.REMOTESYSTEMID,"",AA)),{type:Ve,payload:EA}},cg=EA=>({type:ye,payload:EA}),lg=EA=>({type:Ee,payload:EA}),ug=EA=>({type:Se,payload:EA}),dg=(EA,...AA)=>(Mh.resume(),EA(...AA)),pg=(EA,AA,_A,CA,SA)=>({type:Te,payload:{msg:EA,err:AA,context:_A,formFields:CA,actionMgrID:SA}}),hg=EA=>({type:ot,payload:EA}),gg=EA=>({type:it,payload:EA}),fg=EA=>({type:ct,payload:EA}),mg=EA=>({type:"SHOW_CASE_PREVIEW",payload:EA}),yg=EA=>({type:he,payload:EA}),Ig=EA=>({type:re,payload:EA}),Eg="add",Ag="replace",_g=["portal","noPortal","preview","debug","devtool"];let Cg="",Sg="Home",Tg="",Ng=!0;const Pg=EA=>(Ng=EA,Ng),Rg=()=>Ng,Dg=(EA,AA,_A)=>gp.getSemanticURL(EA,AA,_A),bg=(EA,AA)=>gp.getRestEndPoint(EA,AA),Og=(EA,AA)=>{let _A=T();const CA=bg(EA,AA);return CA?(CA.restApi?.startsWith("/")||(CA.restApi=`/${CA.restApi}`),_A?.endsWith("/")&&(_A=_A.substring(0,_A.length-1)),CA.restApi=_A+CA.restApi,CA):{}},vg=(EA,AA,_A)=>{const{root:CA,resources:SA}=EA,{views:DA}=SA,{config:TA}=CA,NA=Eg;let PA="";if(_A)PA=_A;else{const EA=DA[TA.name];let AA=EA;Array.isArray(EA)&&EA.length>0&&([AA]=EA),PA=AA.config.urlPath}const RA=PA.match(ip);if(RA){const EA=Dh.getIn(AA,TA.context);PA=PA.replace(RA[0],EA.pyID)}return PA.startsWith("/")&&(PA=PA.substring(1,PA.length)),{pxURLPath:PA,historyAction:NA}},xg=(EA,AA,_A)=>{let CA,SA;CA=lp(AA)?`${EA}/${AA}`:EA;const DA=lp(_A.pxURLPath);DA&&(CA=`${CA}/${DA}`);try{SA=new URL(CA).searchParams,CA=CA.includes("?")?CA.split("?")[0]:CA}catch(EA){return console.log("Invalid url",EA),""}const TA=CA.split("/"),NA=TA[TA.length-1],PA=new URLSearchParams(window.location.search);if(NA.toLowerCase()!==Sg.toLowerCase()||PA.has("noPortal")||(CA=`${EA}/${AA}`),!gp.isDefaultPortal()){const EA=gp.getPortalName();PA.has("portal")?PA.set("portal",EA):PA.append("portal",EA)}return SA=((EA,AA)=>{for(const[_A,CA]of AA.entries())!EA.has(_A)&&_g.includes(_A)&&EA.append(_A,CA);return EA})(SA,PA),SA.toString()&&(CA+=`?${SA.toString()}`),CA},wg=(EA,{urlPathObjParam:AA,infoParam:_A,optionsParam:CA},SA=!1)=>{let DA,TA,NA;if(!1===window.PCore.getBehaviorOverride("dynamicSemanticUrl"))return;if(SA)DA=AA,TA=_A,NA=CA;else{const{uiResources:_A,data:CA}=EA;({options:NA}=EA),DA=AA&&AA.pxURLPath&&cp(AA.pxURLPath)?vg(_A,CA,AA.pxURLPath):AA||vg(_A,CA),TA=gp.getEndPointInfo(DA.pxURLPath),DA.pxURLPath=TA.urlPath}const PA=xg(Cg,gp.getApplicationPath(),DA),{title:RA}=((EA,AA,_A)=>{if(EA=(EA=>{let AA=EA.split(" ");return AA=AA.map((EA=>EA.charAt(0).toUpperCase()+EA.slice(1))),AA.join(" ")})(EA=EA&&""!==EA?EA:gp.getApplicationName()),_A===`${Cg}/${AA}/`)return{title:EA};const CA=new URL(_A).pathname.replace(`${AA}/`,""),SA=CA.split("/");return/\d/.test(CA)?{title:`${EA} - ${SA[SA.length-1]}`}:{title:`${EA} - ${SA[0]}`}})(Tg,gp.getApplicationPath(),PA),bA=((EA,AA)=>(void 0!==EA&&(EA.options=AA),{stateObj:EA}))(TA,{...NA,title:RA});DA.historyAction===Eg?((EA,AA,_A)=>{try{window.history.pushState(EA,AA,_A),window.scrollTo(0,0)}catch(EA){throw new Error("Error- Unable to Add to Browser History")}})(bA,RA,PA):DA.historyAction===Ag&&((EA,AA,_A)=>{try{window.history.replaceState(EA,AA,_A)}catch(EA){throw new Error("Error- Unable to Replace Browser History")}})(bA,RA,PA)},Mg=EA=>{let AA=null;EA.directUrlUpdation&&(AA={historyAction:Eg,pxURLPath:""},AA.pxURLPath=EA.semanticURL),wg(EA,{urlPathObjParam:AA,infoParam:null,optionsParam:null},!1)},Lg=EA=>{Mg(EA)},Ug=EA=>{const AA={pxURLPath:EA};return xg(Cg,gp.getApplicationPath(),AA)},Fg=EA=>{const{uiResources:AA}=EA;Rg()&&(EA.directUrlUpdation||(EA=>{if(EA&&EA.root){const{root:AA}=EA,{resources:_A}=EA,{views:CA}=_A,SA=AA.config,DA=SA.type,TA=SA.name;if("VIEW"===DA.toUpperCase()){const EA=CA[TA];let AA=EA;Array.isArray(EA)&&EA.length>0&&([AA]=EA);const _A=AA.config;if(_A.type){const EA=_A.type;return!(!_A.urlPath||"PAGE"!==EA.toUpperCase())}}return!1}return!1})(AA))&&Mg(EA)},jg=EA=>{const AA={routeEndpoint:EA.routeEndpoint,requestType:EA.requestType,payload:EA.payload,routeKey:EA.routeKey,options:null};return EA.options&&(AA.options=EA.options),AA},Vg=(EA,AA,_A)=>{const{caseClassName:CA,workID:SA}=EA.payload,{containerName:DA,context:TA}=AA,{RemoteClassGroup:NA,RemoteSystemID:PA,name:RA}=q.getRemoteCase(CA),bA={...EA,headers:{RemoteSystemID:PA},className:CA,isTraditionalRemoteCase:!0,action:At,viewName:W,gadgetId:Rc.getUniqueGadgetId(),context:_A??TA,skipSemanticUrl:!0,insKey:`${NA?.toUpperCase()} ${SA}`,containerName:DA,name:RA};ph(g.showPage(bA))},kg=EA=>{const AA=(EA=>EA.state?EA.state.stateObj:null)(EA);AA&&(q.isTraditionalRemoteCase(AA.payload?.caseClassName)?Vg({...AA},AA.options):ph(g.showHistory(jg(AA))))},$g=()=>gp.getApplicationPath()!==dp(),Bg=EA=>{const{acName:AA,context:_A,defaultViewLabel:CA}=EA,SA=(EA=>{const AA=gp.getRoutingInfo(),_A=EA.split(" ").join(""),CA=EA.split(" ").join("-").toLowerCase(),SA=(EA=>{const AA=EA.replace(/(?=[A-Z][a-z])/g,"-").toLowerCase();return AA.startsWith("-")?AA.substring(1):AA})(EA);return AA?.routes[_A]?_A:AA?.routes[CA]?CA:AA?.routes[SA]?SA:EA})(CA);(EA=>{Sg=EA})(SA),gp.setDefaultRoute(SA);const DA=X(AA,_A),TA=_t(AA,_A),NA="true"===fp.getIsExtraCallRequiredForDefaultHome(),PA={historyAction:Ag,pxURLPath:""};let RA;const bA={acName:TA,context:DA,actionConfig:{context:DA}};if(NA||!NA&&$g()){const AA=(EA=>{if(EA.indexOf("?")>0){const[AA,_A]=EA.split("?"),CA=new URLSearchParams(_A),SA=new Map;for(const[EA,TA]of CA)"portal"!==EA&&"noPortal"!==EA&&"debug"!==EA&&SA.set(EA,TA);const DA=new URLSearchParams(SA).toString();return DA?`${AA}?${DA}`:AA}return EA})(lp(window.location.pathname+window.location.search));RA=gp.getEndPointInfo(AA),PA.pxURLPath=RA.urlPath,void 0!==RA.payload?.pageClass&&(RA.payload.pageClass=dh()?.getState()?.data?.app?.pyPortal?.classID);const _A="showHistory",CA={routeEndpoint:RA.routeEndpoint,requestType:RA.requestType,payload:RA.payload,options:bA,routeKey:RA.routeKey};q.isTraditionalRemoteCase(RA?.payload?.caseClassName)?Vg(CA,EA,bA.context):ph(g[_A](jg(CA)))}else RA=gp.getEndPointInfo(Sg),PA.pxURLPath="";wg(null,{urlPathObjParam:PA,infoParam:RA,optionsParam:bA},!0)},Gg=(EA,AA=!1)=>{var _A;Cg=EA.domain,!1===AA&&Rg()&&(_A=kg,window.addEventListener("popstate",(EA=>_A(EA))),window.onbeforeunload=()=>null),gp.init(EA,Sg)},Wg=EA=>{(EA=>{window.document.title=EA})(EA)};function Hg(EA){return`Minified Redux error #${EA}; visit https://redux.js.org/Errors?code=${EA} for the full message or use the non-minified dev environment for full errors. `}var qg="function"==typeof Symbol&&Symbol.observable||"@@observable",zg=()=>Math.random().toString(36).substring(7).split("").join("."),Yg={INIT:`@@redux/INIT${zg()}`,REPLACE:`@@redux/REPLACE${zg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zg()}`};function Kg(EA){if("object"!=typeof EA||null===EA)return!1;let AA=EA;for(;null!==Object.getPrototypeOf(AA);)AA=Object.getPrototypeOf(AA);return Object.getPrototypeOf(EA)===AA||null===Object.getPrototypeOf(EA)}function Xg(EA,AA,_A){if("function"!=typeof EA)throw new Error(Hg(2));if("function"==typeof AA&&"function"==typeof _A||"function"==typeof _A&&"function"==typeof arguments[3])throw new Error(Hg(0));if("function"==typeof AA&&void 0===_A&&(_A=AA,AA=void 0),void 0!==_A){if("function"!=typeof _A)throw new Error(Hg(1));return _A(Xg)(EA,AA)}let CA=EA,SA=AA,DA=new Map,TA=DA,NA=0,PA=!1;function RA(){TA===DA&&(TA=new Map,DA.forEach(((EA,AA)=>{TA.set(AA,EA)})))}function bA(){if(PA)throw new Error(Hg(3));return SA}function OA(EA){if("function"!=typeof EA)throw new Error(Hg(4));if(PA)throw new Error(Hg(5));let AA=!0;RA();const _A=NA++;return TA.set(_A,EA),function(){if(AA){if(PA)throw new Error(Hg(6));AA=!1,RA(),TA.delete(_A),DA=null}}}function vA(EA){if(!Kg(EA))throw new Error(Hg(7));if(void 0===EA.type)throw new Error(Hg(8));if("string"!=typeof EA.type)throw new Error(Hg(17));if(PA)throw new Error(Hg(9));try{PA=!0,SA=CA(SA,EA)}finally{PA=!1}return(DA=TA).forEach((EA=>{EA()})),EA}return vA({type:Yg.INIT}),{dispatch:vA,subscribe:OA,getState:bA,replaceReducer:function(EA){if("function"!=typeof EA)throw new Error(Hg(10));CA=EA,vA({type:Yg.REPLACE})},[qg]:function(){const EA=OA;return{subscribe(AA){if("object"!=typeof AA||null===AA)throw new Error(Hg(11));function _A(){const EA=AA;EA.next&&EA.next(bA())}return _A(),{unsubscribe:EA(_A)}},[qg](){return this}}}}}function Jg(EA){const AA=Object.keys(EA),_A={};for(let DA=0;DA<AA.length;DA++){const CA=AA[DA];"function"==typeof EA[CA]&&(_A[CA]=EA[CA])}const CA=Object.keys(_A);let SA;try{!function(EA){Object.keys(EA).forEach((AA=>{const _A=EA[AA];if(void 0===_A(void 0,{type:Yg.INIT}))throw new Error(Hg(12));if(void 0===_A(void 0,{type:Yg.PROBE_UNKNOWN_ACTION()}))throw new Error(Hg(13))}))}(_A)}catch(EA){SA=EA}return function(EA={},AA){if(SA)throw SA;let DA=!1;const TA={};for(let SA=0;SA<CA.length;SA++){const NA=CA[SA],PA=_A[NA],RA=EA[NA],bA=PA(RA,AA);if(void 0===bA)throw AA&&AA.type,new Error(Hg(14));TA[NA]=bA,DA=DA||bA!==RA}return DA=DA||CA.length!==Object.keys(EA).length,DA?TA:EA}}function Qg(...EA){return 0===EA.length?EA=>EA:1===EA.length?EA[0]:EA.reduce(((EA,AA)=>(..._A)=>EA(AA(..._A))))}var Zg=function(EA){function AA(AA,_A){return EA.call(this)||this}return Go(AA,EA),AA.prototype.schedule=function(EA,AA){return void 0===AA&&(AA=0),this},AA}(ri),ef={setInterval:function(EA,AA){for(var _A=[],CA=2;CA<arguments.length;CA++)_A[CA-2]=arguments[CA];var SA=ef.delegate;return(null==SA?void 0:SA.setInterval)?SA.setInterval.apply(SA,Yo([EA,AA],zo(_A))):setInterval.apply(void 0,Yo([EA,AA],zo(_A)))},clearInterval:function(EA){var AA=ef.delegate;return((null==AA?void 0:AA.clearInterval)||clearInterval)(EA)},delegate:void 0},tf=function(EA){function AA(AA,_A){var CA=EA.call(this,AA,_A)||this;return CA.scheduler=AA,CA.work=_A,CA.pending=!1,CA}return Go(AA,EA),AA.prototype.schedule=function(EA,AA){var _A;if(void 0===AA&&(AA=0),this.closed)return this;this.state=EA;var CA=this.id,SA=this.scheduler;return null!=CA&&(this.id=this.recycleAsyncId(SA,CA,AA)),this.pending=!0,this.delay=AA,this.id=null!==(_A=this.id)&&void 0!==_A?_A:this.requestAsyncId(SA,this.id,AA),this},AA.prototype.requestAsyncId=function(EA,AA,_A){return void 0===_A&&(_A=0),ef.setInterval(EA.flush.bind(EA,this),_A)},AA.prototype.recycleAsyncId=function(EA,AA,_A){if(void 0===_A&&(_A=0),null!=_A&&this.delay===_A&&!1===this.pending)return AA;null!=AA&&ef.clearInterval(AA)},AA.prototype.execute=function(EA,AA){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var _A=this._execute(EA,AA);if(_A)return _A;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AA.prototype._execute=function(EA,AA){var _A,CA=!1;try{this.work(EA)}catch(EA){CA=!0,_A=EA||new Error("Scheduled action threw falsy error")}if(CA)return this.unsubscribe(),_A},AA.prototype.unsubscribe=function(){if(!this.closed){var AA=this.id,_A=this.scheduler,CA=_A.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ni(CA,this),null!=AA&&(this.id=this.recycleAsyncId(_A,AA,null)),this.delay=null,EA.prototype.unsubscribe.call(this)}},AA}(Zg),nf=function(EA){function AA(AA,_A){var CA=EA.call(this,AA,_A)||this;return CA.scheduler=AA,CA.work=_A,CA}return Go(AA,EA),AA.prototype.schedule=function(AA,_A){return void 0===_A&&(_A=0),_A>0?EA.prototype.schedule.call(this,AA,_A):(this.delay=_A,this.state=AA,this.scheduler.flush(this),this)},AA.prototype.execute=function(AA,_A){return _A>0||this.closed?EA.prototype.execute.call(this,AA,_A):this._execute(AA,_A)},AA.prototype.requestAsyncId=function(AA,_A,CA){return void 0===CA&&(CA=0),null!=CA&&CA>0||null==CA&&this.delay>0?EA.prototype.requestAsyncId.call(this,AA,_A,CA):(AA.flush(this),0)},AA}(tf),rf={now:function(){return(rf.delegate||Date).now()},delegate:void 0},sf=function(){function EA(AA,_A){void 0===_A&&(_A=EA.now),this.schedulerActionCtor=AA,this.now=_A}return EA.prototype.schedule=function(EA,AA,_A){return void 0===AA&&(AA=0),new this.schedulerActionCtor(this,EA).schedule(_A,AA)},EA.now=rf.now,EA}(),af=function(EA){function AA(AA,_A){void 0===_A&&(_A=sf.now);var CA=EA.call(this,AA,_A)||this;return CA.actions=[],CA._active=!1,CA}return Go(AA,EA),AA.prototype.flush=function(EA){var AA=this.actions;if(this._active)AA.push(EA);else{var _A;this._active=!0;do{if(_A=EA.execute(EA.state,EA.delay))break}while(EA=AA.shift());if(this._active=!1,_A){for(;EA=AA.shift();)EA.unsubscribe();throw _A}}},AA}(sf),of=new(function(EA){function AA(){return null!==EA&&EA.apply(this,arguments)||this}return Go(AA,EA),AA}(af))(nf),cf=ko((function(EA){return function(){EA(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),lf=function(EA){function AA(){var AA=EA.call(this)||this;return AA.closed=!1,AA.currentObservers=null,AA.observers=[],AA.isStopped=!1,AA.hasError=!1,AA.thrownError=null,AA}return Go(AA,EA),AA.prototype.lift=function(EA){var AA=new uf(this,this);return AA.operator=EA,AA},AA.prototype._throwIfClosed=function(){if(this.closed)throw new cf},AA.prototype.next=function(EA){var AA=this;gi((function(){var _A,CA;if(AA._throwIfClosed(),!AA.isStopped){AA.currentObservers||(AA.currentObservers=Array.from(AA.observers));try{for(var SA=qo(AA.currentObservers),DA=SA.next();!DA.done;DA=SA.next())DA.value.next(EA)}catch(EA){_A={error:EA}}finally{try{DA&&!DA.done&&(CA=SA.return)&&CA.call(SA)}finally{if(_A)throw _A.error}}}}))},AA.prototype.error=function(EA){var AA=this;gi((function(){if(AA._throwIfClosed(),!AA.isStopped){AA.hasError=AA.isStopped=!0,AA.thrownError=EA;for(var _A=AA.observers;_A.length;)_A.shift().error(EA)}}))},AA.prototype.complete=function(){var EA=this;gi((function(){if(EA._throwIfClosed(),!EA.isStopped){EA.isStopped=!0;for(var AA=EA.observers;AA.length;)AA.shift().complete()}}))},AA.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(AA.prototype,"observed",{get:function(){var EA;return(null===(EA=this.observers)||void 0===EA?void 0:EA.length)>0},enumerable:!1,configurable:!0}),AA.prototype._trySubscribe=function(AA){return this._throwIfClosed(),EA.prototype._trySubscribe.call(this,AA)},AA.prototype._subscribe=function(EA){return this._throwIfClosed(),this._checkFinalizedStatuses(EA),this._innerSubscribe(EA)},AA.prototype._innerSubscribe=function(EA){var AA=this,_A=this,CA=_A.hasError,SA=_A.isStopped,DA=_A.observers;return CA||SA?si:(this.currentObservers=null,DA.push(EA),new ri((function(){AA.currentObservers=null,ni(DA,EA)})))},AA.prototype._checkFinalizedStatuses=function(EA){var AA=this,_A=AA.hasError,CA=AA.thrownError,SA=AA.isStopped;_A?EA.error(CA):SA&&EA.complete()},AA.prototype.asObservable=function(){var EA=new Pi;return EA.source=this,EA},AA.create=function(EA,AA){return new uf(EA,AA)},AA}(Pi),uf=function(EA){function AA(AA,_A){var CA=EA.call(this)||this;return CA.destination=AA,CA.source=_A,CA}return Go(AA,EA),AA.prototype.next=function(EA){var AA,_A;null===(_A=null===(AA=this.destination)||void 0===AA?void 0:AA.next)||void 0===_A||_A.call(AA,EA)},AA.prototype.error=function(EA){var AA,_A;null===(_A=null===(AA=this.destination)||void 0===AA?void 0:AA.error)||void 0===_A||_A.call(AA,EA)},AA.prototype.complete=function(){var EA,AA;null===(AA=null===(EA=this.destination)||void 0===EA?void 0:EA.complete)||void 0===AA||AA.call(EA)},AA.prototype._subscribe=function(EA){var AA,_A;return null!==(_A=null===(AA=this.source)||void 0===AA?void 0:AA.subscribe(EA))&&void 0!==_A?_A:si},AA}(lf),df=function(EA,AA){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(EA,AA){EA.__proto__=AA}||function(EA,AA){for(var _A in AA)Object.prototype.hasOwnProperty.call(AA,_A)&&(EA[_A]=AA[_A])},df(EA,AA)};Object.create,Object.create;var pf=function(EA){function AA(AA,_A){var CA=EA.call(this,(function(EA){var AA=CA.__notifier.subscribe(EA);return AA&&!AA.closed&&EA.next(CA.value),AA}))||this;return CA.__notifier=new lf,CA.value=_A,AA.subscribe((function(EA){EA!==CA.value&&(CA.value=EA,CA.__notifier.next(EA))})),CA}return function(EA,AA){if("function"!=typeof AA&&null!==AA)throw new TypeError("Class extends value "+String(AA)+" is not a constructor or null");function _A(){this.constructor=EA}df(EA,AA),EA.prototype=null===AA?Object.create(AA):(_A.prototype=AA.prototype,new _A)}(AA,EA),AA}(Pi),hf=s(52),gf=Symbol.for("immer-nothing"),ff=Symbol.for("immer-draftable"),mf=Symbol.for("immer-state");function yf(EA,...AA){throw new Error(`[Immer] minified error nr: ${EA}. Full error at: https://bit.ly/3cXEKWf`)}var If=Object.getPrototypeOf;function Ef(EA){return!!EA&&!!EA[mf]}function Af(EA){return!!EA&&(Cf(EA)||Array.isArray(EA)||!!EA[ff]||!!EA.constructor?.[ff]||Rf(EA)||Df(EA))}var _f=Object.prototype.constructor.toString();function Cf(EA){if(!EA||"object"!=typeof EA)return!1;const AA=If(EA);if(null===AA)return!0;const _A=Object.hasOwnProperty.call(AA,"constructor")&&AA.constructor;return _A===Object||"function"==typeof _A&&Function.toString.call(_A)===_f}function Sf(EA,AA){0===Tf(EA)?Reflect.ownKeys(EA).forEach((_A=>{AA(_A,EA[_A],EA)})):EA.forEach(((_A,CA)=>AA(CA,_A,EA)))}function Tf(EA){const AA=EA[mf];return AA?AA.type_:Array.isArray(EA)?1:Rf(EA)?2:Df(EA)?3:0}function Nf(EA,AA){return 2===Tf(EA)?EA.has(AA):Object.prototype.hasOwnProperty.call(EA,AA)}function Pf(EA,AA,_A){const CA=Tf(EA);2===CA?EA.set(AA,_A):3===CA?EA.add(_A):EA[AA]=_A}function Rf(EA){return EA instanceof Map}function Df(EA){return EA instanceof Set}function bf(EA){return EA.copy_||EA.base_}function Of(EA,AA){if(Rf(EA))return new Map(EA);if(Df(EA))return new Set(EA);if(Array.isArray(EA))return Array.prototype.slice.call(EA);const _A=Cf(EA);if(!0===AA||"class_only"===AA&&!_A){const AA=Object.getOwnPropertyDescriptors(EA);delete AA[mf];let _A=Reflect.ownKeys(AA);for(let CA=0;CA<_A.length;CA++){const SA=_A[CA],DA=AA[SA];!1===DA.writable&&(DA.writable=!0,DA.configurable=!0),(DA.get||DA.set)&&(AA[SA]={configurable:!0,writable:!0,enumerable:DA.enumerable,value:EA[SA]})}return Object.create(If(EA),AA)}{const AA=If(EA);if(null!==AA&&_A)return{...EA};const CA=Object.create(AA);return Object.assign(CA,EA)}}function vf(EA,AA=!1){return wf(EA)||Ef(EA)||!Af(EA)||(Tf(EA)>1&&(EA.set=EA.add=EA.clear=EA.delete=xf),Object.freeze(EA),AA&&Object.entries(EA).forEach((([EA,AA])=>vf(AA,!0)))),EA}function xf(){yf(2)}function wf(EA){return Object.isFrozen(EA)}var Mf,Lf={};function Uf(EA){const AA=Lf[EA];return AA||yf(0),AA}function Ff(){return Mf}function jf(EA,AA){AA&&(Uf("Patches"),EA.patches_=[],EA.inversePatches_=[],EA.patchListener_=AA)}function Vf(EA){kf(EA),EA.drafts_.forEach(Bf),EA.drafts_=null}function kf(EA){EA===Mf&&(Mf=EA.parent_)}function $f(EA){return Mf={drafts_:[],parent_:Mf,immer_:EA,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bf(EA){const AA=EA[mf];0===AA.type_||1===AA.type_?AA.revoke_():AA.revoked_=!0}function Gf(EA,AA){AA.unfinalizedDrafts_=AA.drafts_.length;const _A=AA.drafts_[0];return void 0!==EA&&EA!==_A?(_A[mf].modified_&&(Vf(AA),yf(4)),Af(EA)&&(EA=Wf(AA,EA),AA.parent_||qf(AA,EA)),AA.patches_&&Uf("Patches").generateReplacementPatches_(_A[mf].base_,EA,AA.patches_,AA.inversePatches_)):EA=Wf(AA,_A,[]),Vf(AA),AA.patches_&&AA.patchListener_(AA.patches_,AA.inversePatches_),EA!==gf?EA:void 0}function Wf(EA,AA,_A){if(wf(AA))return AA;const CA=AA[mf];if(!CA)return Sf(AA,((SA,DA)=>Hf(EA,CA,AA,SA,DA,_A))),AA;if(CA.scope_!==EA)return AA;if(!CA.modified_)return qf(EA,CA.base_,!0),CA.base_;if(!CA.finalized_){CA.finalized_=!0,CA.scope_.unfinalizedDrafts_--;const AA=CA.copy_;let SA=AA,DA=!1;3===CA.type_&&(SA=new Set(AA),AA.clear(),DA=!0),Sf(SA,((SA,TA)=>Hf(EA,CA,AA,SA,TA,_A,DA))),qf(EA,AA,!1),_A&&EA.patches_&&Uf("Patches").generatePatches_(CA,_A,EA.patches_,EA.inversePatches_)}return CA.copy_}function Hf(EA,AA,_A,CA,SA,DA,TA){if(Ef(SA)){const TA=Wf(EA,SA,DA&&AA&&3!==AA.type_&&!Nf(AA.assigned_,CA)?DA.concat(CA):void 0);if(Pf(_A,CA,TA),!Ef(TA))return;EA.canAutoFreeze_=!1}else TA&&_A.add(SA);if(Af(SA)&&!wf(SA)){if(!EA.immer_.autoFreeze_&&EA.unfinalizedDrafts_<1)return;Wf(EA,SA),AA&&AA.scope_.parent_||"symbol"==typeof CA||!Object.prototype.propertyIsEnumerable.call(_A,CA)||qf(EA,SA)}}function qf(EA,AA,_A=!1){!EA.parent_&&EA.immer_.autoFreeze_&&EA.canAutoFreeze_&&vf(AA,_A)}var zf={get(EA,AA){if(AA===mf)return EA;const _A=bf(EA);if(!Nf(_A,AA))return function(EA,AA,_A){const CA=Xf(AA,_A);return CA?"value"in CA?CA.value:CA.get?.call(EA.draft_):void 0}(EA,_A,AA);const CA=_A[AA];return EA.finalized_||!Af(CA)?CA:CA===Kf(EA.base_,AA)?(Qf(EA),EA.copy_[AA]=Zf(CA,EA)):CA},has:(EA,AA)=>AA in bf(EA),ownKeys:EA=>Reflect.ownKeys(bf(EA)),set(EA,AA,_A){const CA=Xf(bf(EA),AA);if(CA?.set)return CA.set.call(EA.draft_,_A),!0;if(!EA.modified_){const CA=Kf(bf(EA),AA),TA=CA?.[mf];if(TA&&TA.base_===_A)return EA.copy_[AA]=_A,EA.assigned_[AA]=!1,!0;if(((SA=_A)===(DA=CA)?0!==SA||1/SA==1/DA:SA!=SA&&DA!=DA)&&(void 0!==_A||Nf(EA.base_,AA)))return!0;Qf(EA),Jf(EA)}var SA,DA;return EA.copy_[AA]===_A&&(void 0!==_A||AA in EA.copy_)||Number.isNaN(_A)&&Number.isNaN(EA.copy_[AA])||(EA.copy_[AA]=_A,EA.assigned_[AA]=!0),!0},deleteProperty:(EA,AA)=>(void 0!==Kf(EA.base_,AA)||AA in EA.base_?(EA.assigned_[AA]=!1,Qf(EA),Jf(EA)):delete EA.assigned_[AA],EA.copy_&&delete EA.copy_[AA],!0),getOwnPropertyDescriptor(EA,AA){const _A=bf(EA),CA=Reflect.getOwnPropertyDescriptor(_A,AA);return CA?{writable:!0,configurable:1!==EA.type_||"length"!==AA,enumerable:CA.enumerable,value:_A[AA]}:CA},defineProperty(){yf(11)},getPrototypeOf:EA=>If(EA.base_),setPrototypeOf(){yf(12)}},Yf={};function Kf(EA,AA){const _A=EA[mf];return(_A?bf(_A):EA)[AA]}function Xf(EA,AA){if(!(AA in EA))return;let _A=If(EA);for(;_A;){const EA=Object.getOwnPropertyDescriptor(_A,AA);if(EA)return EA;_A=If(_A)}}function Jf(EA){EA.modified_||(EA.modified_=!0,EA.parent_&&Jf(EA.parent_))}function Qf(EA){EA.copy_||(EA.copy_=Of(EA.base_,EA.scope_.immer_.useStrictShallowCopy_))}function Zf(EA,AA){const _A=Rf(EA)?Uf("MapSet").proxyMap_(EA,AA):Df(EA)?Uf("MapSet").proxySet_(EA,AA):function(EA,AA){const _A=Array.isArray(EA),CA={type_:_A?1:0,scope_:AA?AA.scope_:Ff(),modified_:!1,finalized_:!1,assigned_:{},parent_:AA,base_:EA,draft_:null,copy_:null,revoke_:null,isManual_:!1};let SA=CA,DA=zf;_A&&(SA=[CA],DA=Yf);const{revoke:TA,proxy:NA}=Proxy.revocable(SA,DA);return CA.draft_=NA,CA.revoke_=TA,NA}(EA,AA);return(AA?AA.scope_:Ff()).drafts_.push(_A),_A}function em(EA){if(!Af(EA)||wf(EA))return EA;const AA=EA[mf];let _A;if(AA){if(!AA.modified_)return AA.base_;AA.finalized_=!0,_A=Of(EA,AA.scope_.immer_.useStrictShallowCopy_)}else _A=Of(EA,!0);return Sf(_A,((EA,AA)=>{Pf(_A,EA,em(AA))})),AA&&(AA.finalized_=!1),_A}Sf(zf,((EA,AA)=>{Yf[EA]=function(){return arguments[0]=arguments[0][0],AA.apply(this,arguments)}})),Yf.deleteProperty=function(EA,AA){return Yf.set.call(this,EA,AA,void 0)},Yf.set=function(EA,AA,_A){return zf.set.call(this,EA[0],AA,_A,EA[0])};var tm=new class{constructor(EA){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(EA,AA,_A)=>{if("function"==typeof EA&&"function"!=typeof AA){const _A=AA;AA=EA;const CA=this;return function(EA=_A,...SA){return CA.produce(EA,(EA=>AA.call(this,EA,...SA)))}}let CA;if("function"!=typeof AA&&yf(6),void 0!==_A&&"function"!=typeof _A&&yf(7),Af(EA)){const SA=$f(this),DA=Zf(EA,void 0);let TA=!0;try{CA=AA(DA),TA=!1}finally{TA?Vf(SA):kf(SA)}return jf(SA,_A),Gf(CA,SA)}if(!EA||"object"!=typeof EA){if(CA=AA(EA),void 0===CA&&(CA=EA),CA===gf&&(CA=void 0),this.autoFreeze_&&vf(CA,!0),_A){const AA=[],SA=[];Uf("Patches").generateReplacementPatches_(EA,CA,AA,SA),_A(AA,SA)}return CA}yf(1)},this.produceWithPatches=(EA,AA)=>{if("function"==typeof EA)return(AA,..._A)=>this.produceWithPatches(AA,(AA=>EA(AA,..._A)));let _A,CA;return[this.produce(EA,AA,((EA,AA)=>{_A=EA,CA=AA})),_A,CA]},"boolean"==typeof EA?.autoFreeze&&this.setAutoFreeze(EA.autoFreeze),"boolean"==typeof EA?.useStrictShallowCopy&&this.setUseStrictShallowCopy(EA.useStrictShallowCopy)}createDraft(EA){Af(EA)||yf(8),Ef(EA)&&(EA=function(EA){return Ef(EA)||yf(10),em(EA)}(EA));const AA=$f(this),_A=Zf(EA,void 0);return _A[mf].isManual_=!0,kf(AA),_A}finishDraft(EA,AA){const _A=EA&&EA[mf];_A&&_A.isManual_||yf(9);const{scope_:CA}=_A;return jf(CA,AA),Gf(void 0,CA)}setAutoFreeze(EA){this.autoFreeze_=EA}setUseStrictShallowCopy(EA){this.useStrictShallowCopy_=EA}applyPatches(EA,AA){let _A;for(_A=AA.length-1;_A>=0;_A--){const CA=AA[_A];if(0===CA.path.length&&"replace"===CA.op){EA=CA.value;break}}_A>-1&&(AA=AA.slice(_A+1));const CA=Uf("Patches").applyPatches_;return Ef(EA)?CA(EA,AA):this.produce(EA,(EA=>CA(EA,AA)))}},nm=tm.produce;tm.produceWithPatches.bind(tm),tm.setAutoFreeze.bind(tm),tm.setUseStrictShallowCopy.bind(tm),tm.applyPatches.bind(tm),tm.createDraft.bind(tm),tm.finishDraft.bind(tm);const rm=(EA,AA)=>{const{data:{shared:_A={}}={},context:CA}=AA;((EA,AA)=>{Au.updateDataPageStore(AA),Object.keys(AA).forEach((_A=>{Dh.getIn(EA,[G.SHARED,_A])?Object.keys(AA[_A]).forEach((CA=>{Dh.setIn(EA,[G.SHARED,_A,CA],AA[_A][CA])})):Dh.setIn(EA,[G.SHARED,_A],AA[_A])}))})(EA,_A),CA&&Dh.deleteIn(EA,[CA,"shared"])},sm=(EA,AA,_A=!1)=>{const{context:CA,caseViewMode:SA=(_A?void 0:G.PERFORM_MODE),containerName:DA}=AA;DA!==od.WORKAREA&&SA&&Dh.setIn(EA,[CA,"context_data","caseViewMode"],SA)},am=(EA,AA)=>{const{context:_A}=AA;Dh.setIn(EA,[_A,"context_data","actionType"],AA.actionType),Dh.setIn(EA,[_A,"context_data","assignmentID"],AA.assignmentID)},om=(EA,AA=[])=>{AA.forEach((AA=>Dh.deleteIn(EA,AA)))},im=(EA,AA=[])=>{AA.forEach((AA=>Dh.deleteIn(EA,AA)))},cm=(EA,AA=[])=>{AA.forEach((AA=>{Dh.deleteIn(EA,AA)}))},lm=(EA,AA,_A={})=>{const{deleteAssignmentSpecificResources:CA=!0,doDeleteConfirmationDetails:SA=!0}=_A;Dh.deleteIn(EA,[AA,"nextAssignmentInfo"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"availableActions"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"availableProcesses"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"activeActionID"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"assignments"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"childCases"]),SA&&(Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"confirmationLinks"]),Dh.deleteIn(EA,[AA,"caseMessages"])),CA&&(Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"actionButtons"]),Dh.deleteIn(EA,[AA,G.CASE_INFO.CASE_INFO,"navigation"]))},um=(EA,AA)=>nm(EA||{},(EA=>{switch(AA.type){case Re:{if(!AA.payload.data||EA[AA.payload.context])return EA;AA.payload.doDeleteCaseSummary&&lm(EA,AA.payload.context);const{target:_A}=AA.payload;return!_A||-1===_A.indexOf(G.WORKAREA)&&-1===_A.indexOf(G.MODAL)?EA[AA.payload.containerItemID]=AA.payload.data:EA[AA.payload.context]=AA.payload.data,sm(EA,AA.payload),am(EA,AA.payload),rm(EA,AA.payload),((EA,AA)=>{const{context:_A}=AA;Dh.deleteIn(EA,[_A,"context_data","blocking_action_counter"]),Dh.deleteIn(EA,[_A,"context_data","deferred_action_queue"])})(EA,AA.payload),EA}case Fe:{AA.payload.doDeleteCaseSummary&&lm(EA,AA.payload.context,{deleteAssignmentSpecificResources:AA.payload.deleteAssignmentSpecificResources});const{target:_A,propertiesToReplace:CA=[]}=AA.payload;return!_A||-1===_A.indexOf(G.WORKAREA)&&-1===_A.indexOf(G.MODAL)?EA[AA.payload.containerItemID]=Ch(EA[AA.payload.containerItemID],AA.payload.data,{propertiesToReplace:[...CA]}):EA[AA.payload.context]=Ch(EA[AA.payload.context],AA.payload.data,{propertiesToReplace:[...CA]}),(AA.payload.actionType||AA.payload.assignmentID)&&am(EA,AA.payload),sm(EA,AA.payload),rm(EA,AA.payload),im(EA,AA.payload.suggestionContexts),EA}case De:{const{childContainersContexts:_A=[]}=AA.payload;return((EA,AA)=>{const{containerItemID:_A,context:CA,deleteContext:SA}=AA;SA&&Dh.deleteIn(EA,[CA]),Dh.deleteIn(EA,[_A])})(EA,AA.payload),cm(EA,_A),om(EA,AA.payload.transientItems),im(EA,AA.payload.suggestionContexts),EA}case Pe:{const{containerItems:_A}=AA.payload;return Array.isArray(_A)?_A.forEach((AA=>{Dh.deleteIn(EA,[AA])})):Dh.deleteIn(EA,[_A]),EA}case je:{const{context:_A,contextToBeRemoved:CA,data:SA,childContainersContextsToBeRemoved:DA}=AA.payload;return lm(EA,AA.payload.context),sm(EA,AA.payload),EA[_A]=Ch(EA[_A],EA[CA]),EA[_A]=Ch(EA[_A],SA),Dh.deleteIn(EA,[CA]),cm(EA,DA),rm(EA,AA.payload),EA}case Ve:{const{payload:{context:_A,pulseReplace:CA=!0,childContainersContexts:SA=[]}}=AA;let{payload:{data:DA}}=AA;const TA=Dh.getIn(EA[_A],"pulse");let NA=Dh.getIn(EA[_A],"OperatorID"),PA=Dh.getIn(EA[_A],"pxRequestor");return PA&&DA.pxRequestor&&(PA=Dh.mergeDeep(PA,DA.pxRequestor)),NA&&DA.OperatorID&&(NA=Dh.mergeDeep(NA,DA.OperatorID)),!CA&&TA&&(DA=Sh(DA,"pulse",TA),DA=Sh(DA,"OperatorID",NA),DA=Sh(DA,"pxRequestor",PA)),Dh.setIn(EA,_A,DA),sm(EA,AA.payload),rm(EA,AA.payload),cm(EA,SA),om(EA,AA.payload.transientItems),im(EA,AA.payload.suggestionContexts),EA}case lt:{const{context:_A,doDeleteConfirmationDetails:CA=!0}=AA.payload;return lm(EA,_A,{doDeleteConfirmationDetails:CA}),EA}case be:{const{transientItemID:_A,data:CA}=AA.payload;return Dh.setIn(EA,_A,CA)}case ve:case xe:{const{transientItems:_A}=AA.payload;return _A.forEach((AA=>Dh.deleteIn(EA,AA))),EA}case Oe:case we:{const{transientItemID:_A,data:CA}=AA.payload;return Ch(Dh.getIn(EA,_A),CA),EA}case Me:{const{transientItemID:_A,data:CA}=AA.payload;for(const AA in CA)Object.prototype.hasOwnProperty.call(CA,AA)&&Dh.deleteIn(EA,[_A,AA]);return EA}case Le:{const{transientItemID:_A,data:CA}=AA.payload;return Dh.deleteIn(EA,_A),Dh.setIn(EA,_A,CA)}case he:{const{key:_A,value:CA}=AA.payload;return Dh.setIn(EA,`${G.SHARED}.${_A}`,CA),EA}case Be:{const{context:_A,data:CA}=AA.payload;return Dh.setIn(EA,_A,CA)}default:return EA}})),dm=(EA,AA)=>nm(EA,(EA=>{switch(AA.type){case Ae:{const{propertiesToReplace:_A=[]}=AA.payload;return EA[AA.payload.context]=Ch(EA[AA.payload.context],AA.payload.data,{isArrayDeepMerge:AA.payload.isArrayDeepMerge,propertiesToReplace:[..._A]}),sm(EA,AA.payload,!0),rm(EA,AA.payload),EA}case re:{const{context:_A,reference:CA,value:SA,isArrayDeepMerge:DA}=AA.payload;return Sh(EA[_A],CA,SA,{isArrayDeepMerge:DA}),EA}case se:{const{context:_A,reference:CA,value:SA}=AA.payload;return Th(EA[_A],CA,SA),EA}case _e:return Ah(EA[AA.payload.context],AA.payload.reference),EA;case de:return Dh.setIn(EA[AA.payload.context],"context_data.isLoading",!0),EA;case pe:return Dh.setIn(EA[AA.payload.context],"context_data.isLoading",!1),EA;case ot:{const{data:_A}=AA.payload;return rm(EA,{data:{shared:_A}}),EA}case it:{const{dataPagesToBeRemoved:_A=[]}=AA.payload;return _A.forEach((AA=>{const{dataPageName:_A,dataPageNameWithHash:CA}=AA;Dh.deleteIn(EA.shared,[_A,CA]);const SA=Dh.getIn(EA.shared,[_A]);SA&&0===Object.keys(SA).length&&Dh.deleteIn(EA.shared,[_A])})),EA}case ut:{const _A=Dh.getIn(EA[AA.payload.context].context_data,"blocking_action_counter",0);return AA.payload.isInitiateBlockingAction?Dh.setIn(EA[AA.payload.context].context_data,"blocking_action_counter",_A+1):Dh.setIn(EA[AA.payload.context].context_data,"blocking_action_counter",_A-1),EA}default:return EA}})),pm=/\[(\d+)\]$/gi,hm=/(\d+)/gi,gm=/\[.\]$/gi,fm=(EA,AA,_A,CA=[G.CONTEXT_DATA,G.CASE_INFO.CASE_INFO,G.CONTENT])=>{const SA=Dh.getIn(AA,CA);if(SA){const AA=er(SA,[],[]);for(const SA of AA)Dh.setIn(EA[_A],[...CA,...SA],{})}},mm=(EA,AA,_A,CA)=>{const{property:SA,pageReference:DA,category:TA,type:NA}=CA.payload,PA=Dh.getIn(EA[AA],_A);if(PA&&TA===G.CASEMESSAGES)Dh.setIn(EA[AA],zn(SA,DA,TA),"");else if(PA&&PA.length>0&&Array.isArray(PA)){const CA=PA.filter((EA=>EA.type!==NA));_A&&_A.length>0&&Dh.setIn(EA[AA],zn(SA,DA,TA),CA)}},ym=(EA,AA,_A)=>{_A.forEach((_A=>{((EA,AA,_A)=>{const CA=_A[G.ERROR_FIELD_IN_PAGE].slice(1),SA=_A[G.ERROR_IN_PAGE_IDENTIFIER].slice(1);if(SA){let DA=CA?`caseInfo.content.${CA}`:"caseInfo.content";DA=DA.replace(/\(/g,"[").replace(/\)/g,"]");const TA=zn(SA,DA,G.PROPERTY),NA=Dh.getIn(EA[AA],`${DA}.classID`),PA=Vp(SA,NA),RA={type:B.MESSAGES.MESSAGES_TYPE_ERROR,message:_A.localizedValue,...PA?.label&&{fieldLabel:PA.label}},bA=Dh.getIn(EA[AA],TA,[]);if(Dh.isContains(bA,RA))return;Dh.setIn(EA[AA],TA,[...bA,RA])}})(EA,AA,_A)}))};function Im(EA,AA){const{err:_A,formFields:CA}=AA.payload;let{context:SA}=AA.payload;const{fieldErrors:DA,pageErrors:TA}=Fc(_A.errorDetails,CA);if(Dh.setIn(EA,[SA,...qn.FIELD_MESSAGES_PATH],{}),Dh.setIn(EA,[SA,...qn.PAGE_MESSAGES_PATH],[]),DA.forEach((AA=>{if(AA[G.ERROR_FIELD_IN_PAGE]){const _A=AA[G.ERROR_FIELD_IN_PAGE].slice(1);if(_A){const AA=function(EA){let AA=null;const _A=EA.lastIndexOf(".");return _A<0?null:(AA=EA.substring(0,_A),AA?`caseInfo.content.${AA}`.replace(/\(/g,"[").replace(/\)/g,"]"):AA)}(_A);if(!AA)return!1;const CA=_A.substring(_A.lastIndexOf(".")+1),DA=zn(CA,AA,G.PROPERTY);Dh.setIn(EA,[SA,...DA],[])}}})),DA.length>0&&ym(EA,SA,DA),TA.length>0){const AA=(EA=>{const AA=[];return EA.forEach((EA=>{AA.push({type:B.MESSAGES.MESSAGES_TYPE_ERROR,message:EA.localizedValue})})),AA})(TA);EA[SA]||(SA=G.APP.APP),Dh.setIn(EA,[SA,...qn.PAGE_MESSAGES_PATH],AA)}else SA.includes&&SA.includes(od.WORKAREA)&&(SA=K(SA)),Dh.deleteIn(EA,[SA,...qn.PAGE_MESSAGES_PATH]);return EA}const Em=(EA,AA)=>nm(EA||Rm().data,(EA=>{switch(AA.type){case Te:return AA.payload.err.errorDetails&&("Validation fail"===AA.payload.err.errorClassification||(AA.payload.err?.displayButtonsOnErrors?.length??0)>0)?Im(EA,AA):EA;case Fe:{const{context:_A}=AA.payload,CA=[_A,...qn.FIELD_MESSAGES_PATH],SA=[_A,...qn.PAGE_MESSAGES_PATH];if(Dh.setIn(EA,CA,{}),Dh.setIn(EA,SA,[]),_A&&_A.includes(od.WORKAREA)){const AA=[te(_A),...qn.PAGE_MESSAGES_PATH];Dh.setIn(EA,AA,[])}return EA}case rt:{const{isListEntry:_A}=AA.payload;return _A?((EA,AA)=>{const{property:_A,pageReference:CA,category:SA,isListEntry:DA,deletingIndex:TA,stateObj:NA}=AA.payload,{context:PA}=AA.payload;if(NA)return fm(EA,NA,PA),EA;const RA=zn(_A,CA,SA,DA);if(Number.isInteger(TA)){Dh.deleteIn(EA[PA],RA);const AA=RA.slice(0,RA.length-1);let _A=Dh.getIn(EA[PA],AA)||{};const CA=Object.keys(_A);_A=CA.map((EA=>_A[EA])),_A.forEach(((_A,SA)=>{const DA=CA[SA].match(pm);if(DA?.length){const NA=parseInt(DA[0].match(hm)[0],10);NA>TA&&(Dh.deleteIn(EA[PA],AA.concat(CA[SA])),Dh.setIn(EA[PA],AA.concat(CA[SA].replace(gm,`[${NA-1}]`)),_A))}}))}else Dh.setIn(EA[PA],RA,{});return EA})(EA,AA):((EA,AA)=>{const{property:_A,pageReference:CA,category:SA,isListEntry:DA,stateObj:TA}=AA.payload,{context:NA}=AA.payload;let PA=NA;if(TA)return fm(EA,TA,NA),EA;const RA=zn(_A,CA,SA,DA);return SA===G.PAGE&&NA?.includes(od.WORKAREA)&&(PA=K(NA)),mm(EA,PA,RA,AA),mm(EA,NA,RA,AA),EA})(EA,AA)}case nt:{const{messages:_A,property:CA,pageReference:SA,context:DA,category:TA}=AA.payload,NA=zn(CA,SA,TA);return _A&&_A.length>0&&Array.isArray(_A)&&NA&&NA.length>0&&Dh.setIn(EA[DA],zn(CA,SA,TA),_A),EA}default:return EA}})),Am=(EA,AA)=>nm(EA,(EA=>{if(AA.type===ct){const{instruction:_A,actions:CA,context:SA,referenceList:DA,listIndex:TA,listMoveToIndex:NA,content:PA={}}=AA.payload,RA=lh(DA);switch(_A){case G.LIST_ACTIONS.INSERT:((EA,AA,_A,CA,SA)=>{Dh.setIn(EA[AA],[..._A,CA],SA)})(EA,SA,RA,TA,PA);break;case G.LIST_ACTIONS.UPDATE:((EA,AA,_A,CA,SA)=>{const DA=Ch(Dh.getIn(EA[AA],[..._A,CA],{}),SA);Dh.setIn(EA[AA],[..._A,CA],DA)})(EA,SA,RA,TA,PA);break;case G.LIST_ACTIONS.DELETE:((EA,AA,_A,CA)=>{const SA=Dh.getIn(EA[AA],_A,[]);SA.splice(CA,1),Dh.setIn(EA[AA],_A,SA),vn.deleteListNode(AA,_A,SA.length)})(EA,SA,RA,TA);break;case G.LIST_ACTIONS.MOVE:((EA,AA,_A,CA,SA)=>{const DA=Dh.getIn(EA[AA],[..._A,CA],{}),TA=Dh.getIn(EA[AA],_A,[]);TA.splice(CA,1),TA.splice(SA,0,DA),Dh.setIn(EA[AA],_A,TA),Xn(EA,AA,_A?.join("."),CA,SA)})(EA,SA,RA,TA,NA);break;case G.LIST_ACTIONS_TYPE.SELECT_DESELECT:((EA,AA,_A,CA)=>{const SA=Dh.getIn(EA[AA],_A)||[];CA.forEach((EA=>{const{instruction:CA,content:DA,listIndex:TA}=EA;if(CA===G.LIST_ACTIONS.SELECT){SA[TA]=DA;const EA=_A?.join(".");Er(AA,EA)}else delete SA[TA]})),Dh.setIn(EA[AA],_A,SA.filter(Boolean))})(EA,SA,RA,CA);break;case G.LIST_ACTIONS_TYPE.DESELECT_ALL:((EA,AA,_A)=>{Dh.setIn(EA[AA],_A,[])})(EA,SA,RA)}}return EA})),_m=[dm,um,Em,Am],Cm=(EA,AA)=>(EA||(EA=Rm().data),AA.type===st?Rm().data:(_m.forEach((_A=>{EA=_A(EA,AA)})),EA)),Sm=(EA,AA=[])=>{AA.forEach((AA=>{Dh.deleteIn(EA,[AA])}))},Tm=(EA,AA)=>{const{type:_A,payload:CA}=AA,SA=_A===Fe,{target:DA,context:TA,semanticURL:NA="",root:PA,containerItemID:RA,childContainers:bA,flowName:OA,resourceType:vA="",key:xA="",clearView:wA=!1}=CA;return PA?Dh.setIn(EA,[DA,"items",RA,"view"],PA):wA&&Dh.deleteIn(EA,[DA,"items",RA,"view"]),TA&&Dh.setIn(EA,[DA,"items",RA,"context"],TA),OA&&Dh.setIn(EA,[DA,"items",RA,"flowName"],OA),(!SA||SA&&xA)&&Dh.setIn(EA,[DA,"items",RA,"key"],xA.trim()),((EA,AA,_A,CA)=>{""===EA&&Dh.deleteIn(AA,[_A,"items",CA,"key"])})(xA,EA,DA,RA),(!SA||SA&&NA)&&Dh.setIn(EA,[DA,"items",RA,"semanticURL"],NA),(!SA||SA&&vA)&&Dh.setIn(EA,[DA,"items",RA,"resourceType"],vA),Sm(EA,bA),EA},Nm=(EA,AA)=>(EA||(EA=Rm().containers),AA.type===st?Rm().containers:nm(EA,(EA=>{switch(AA.type){case Ne:{const{context:_A,name:CA,type:SA,actionMgrID:DA}=AA.payload,TA=`${_A}/${CA}`;let NA=null;return gn.resolveActionByID(DA,null,!1),EA[TA]||(NA={type:SA,accessedOrder:[],items:{}},Dh.setIn(EA,[TA],NA)),EA}case $e:{const{containerName:_A,childContainers:CA=[]}=AA.payload;return Dh.deleteIn(EA,[_A]),CA.forEach((AA=>{Dh.deleteIn(EA,[AA])})),EA}case Pe:{const{context:_A,name:CA,actionMgrID:SA,childContainers:DA}=AA.payload,TA=`${_A}/${CA}`;return gn.resolveActionByID(SA,null,!1),Dh.setIn(EA,[TA,"accessedOrder"],[]),Dh.setIn(EA,[TA,"items"],{}),Array.isArray(DA)&&DA.forEach((AA=>{Dh.deleteIn(EA,[AA])})),EA}case Re:{const{target:_A,context:CA,isInCreateStage:SA,isBulkAction:DA,semanticURL:TA,root:NA,containerItemID:PA,actionMgrID:RA,key:bA,flowName:OA,resourceType:vA,actionName:xA,isMinimizable:wA,showProgress:MA,progressMessage:LA,modalOptions:GA,resourceStatus:UA,actionID:FA,isMultiRecordData:jA,acTertiary:VA,parentContext:kA,heading:BA,isTraditionalRemoteCase:$A}=AA.payload,WA=EA[_A],HA=WA&&WA.type,qA=WA&&WA.accessedOrder||[],zA=WA&&WA.items||{};let YA=null;return EA[_A]&&"single"===HA&&qA.length>0?Tm(EA,AA):(YA={accessedOrder:[...qA,PA],items:{...zA,[PA]:{view:NA,semanticURL:TA,key:bA,flowName:OA,context:CA,isInCreateStage:SA,resourceType:vA,actionName:xA,isMinimizable:wA,...DA&&{isBulkAction:DA},showProgress:MA,progressMessage:LA,modalOptions:GA,isTraditionalRemoteCase:$A,resourceStatus:UA,...FA&&{actionID:FA},...VA&&{acTertiary:VA},...jA&&{isMultiRecordData:jA},...kA&&{parentContext:kA},heading:BA}}},gn.resolveActionByID(RA,null,!1),EA[_A]=j()(EA[_A],YA),EA)}case Fe:{const{actionMgrID:_A,data:CA}=AA.payload;let SA=EA;try{SA=Tm(EA,AA),gn.resolveActionByID(_A,CA,!1)}catch{gn.rejectActionByID(_A,!1)}return SA}case Ve:return((EA,AA)=>{const{actionMgrID:_A,data:CA,target:SA,containerItemID:DA}=AA.payload;let TA=EA;try{const NA=EA&&EA[SA]?.type;let PA=EA&&EA[SA]?.accessedOrder||[];PA="single"===NA?PA.length>0?PA:[...PA,DA]:PA.includes(DA)?PA:[...PA,DA],Dh.setIn(EA,[SA,"items",DA,"transientItems"],[]),Dh.setIn(EA,[SA,"accessedOrder"],PA),TA=Tm(EA,AA),gn.resolveActionByID(_A,CA,!1)}catch{gn.rejectActionByID(_A,!1)}return TA})(EA,AA);case Ue:{const{target:_A,containerItemID:CA,actionMgrID:SA}=AA.payload;try{const AA=Dh.getIn(EA,[_A,"accessedOrder"]).filter((EA=>EA!==CA));AA.push(CA),Dh.setIn(EA,[_A,"accessedOrder"],AA),gn.resolveActionByID(SA,null,!1)}catch{gn.rejectActionByID(SA,!1)}return EA}case je:case De:{const{target:_A,containerItemID:CA,actionMgrID:SA,childContainers:DA}=AA.payload;try{const AA=Dh.getIn(EA,[_A,"accessedOrder"]).filter((EA=>EA!==CA));Dh.setIn(EA,[_A,"accessedOrder"],AA),Dh.deleteIn(EA,[_A,"items",CA]),Sm(EA,DA),gn.resolveActionByID(SA,null,!1)}catch{gn.rejectActionByID(SA,!1)}return EA}case be:{const{transientItemID:_A,target:CA,contextName:SA}=AA.payload,DA=Dh.getIn(EA,[CA,"items",SA,"transientItems"])??[];return Dh.setIn(EA,[CA,"items",SA,"transientItems"],[...DA,_A])}case xe:{const{target:_A,containerItemID:CA}=AA.payload;return Dh.deleteIn(EA,[_A,"items",CA,"transientItems"]),EA}case ve:{const{target:_A,transientItemID:CA,containerItemID:SA}=AA.payload,DA=(Dh.getIn(EA,[_A,"items",SA,"transientItems"])??[]).filter((EA=>EA!==CA));return Dh.setIn(EA,[_A,"items",SA,"transientItems"],DA)}default:return EA}})));let Pm={};const Rm=()=>Pm,Dm=EA=>((EA=>{const AA=EA.Data||EA.data,{uiResources:_A={}}=EA,CA=_A[G.CONTEXT_DATA]||EA[G.CONTEXT_DATA];Pm={data:{[G.APP.APP]:{...AA,[G.CONTEXT_DATA]:CA}},containers:{}}})(EA),Jg({data:Cm,containers:Nm}));function bm(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];var _A=Xl(EA),CA=function(EA){return"number"==typeof Kl(EA)?EA.pop():1/0}(EA),SA=EA;return SA.length?1===SA.length?Li(SA[0]):function(EA){return void 0===EA&&(EA=1/0),zl(Ti,EA)}(CA)(Hi(SA,_A)):Zl}const Om=(EA,AA)=>{EA.data=EA.data??{};const{assignments:_A,availableActions:CA=[]}=EA.data.caseInfo??{};_A&&Array.isArray(_A)&&_A.length>0&&_A[0].actions&&Array.isArray(_A[0].actions)&&!AA?.stopMergeActions&&(_A[0].actions.forEach((EA=>{"Assignment"!==EA.type&&"LocalAction"!==EA.type||CA.push(EA)})),EA.data.caseInfo=EA.data.caseInfo??{},EA.data.caseInfo.availableActions=CA)},vm=(EA,AA)=>{if(EA.confirmationLinks&&(EA.data=EA.data??{},EA.data.caseInfo=EA.data.caseInfo??{},EA.data.caseInfo.confirmationLinks=EA.confirmationLinks),!EA.uiResources&&EA.confirmationNote){let AA=EA;const{confirmationNote:_A}=AA;return AA=((EA,AA)=>{const _A=[EA];return AA.data=AA.data??{},AA.data.caseMessages=_A,AA})(_A,AA),AA}if(!EA.uiResources||!EA.data||!EA?.uiResources?.root)return EA;const _A=EA,{uiResources:{actionButtons:CA,navigation:SA},nextAssignmentInfo:DA}=_A;if(_A.data&&_A.data.caseInfo&&(CA&&(_A.data.caseInfo.actionButtons=CA),SA&&(_A.data.caseInfo.navigation=SA),AA&&AA[B.ACTIONS.DELETEAVIALACTIONS]&&delete _A.data.caseInfo.availableActions,Om(_A,AA),EA.confirmationNote)){const{confirmationNote:EA}=_A,AA=[EA];_A.data.caseMessages=AA}return AA&&AA.isCreateDataObject&&(_A.data=_A.data??{},_A.data.dataInfo={},_A.data.dataInfo.content=_A.data.pyPortal,_A.uiResources.root.config.context="dataInfo.content",_A.uiResources.context_data.dataInfo=_A.uiResources.context_data.dataInfo??{},_A.uiResources.context_data.dataInfo.content=_A.uiResources.context_data.dataInfo.content??{},_A.uiResources.context_data.dataInfo.content=_A.uiResources.context_data?.pyPortal,delete _A.data.pyPortal,delete _A.key),DA&&(_A.data=_A.data??{},_A.data.nextAssignmentInfo=DA),_A},xm={},{VIEW:wm,FIELD:Mm}=G.CONTEXT_TREE_NODE_TYPES,Lm=EA=>(EA=>lc[EA])(EA)>0&&xm[EA],Um=[(EA,AA)=>EA.pipe(Wl(xn.REFRESH_DATA,Et),ql((EA=>EA.payload)),zl((EA=>{const{context:_A,contextData:CA,options:SA}=EA,{propertyName:DA="",classID:TA=""}=SA,NA=xc(_A,{skipUUID:!1});let PA=[],RA=[],bA=!1;fp.getFeatureMap().granularUIRefresh?(({fieldsWithDeclarativeTargets:PA=[],whens:RA=[]}=Gn(_A)),bA=RA.some((EA=>EA.type===wm))):bA=!0;const OA=RA.filter((EA=>EA.type===Mm)),vA=Dh.getPropertyName(DA),xA=vA?vA.split("."):[],wA=xA.pop(),MA=xA.join("."),LA=[];if(MA){const EA=Vp(MA,TA);if(EA&&"copy"===EA.dataRetrievalType){const EA=Dh.getIn(NA,`content.content.${MA}`)||{};Object.keys(EA).length>0&&Object.keys(EA).filter((EA=>EA!==wA)).forEach((AA=>{delete EA[AA],LA.push(`${MA}`)}))}}EA.serverPrecedenceFields=LA;let GA={...NA.content,contextData:CA};const UA=Jc(_A);Dh.isEmpty(UA)||(GA=Xc(UA,GA));const FA=((EA,AA)=>{const{caseWideAction:_A,caseViewAction:CA,fieldsWithDeclarativeTargets:SA,fieldsWithWhen:DA,isViewsWithWhen:TA,interestPage:NA,options:PA}=EA;let RA={};const{optionalPayload:bA}=PA;bA&&(AA.content={...bA});let OA={...AA},vA=xn.REFRESH;return CA?(RA=Og(xn.REFRESH_CASE_VIEW,EA),OA={...OA,interestPage:NA}):TA&&_A?RA=Og(xn.REFRESH_CASE_DATA,EA):TA&&!_A?RA=Og(xn.REFRESH_ASSIGNMENT_DATA,EA):(SA.length>0||DA.length>0)&&(OA={...OA,calculations:{fields:SA,whens:DA}},RA=Og(_A?xn.RECALCULATE_CASE_DATA:xn.RECALCULATE_ASSIGNMENT_DATA,EA),vA=xn.RECALCULATE),{restAPI:RA,requestBody:OA,requestType:vA}})({...EA,fieldsWithDeclarativeTargets:PA,fieldsWithWhen:OA,isViewsWithWhen:bA},GA);Mu.registerBlockingAction(_A).catch((()=>{}));const{restAPI:jA,requestBody:VA,requestType:kA}=FA;(EA={...EA,requestType:kA}).requestType=kA;const{reqType:BA,restApi:$A}=jA,WA=AA.value.data[_A]?.caseInfo?.headers;return Hi(((EA,AA)=>{const{context:_A}=EA;(EA=>{EA.reqHeaders&&EA.reqHeaders.etag&&(EA.headers={"if-match":EA.reqHeaders.etag})})(EA);const CA=(EA=>{const{ID:AA,actionID:_A,context:CA}=EA;return`${AA}.${CA}.${_A}`})(AA);if(Lm(CA)){const AA=[];for(let _A=0;_A<xm[CA].length;){const SA=xm[CA][_A],DA=Wn(SA,EA);if("CANCEL_REFRESH"===DA){const EA=new Error;return EA.code="ERR_CANCELED",Promise.reject(EA)}!0===DA&&(AA.push(_A),SA.cancelConfig?.cancel()),_A+=1}AA.forEach((EA=>{xm[CA].splice(EA,1)}))}const SA=Ac();return EA.signal=SA.token,EA.cancelConfig=SA,xm[CA]?xm[CA].push(EA):xm[CA]=[EA],yc(EA.url,EA,_A,{cancelContext:CA}).then((EA=>(delete xm[CA],EA))).catch((EA=>{throw EA&&"ERR_CANCELED"!==EA.code&&delete xm[CA],EA}))})({reqHeaders:WA,context:_A,method:BA,body:VA,url:Bn(EA,$A)},EA)).pipe(ql((AA=>({response:{...AA.data||{}},actionConfig:EA,actionMgrID:EA.options.actionMgrID,headers:vc(AA.headers)}))),tu(": Error occurred during fetch call at refreshData Epic : ",EA.context,EA?.options?.actionMgrID))})),zl((async EA=>{if(EA&&EA.type===Te)return Mu.deRegisterBlockingAction(EA.payload?.context).catch((()=>{})),jc(EA);const{actionConfig:AA,response:_A,actionMgrID:CA}=EA,{context:SA,serverPrecedenceFields:DA,requestType:TA}=AA,NA=Hr.getTargetViewContainerName(Ge),PA=_t(NA,SA),RA={acName:PA,context:SA},bA=vm(_A,{[B.STOPMERGEACTIONS]:!0,[B.ACTIONS.DELETEAVIALACTIONS]:!0});bA.directUrlUpdation=!1,TA===xn.REFRESH&&await Mc(bA,AA,RA);const OA=wc(bA,{target:PA,context:SA});AA.options?.skipDataMerge&&OA.data?.caseInfo?.content&&(OA.data.caseInfo.content={}),OA.preserveClientChanges=void 0===AA.options.preserveClientChanges||AA.options.preserveClientChanges;const vA=Rc.getPropertiesToReplace(SA),xA=dg(jh,OA,{serverPrecedenceFields:DA,propertiesToReplace:vA});return el.registerForServerChanges(),ph(xA),gn.resolveActionByID(CA,OA),el.unRegisterForServerChanges(),Mu.deRegisterBlockingAction(SA).catch((()=>{})),[]})))],Fm=Um,jm=[EA=>EA.pipe(Wl(at),zl((async EA=>{const{context:AA}=EA.payload,_A={},CA={},SA=Object.keys(EA.payload.datapages).map((SA=>{const DA=EA.payload.datapages[SA];if(DA.mode===G.READONLY&&DA?.refreshStrategy){const{timeoutSecs:EA="",type:AA=""}=DA?.refreshStrategy||{},_A=gh()[DA.name];if(_A&&SA in _A){const CA=_A[SA],{loadTime:DA}=CA;if(!uu.isTimeElapsed(DA,EA,AA))return}}return uu.getData(DA.name,{dataViewParameters:DA.dataViewParameters},AA).then((EA=>{const AA=DA.mode===G.READONLY?CA:_A;AA[DA.name]?AA[DA.name][SA]={pxResults:EA.data.data,parameters:DA.dataViewParameters,loadTime:EA.data?.fetchDateTime}:AA[DA.name]={[SA]:{pxResults:EA.data.data,parameters:DA.dataViewParameters,loadTime:EA.data?.fetchDateTime}}})).catch((()=>{}))}));await Promise.allSettled(SA);const DA=[];return Object.keys(_A).length&&DA.push(jh({context:AA,data:_A})),Object.keys(CA).length&&DA.push(hg({data:CA,context:AA})),ph(DA),[]})))],Vm=jm;class km{static OPEN_ASSIGNMENT_ACTION="openAssignment";static DIRTY_POPUP_C11N="displayDirtyPopupFromConstellation";static HANDLE_INFINITY_DISCARD="handleDiscardInInfinity";static OPEN_ASSIGNMENT_MODAL="openAssignmentInModal";static DISPLAY_DIRTY_POPUP="displayDirtyPopup";static LOAD_PREVIEW="loadPreview";static UPDATE_COEXISTENCE_DRILLDOWN_CASE="updateCoexistenceDrilldownCase";static OPEN_WORK_ITEM="openWorkItem";static OPEN_WORK_BY_HANDLE="openWorkByHandle";static GET_NEXT_WORK_ACTION="getNextWork";static CLOSE_CONTAINER_ACTION="closeContainer";constructor(){this.broadcastChannel=null,this.callback=null,this.isReverseCoexistenceCase=!1,this.broadcastEventToIframe=!1,this.isDirtyDialogActive=!1,this.onCreateCallback=null,this.openAssignmentParams=null}getGlobalObject=()=>s.g;getUniqueId=()=>this.getGlobalObject().uniqueId;setUniqueId=()=>{this.getGlobalObject().uniqueId=(new Date).getTime()};initBroadcastChannel=()=>{this.setUniqueId(),this.broadcastChannel=new BroadcastChannel("coexistence"),this.broadcastChannel.onmessage=EA=>{switch(EA.data.action){case km.DISPLAY_DIRTY_POPUP:this.broadcastEventToIframe=EA.data.fromInfinity,this.isDirtyDialogActive||(EA.data.isFormDirty?(Yr.publish(G.PUB_SUB_EVENTS.EVENT_SHOW_CANCEL_ALERT,{isModalAction:!0,hideDelete:!0}),this.isDirtyDialogActive=!0):this.callback?.call(this));break;case km.LOAD_PREVIEW:this.loadPreview(EA);break;case km.UPDATE_COEXISTENCE_DRILLDOWN_CASE:this.updateCoexistenceDrilldownCase(EA);break;case km.OPEN_ASSIGNMENT_ACTION:this.openAssignment(EA);break;case km.GET_NEXT_WORK_ACTION:this.getNextWork(EA);break;case km.OPEN_WORK_BY_HANDLE:this.openWorkByHandle(EA);break;case km.CLOSE_CONTAINER_ACTION:this.closeContainer(EA)}}};loadPreview=EA=>{const{pyID:AA,caseClassName:_A,uniqueId:CA}=EA.data;CA===this.getUniqueId()&&td({}).getPConnect().getActionsApi().showCasePreview(AA,{caseClassName:_A})};navigateToDefaultPage=()=>{const EA=td({isRoot:!0}),AA=PCore.getStore()?.getState().data.app?.pyPortal?.pyPrimaryNavPages;let _A;Array.isArray(AA)&&AA[0]&&(_A=AA[0]);const CA=_A?.pyClassName||"Data-Portal",SA=_A?.pyRuleName||"pyHome";EA.getPConnect().getActionsApi().showPage(SA,CA)};closeContainer=EA=>{const{uniqueId:AA}=EA.data;AA===this.getUniqueId()&&this.navigateToDefaultPage()};updateCoexistenceDrilldownCase=EA=>{const{key:AA,caseClassName:_A,actionApi:CA,caseLabel:SA}=EA.data;let DA=CA;CA===km.OPEN_WORK_ITEM&&(DA=km.OPEN_WORK_BY_HANDLE),gp.updateSemanticURLAndDocumentTitle({key:AA,caseClassName:_A,actionName:DA}),td({}).getPConnect().getActionsApi().updateRecents(_A,AA.substring(AA.lastIndexOf(" ")+1),SA,AA)};openAssignment=EA=>{const{pzInsKey:AA,uniqueId:_A}=EA.data;_A===this.getUniqueId()&&(this.onCreateCallback&&this.openAssignmentParams&&(AA&&this.openAssignmentParams[0]&&this.openAssignmentParams[0].payload&&this.openAssignmentParams[0].payload.data?this.openAssignmentParams[0].payload.data.caseInfo.assignments[0].ID=AA:this.openAssignmentParams[0]&&this.openAssignmentParams[0].payload&&this.openAssignmentParams[0].payload.data&&(this.openAssignmentParams[0].payload.data.caseInfo.content.coexistenceAction="openWorkByHandle"),this.onCreateCallback.call(this,this.openAssignmentParams)),this.onCreateCallback=null,this.openAssignmentParams=null)};getNextWork=EA=>{const{uniqueId:AA}=EA.data;if(AA===this.getUniqueId()){const EA=`${B.APP.APP}${G.FORWARD_SLASH_STRING}${B.PRIMARY}`;td({meta:{},options:{context:Sd(EA)}}).getPConnect().getActionsApi().getNextWork()}};openWorkByHandle=EA=>{const{key:AA,caseClassName:_A,uniqueId:CA}=EA.data;if(CA===this.getUniqueId()){const EA=`${B.APP.APP}${G.FORWARD_SLASH_STRING}${B.PRIMARY}`;td({meta:{},options:{context:Sd(EA)}}).getPConnect().getActionsApi().openWorkByHandle(AA,_A)}};destroyBroadcastChannel=()=>{this.getBroadCastChannel()?.close(),this.broadcastChannel=null};subscribeEvents=()=>{this.setReverseCoexistenceCaseLoaded(!0),Yr.subscribe(B.PUB_SUB_EVENTS.REVERSE_COEXISTENCE_EVENTS.HANDLE_DISCARD,this.handleDiscard),Yr.subscribe(B.PUB_SUB_EVENTS.REVERSE_COEXISTENCE_EVENTS.CHECK_IS_FORM_DIRTY,this.postDirtyPopupMessage)};unsubscribeEvents=()=>{Yr.unsubscribeAllWithEventType(B.PUB_SUB_EVENTS.REVERSE_COEXISTENCE_EVENTS.CHECK_IS_FORM_DIRTY),Yr.unsubscribeAllWithEventType(B.PUB_SUB_EVENTS.REVERSE_COEXISTENCE_EVENTS.HANDLE_DISCARD),this.setReverseCoexistenceCaseLoaded(!1),this.isDirtyDialogActive=!1};init=(EA=!0)=>{null===this.broadcastChannel&&this.initBroadcastChannel(),EA&&this.subscribeEvents()};destroy=()=>{this.destroyBroadcastChannel(),this.unsubscribeEvents()};setCallBackFunction=EA=>{this.callback=EA};setReverseCoexistenceCaseLoaded=EA=>{this.isReverseCoexistenceCase=EA};setIsDirtyDialogActive=EA=>{this.isDirtyDialogActive=EA};getBroadCastChannel=()=>this.broadcastChannel;getCallBackFunction=()=>this.callback;isReverseCoexistenceCaseLoaded=()=>this.isReverseCoexistenceCase;postDirtyPopupMessage=({callBackFunction:EA})=>{this.broadcastChannel?.postMessage({action:km.DIRTY_POPUP_C11N,uniqueId:this.getUniqueId()}),this.setCallBackFunction(EA)};handleDiscard=()=>{this.broadcastEventToIframe?(this.broadcastChannel?.postMessage({action:km.HANDLE_INFINITY_DISCARD,uniqueId:this.getUniqueId()}),this.broadcastEventToIframe=!1):(this.callback?.call(this),this.callback=null),this.isDirtyDialogActive=!1};postCreateCaseMessage=(EA,AA,_A)=>{null===this.broadcastChannel&&this.init(!1),this.broadcastChannel?.postMessage({action:km.OPEN_ASSIGNMENT_MODAL,uniqueId:this.getUniqueId(),key:EA}),this.broadcastEventToIframe=!1,this.onCreateCallback=AA,this.openAssignmentParams=_A}}const $m=new km,Bm="nextAssignmentInfo",Gm="nextAssignmentInfo.context",Wm=EA=>{const{containerName:AA,isInCreateStage:_A}=EA;return _A?G.MODAL:AA||Hr.getTargetViewContainerName(Ke)},Hm=EA=>{const AA=Dh.getIn(EA,[G.DATA,G.CASE_INFO.CASE_INFO]);return sn(AA)&&an(fp.getOperatorIdentifier(),AA)},qm=()=>({registerHeader:(...EA)=>ic.registerHeader(...EA),unRegisterHeader:(...EA)=>ic.unRegisterHeader(...EA),getRegisteredHeaders:()=>ic.getRegisteredHeaders()}),zm=(EA,{body:AA={},queryPayload:_A={},cancelTokenSource:CA,headers:SA={},responseType:DA},TA,NA)=>{const{restApi:PA,reqType:RA}=Og(EA,_A),bA={method:RA,headers:SA,body:AA,...DA&&{responseType:DA}};return CA&&(bA.signal=CA.token),yc(PA,bA,TA,NA??{})},Ym=(EA,{method:AA="GET",body:_A={},headers:CA={},withoutDefaultHeaders:SA=!1},DA)=>(EA.startsWith("http:")||EA.startsWith("https:")||(EA=T()+EA),yc(EA,{method:AA,headers:CA,body:_A,withoutDefaultHeaders:SA},DA)),Km=EA=>gp.doesRestApiExist(EA),Xm=()=>Ac(),Jm=EA=>_c(EA),Qm=EA=>{mc(EA)},Zm=()=>ey,ey=class{static createCase(EA,AA){const{caseInfo:_A,startingFields:CA,flowType:SA,viewType:DA=bc.PAGE,pageName:TA,context:NA=G.APP.APP,debugInfo:PA,headers:RA}=AA;let bA={};_A&&_A.content&&(bA=_A.content);const OA={caseTypeID:EA,content:{...bA,...CA},processID:SA};return zm("createWork",{body:OA,queryPayload:{caseClassName:EA,viewType:DA,params:{pageName:TA}},headers:{...RA,...PA&&{...ic.addDebugHeaders(PA)}}},NA).then((AA=>({response:AA.data,requestPayload:OA,headers:vc(AA.headers,EA,RA)})))}},ty=(EA,AA)=>{const{class:_A,context:CA,viewType:SA=bc.PAGE}=EA,{removeActionPayload:DA}=AA;let TA=EA?.pageName?EA?.pageName:fp.getDefaultCasePage();return EA.isTraditionalUICase&&(TA="pyDetails"),Hi(ey.createCase(_A,{...EA,pageName:TA,viewType:SA,context:CA})).pipe(ql((({response:AA,headers:_A})=>({response:AA,actionInPayload:EA,headers:_A,removeActionPayload:DA}))),tu("Error occurred during ajax call at createWork Epic : ",CA))},ny=EA=>{Yr.publish(G.PUB_SUB_EVENTS.DISPLAY_CASE_CREATED_TOASTER,EA)},ry=EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DONE,EA)},sy=EA=>{let AA=0,_A=[],CA="",SA=!1;return EA.pipe(Wl(Lh),nu(100),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{context:_A}=EA,CA=Wm(EA),DA=_t(CA,_A),{continueExecution:TA,removeActionPayload:NA}=(EA=>Dd(EA)?{continueExecution:!0,removeActionPayload:{}}:Gc(EA))(DA);return SA=gs(EA.class),TA?(EA.isTraditionalUICase=SA,ty(EA,{removeActionPayload:NA})):(gn.rejectActionByID(AA),eu())})),zl((async EA=>{if(EA&&EA.type===Te)return EA.payload.context=Qd(),_A.push(jc(EA)),_A;const{actionInPayload:DA,response:TA,headers:NA,removeActionPayload:PA}=EA;let RA;RA=!(DA.renderInline||fp.getDefaultCasePage()||SA)&&Hm(TA),Dh.setIn(TA.data,B.CASE_INFO.IS_FIRST_ASSIGNMENT,!0);const bA=Wm({...DA,isInCreateStage:RA}),OA=_t(bA,DA.context),vA=kc(OA,bA,DA.context);if(!es(bA)&&Dd(OA)){const{continueExecution:EA}=Gc(OA);if(!EA)return gn.rejectActionByID(AA),eu()}if(!(DA?.openCaseViewAfterCreate??1)&&!RA){const EA=Dh.getIn(TA.data,B.CASE_INFO.CASE_INFO_CONTENT);CA=`${EA.pyID} ${Ip.getLocaleValue("has been created.","Assignment")}`;const AA=cs(TA),SA=as(TA);return ny({toastMessage:CA}),ry({caseId:`${EA.pyID}`,assignmentId:AA,caseType:SA}),_A}const xA=vm(TA);let wA=Dg("createWork",{caseClassName:as(xA)});wA=wA.replace(/{.+?}/,String(ss(is(xA)))),xA.semanticURL=wA,((EA,AA)=>{const _A=Hm(EA),{skipBrowserSemanticUrlUpdate:CA=!1,isTraditionalUICase:SA}=AA;Dh.setIn(EA,["directUrlUpdation"],(!_A||SA)&&!CA)})(xA,DA);const MA={acName:OA,context:vA},LA=ys(vA);await Mc(xA,DA,MA);const GA={target:OA,context:vA,containerItemID:vA,headers:NA,semanticURL:wA,isInCreateStage:RA,isMinimizable:RA,caseViewMode:xA.confirmationNote?G.REVIEW_MODE:G.PERFORM_MODE,currentCaseViewMode:LA,assignmentContext:Dh.getIn(xA,Gm),nextAssignmentInfo:Dh.getIn(xA,Bm),resourceType:B.CASE,openCaseViewAfterCreate:DA.openCaseViewAfterCreate,modalOptions:DA.modalOptions,debugInfo:DA.debugInfo};ds(GA,xA);const UA=wc(xA,GA);SA&&(UA.data.caseInfo.content.coexistenceAction="openAssignment");const FA=Vc(OA,UA);return $c(FA)&&ls(_A,{removeActionPayload:PA,target:OA}),_A.push(FA),qc(_A),_A})),ql((()=>{const EA=fs(),DA=sn(Dh.getIn(_A[0]?.payload,"data.caseInfo"));return SA&&EA&&DA?$m.postCreateCaseMessage(_A[0]?.payload?.nextAssignmentInfo?.ID,Kc,_A):Kc(_A),hs(_A,AA),CA="",_A=[],_A})))},{RESOURCE_TYPES:ay}=B,oy=(EA,AA=[])=>{const{viewType:_A,containerName:CA,targetContainerName:SA,isChild:DA}=EA,TA=rs(AA);return(EA=>{if(EA){const{stageID:AA,stages:_A=[]}=EA,CA=_A.length;for(let EA=0;EA<CA;EA+=1)if(_A[EA].ID===AA)return"manual"===_A[EA].transitionType}return!1})(TA)&&EA?.stageID===TA.stageID?bc.PAGE:_A||(!Zr(CA)&&!Zr(SA)||DA?bc.PAGE:bc.FORM)},iy=(EA,AA,_A,CA,SA)=>{if(ls(EA,{removeActionPayload:AA,target:_A}),((EA,AA)=>{const _A=Ed(AA);let CA=null;return _A&&(CA=ld(AA,_A)),CA?.key===EA&&bd(AA)})(CA.key,_A))CA.context=Sd(_A),CA.containerItemID=CA.context,EA.push(dg(ig,CA));else if((SA?.isChild||SA?.isRemote)&&SA?.isMultiDoc){const AA=Fd(SA.context);CA.target=AA,CA.context=SA.context,CA.containerItemID=SA.context,EA.push(dg(ig,CA))}else{const AA=Fd(CA.context),_A=gd(AA,CA.key);_A?(CA.target=AA,CA.context=_A,CA.containerItemID=_A,EA.push(dg(ig,CA))):EA.push(dg(qh,CA))}},cy=(EA,AA,_A,CA,SA,DA,TA)=>{Dd(AA)&&Od(AA)?((EA,AA,_A,CA,SA)=>{oy(EA,AA)===bc.FORM?(_A.caseViewMode=CA||G.PERFORM_MODE,SA.push(dg(Qh,_A))):SA.push(dg(ig,_A))})(CA,SA,EA,DA,_A):iy(_A,TA,AA,EA,CA)},ly=({restUrl:EA,reqType:AA,requestHeaders:_A,debugInfo:CA,context:SA,isGetNextWork:DA,doNotMergeMessagesForStatusCode:TA})=>yc(EA,{method:AA,headers:{"if-match":_A&&_A.etag,..._A,...CA&&{...ic.addDebugHeaders(CA)}}},SA,{doNotMergeHttpMessagesForStatusCode:DA?TA:""}),uy=(EA,AA)=>{const _A=oy(EA),{headers:CA,context:SA,assignmentID:DA,isGetNextWork:TA,debugInfo:NA,isOpenStage:PA,stageID:RA,caseID:bA,jsActionQueryParams:OA,isLastStepInCreateStage:vA}=EA,{restApi:xA,reqType:wA}=TA?Og("getNextWork",{viewType:_A}):PA?Og("openStage",{caseID:bA,stageID:RA}):Og(Ye,{assignmentID:DA,viewType:_A}),{removeActionPayload:MA}=AA,LA=fp.getDefaultCasePage();let GA="",UA=EA.pageName;EA.isTraditionalUICase&&(UA="pyDetails"),GA=LA?`${xA}?viewType=${_A}&pageName=${LA}`:UA?`${xA}?viewType=${_A}&pageName=${UA}`:`${xA}?viewType=${_A}`,OA&&Object.keys(OA).forEach((EA=>{GA+=`&${EA}=${OA[EA]}`}));const FA=(EA=>{let AA=EA?.headers??{};return EA?.isRemote&&(AA=vc(AA,EA.remoteClassName)),AA})(EA);return Hi(ly({restUrl:GA,reqType:wA,requestHeaders:FA,debugInfo:NA,context:SA,isGetNextWork:TA,doNotMergeMessagesForStatusCode:"404"})).pipe(ql((EA=>fp.isCoexistenceAppOfType(G.APP_TYPE.UIKIT)&&!vA?sn(EA.data.data.caseInfo)?EA:(GA=GA.replaceAll(UA,"pyDetails"),fp.setDefaultCasePage("pyDetails"),{isReloadWithDifferentViewTypeRequired:!0,restUrl:GA}):EA)),zl((EA=>EA?.isReloadWithDifferentViewTypeRequired?ly({restUrl:GA,reqType:wA,requestHeaders:FA,debugInfo:NA,context:SA,isGetNextWork:TA,doNotMergeMessagesForStatusCode:"404"}):Jl(EA))),ql((AA=>{const{key:SA,flowName:TA}=Uc(DA);return{response:{...AA.data,key:SA,flowName:TA},actionInPayload:EA,viewType:_A,removeActionPayload:MA,headers:vc({...CA,...AA.headers})}})),tu("Error occurred during ajax call at openAssignment Epic : ",SA))},{RESOURCE_TYPES:dy}=B,py=EA=>{const AA="Browser"===fp.getRuntime();let _A=0,CA=[];const SA=[];let DA=!1,TA=!1;return EA.pipe(Wl(Fl),ql((EA=>(({actionMgrID:_A}=EA.payload),{...EA.payload,...AA?{insKey:EA.payload.assignmentID}:{assignmentID:EA.payload.assignmentID}}))),zl((EA=>{DA=EA.isGetNextWork;const{context:AA}=EA;let CA;CA=(EA?.isChild||EA?.isRemote)&&EA?.isMultiDoc?bc.FORM:oy(EA),EA.viewType=CA;const SA=Jr(Ye,EA),NA=_t(SA,AA),{activate:PA,activateContainerActionPayload:RA}=Hc(dy.ASSIGNMENT,NA,EA);if(PA&&!EA.isParallelCall)return Jl({type:Ue,activateContainerActionPayload:RA,actionInPayload:EA});const bA=Ed(NA);let OA;OA=RA?.isParallelAssignment?{continueExecution:!0,removeActionPayload:{}}:bA?Gc(NA):{continueExecution:!0,removeActionPayload:{}};const{continueExecution:vA,removeActionPayload:xA}=OA;return vA?(TA=gs(EA.className),EA.isTraditionalUICase=TA,uy(EA,{removeActionPayload:xA})):(gn.rejectActionByID(_A),eu())})),zl((async EA=>{if(EA?.type===Te){if(DA){const{payload:AA}=EA,{err:_A}=AA,CA=_A.response.status;SA.push({status:Number(CA)})}return CA.push(jc(EA)),CA}const{type:AA,actionInPayload:_A,response:NA,viewType:PA,headers:RA,removeActionPayload:bA,activateContainerActionPayload:OA}=EA;if("openStage"===NA?.redirectInfo?.jsAction){const EA=NA?.redirectInfo?.stageID,AA=Fl,SA=NA?.data?.caseInfo?.ID;_A.isOpenStage=!0,_A.stageID=EA,_A.jsActionQueryParams=NA?.redirectInfo?.jsActionQueryParams;const DA={type:AA,payload:{..._A,caseID:SA,headers:RA}};return CA.push(DA),CA}const{context:vA,caseViewMode:xA,debugInfo:wA}=_A;let MA=((EA,AA)=>{const _A=rs(EA);let CA;CA=!fp.getDefaultCasePage()&&sn(_A);const{isChild:SA,containerName:DA}=AA,TA=SA&&CA,NA=CA&&!AA.isActionFromToDoList;return TA||NA?G.MODAL:DA||Jr(Ye,AA)})(NA,_A);TA=gs(NA?.data?.caseInfo?.caseTypeID),_A.isTraditionalUICase=TA,TA&&(MA=_A.containerName);const LA=_t(MA,vA);if(AA===Ue)return await(async(EA,AA,_A)=>{const{semanticURL:CA,containerItemID:SA,isParallelAssignment:DA,insKey:TA}=AA,{target:NA,actionInPayload:PA}=_A,{skipBrowserSemanticUrlUpdate:RA=!1}=PA,bA=Cd(SA);await Mc({directUrlUpdation:!RA,semanticURL:CA},PA,{acName:NA,target:NA,context:bA}),EA.push(dg(ng,{containerItemID:SA,target:NA,isParallelAssignment:DA,insKey:TA,resourceType:ay.CASE,context:bA,doDeleteCaseSummary:PA.doDeleteCaseSummary}))})(CA,OA,{actionInPayload:_A,target:LA}),qc(CA),CA;const GA=NA?.data?.caseInfo?.content,UA=NA?.uiResources?.root?.config?.name,FA=NA?.uiResources?.root?.config?.context;GA&&!GA.pyViewName&&UA&&"page"!==_A.viewType&&(Dh.setIn(GA,"pyViewName",UA),Dh.setIn(GA,"pyViewContext",FA));const jA=vm(NA);((EA,AA)=>{const _A=rs(EA),CA=is(EA),SA=sn(_A),{skipBrowserSemanticUrlUpdate:DA=!1,viewType:TA,isTraditionalUICase:NA}=AA,PA=TA===bc.PAGE&&(!SA||NA)&&!DA,{caseTypeID:RA}=_A;if(PA){const AA=Dg(ze,{caseClassName:RA}).replace(/{.+?}/,String(ss(CA)));EA.semanticURL=AA,EA.directUrlUpdation=!0}})(jA,_A);const VA=kc(LA,MA,vA),kA={acName:LA,target:LA,context:VA};await Mc(jA,_A,kA);const BA={target:LA,context:VA,containerItemID:VA,headers:RA,parentContext:K(_A?.context),isMinimizable:sn(Dh.getIn(jA,"data.caseInfo")),doDeleteCaseSummary:_A.doDeleteCaseSummary,acTertiary:_A.acTertiary,resourceType:B.CASE,debugInfo:wA};ds(BA,jA,{skipFlowNameUpdate:_A?.caseViewMode===G.REVIEW_MODE});const $A=wc(jA,BA);return _A.isProcessAction&&($A.data.isProcessAction=_A.isProcessAction),TA&&($A.data.caseInfo.content.coexistenceAction="openAssignment"),((EA,AA)=>{EA.acTertiary&&(AA.data.caseInfo.isFirstAssignment=EA.acTertiary)})(_A,$A),cy($A,LA,CA,_A,NA,xA,bA),PA===bc.FORM&&us($A.containerItemID)&&Yc($A,CA),qc(CA),(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_OPENED,EA)})({actionInContext:vA,assignmentID:_A.assignmentID,caseKey:$A.key}),CA})),ql((()=>{const EA=_A,AA=fs(),DA=sn(Dh.getIn(CA[0]?.payload,"data.caseInfo"));return TA&&AA&&DA?$m.postCreateCaseMessage(CA[0]?.payload?.data?.caseInfo?.assignments?.[0]?.ID,ph,CA):ph(CA),hs(CA,EA,SA),CA[0]?.payload?.isParallelAssignment&&ph({type:Fl,payload:{...CA[0].payload,isParallelCall:!0}}),CA=[],CA})))},hy=(EA,AA)=>{const{insKey:_A,headers:CA,context:SA,debugInfo:DA,viewType:TA}=EA,{removeActionPayload:NA}=AA,PA=EA?.pageName?EA?.pageName:fp.getDefaultCasePage(),RA=Og(ze,{caseID:_A,params:{pageName:PA}});let{restApi:bA}=RA;const{reqType:OA}=RA;return"none"===TA&&(bA=`${bA?.split("viewType")[0]}viewType=none`),Hi(yc(bA,{method:OA,headers:{...CA,...DA&&{...ic.addDebugHeaders(DA)}}},SA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc({...CA,...AA.headers}),removeActionPayload:NA}))),tu("Error occurred during ajax call at openWorkByHandle Epic : ",SA))},gy="OPEN_WORK_BY_HANDLE",{RESOURCE_TYPES:fy}=B,my=async(EA,AA,_A)=>{const{actionInPayload:CA,activateContainerActionPayload:SA,type:DA,response:TA,removeActionPayload:NA,headers:PA}=EA,{context:RA,skipBrowserSemanticUrlUpdate:bA,debugInfo:OA}=CA,vA=Jr(ze,CA),xA=_t(vA,RA);if(DA===Ue)await(async(EA,AA)=>{const{activateContainerActionPayload:{semanticURL:_A,containerItemID:CA},actionInPayload:SA,actionInPayload:{context:DA,skipBrowserSemanticUrlUpdate:TA,doDeleteCaseSummary:NA}}=AA,PA=Jr(ze,SA),RA=_t(PA,DA),bA=Cd(CA);await Mc({directUrlUpdation:!TA,semanticURL:_A},SA,{acName:RA,containerName:PA,target:RA,context:bA}),EA.push(dg(ng,{containerItemID:CA,target:RA,context:bA,doDeleteCaseSummary:NA}))})(AA,{activateContainerActionPayload:SA,actionInPayload:CA});else{const SA=kc(xA,vA,RA,{buildNew:!0}),DA=vm(TA),wA=((EA,AA)=>{const{isRemoteCase:_A,remoteCaseClass:CA}=AA,SA=is(EA),DA=_A?CA:as(EA);let TA=Dg(ze,{caseClassName:DA},{id:AA?.insKey});return TA=TA?.replace("{workID}",String(ss(SA)))?.replace("{id}",AA?.insKey),TA})(DA,CA);DA.semanticURL=wA,DA.directUrlUpdation=!bA;const MA={acName:xA,context:SA};await Mc(DA,CA,MA);const LA=wc(DA,{target:xA,context:SA,containerItemID:SA,semanticURL:wA,headers:PA,debugInfo:OA});LA.caseViewMode=G.REVIEW_MODE,LA.resourceType=fy.CASE,_A&&(LA.data.caseInfo.content.coexistenceAction="openWorkByHandle"),ds(LA,DA,{skipFlowNameUpdate:!0}),LA.currentCaseViewMode=ys(EA?.actionInPayload?.context);const GA=Vc(xA,LA);NA.containerItemID&&$c(GA)&&AA.push(dg(sg,{containerItemID:NA.containerItemID,target:xA})),AA.push(GA)}qc(AA),(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CASE_OPENED,EA)})({caseKey:CA.insKey,actionInContext:RA})},yy=EA=>{let AA=0,_A=[];return EA.pipe(Wl(gy),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{context:_A,isChild:CA,viewType:SA}=EA,DA=Jr(ze,EA),TA=_t(DA,_A);let NA,PA=!0;if("none"!==SA){const EA=Gc(TA);PA=EA.continueExecution,NA=EA.removeActionPayload}if(!PA)return gn.rejectActionByID(AA),eu();const{activate:RA,activateContainerActionPayload:bA}=Hc(fy.CASE,TA,EA);return RA&&!CA&&"none"!==SA?Jl({type:Ue,activateContainerActionPayload:bA,actionInPayload:EA}):hy(EA,{removeActionPayload:NA})})),zl((async EA=>{if(EA&&ts(EA.type))return _A.push(jc(EA)),_A;const AA=hh(EA?.actionInPayload?.context),CA=gs(EA?.actionInPayload.className);if("none"===EA?.actionInPayload?.viewType){if("perform"!==AA?.context_data?.caseViewMode){const AA=vm(EA?.response),SA={data:{...AA?.data},context:EA?.actionInPayload?.context,isArrayDeepMerge:!0};_A.push({type:lt,payload:{context:SA.context,doDeleteConfirmationDetails:!1}}),CA&&SA.data.caseInfo?.content&&(SA.data.caseInfo.content.coexistenceAction="openWorkByHandle"),_A.push(dg(jh,SA));const DA=Fd(EA?.actionInPayload?.context),TA=Qr(EA?.actionInPayload?.context),NA=Object.freeze({target:DA,containerItemID:EA?.actionInPayload?.context,context:EA?.actionInPayload?.context,containerName:TA});if(us(EA?.actionInPayload?.context)){const AA=wc(EA?.response,{...NA});Yc({...AA,isArrayDeepMerge:!0},_A)}}}else await my(EA,_A,CA);return _A})),ql((()=>(ph(_A),hs(_A,AA),_A=[],_A))))},Iy="FINISH_ASSIGNMENT",{RESOURCE_TYPES:Ey}=B,Ay=(EA,AA)=>{const{containerItemID:_A,skipReleaseLockRequest:CA,isInCreateStage:SA,isProcessAction:DA}=AA,TA=Cd(_A),NA=`${TA?.includes("root")?G.APP.ROOT:G.APP.APP}/${od.MODAL}`;EA.push(dg(sg,{containerItemID:_A,context:TA,target:NA,skipReleaseLockRequest:CA,isInCreateStage:SA,isProcessAction:DA}))},_y=EA=>mh(".openCaseViewAfterCreate",G.CONTEXT_DATA,EA)??!0,Cy=async(EA,{translatedDXAPIResponse:AA,actionInPayload:_A},CA,SA)=>{const{caseID:DA}=_A,TA=(NA=AA,Dh.getIn(NA,Xr.NEXT_ASSIGNMENT_INFO_ID,G.EMPTY_STRING));var NA;const PA=as(AA),{caseViewMode:RA,headers:bA,semanticURL:OA,actionMgrID:vA,directUrlUpdation:xA,key:wA,flowName:MA,resourceType:LA}=CA;SA&&Object.assign(SA,{caseId:DA,assignmentId:TA,caseType:PA}),Ay(EA,{..._A,skipReleaseLockRequest:!0});const GA=`${_A?.containerItemID.includes("root")?G.APP.ROOT:G.APP.APP}/${od.PRIMARY}`,UA=kc(GA,od.PRIMARY),FA=ic.getCoreHeadersFromContext(_A.context)||!1,jA=wc(AA,{target:GA,context:UA,containerItemID:UA,caseViewMode:RA,headers:bA,semanticURL:OA,key:wA,flowName:MA,resourceType:LA,directUrlUpdation:xA,debugInfo:FA&&FA.debugInfo&&{debugId:FA.debugInfo[G.COREHEADER_APP_DEBUG_ID]}});if(Dd(GA)){const AA=hh(UA),SA=is({data:AA}),[,DA]=SA?SA.split(" "):[],TA=`You will lose unsaved changes for ${DA}. Do you want to continue?`;if(!_y(_A.context))return EA;{const{continueExecution:AA}=Gc(GA,{dirtyMessage:TA});if(!AA)return CA.directUrlUpdation=!1,gn.rejectActionByID(vA),eu();jA.currentCaseViewMode=ys(jA?.context),EA.push(dg(ig,jA))}}else EA.push(dg(qh,jA));return AA.directUrlUpdation=xA,AA.semanticURL=OA,await Mc(AA,{...jA,acName:GA},{acName:GA,context:UA}),EA},Sy=EA=>/^app\/preview_[0-9]*/g.test(EA),Ty=(EA,AA)=>{const _A=K(EA);return!Sy(EA)&&(_A===AA||/^app\/primary_[0-9]*/g.test(_A))},Ny=async(EA,AA,_A,CA,SA,DA,TA,NA,PA)=>{const{headers:RA}=PA;if(EA){if("object"!=typeof PA?.response?.uiResources?.root){const AA=(EA,AA)=>{const _A=EA.findIndex((EA=>EA.ID===AA));if(-1!==_A){const[AA]=EA.splice(_A,1);EA.unshift(AA)}return EA},_A=hh(EA),CA=PA?.response?.data?.caseInfo?.assignments??[],SA=_A?.caseInfo?.assignments??[],DA=ys(EA)===G.PERFORM_MODE,TA=CA[0]?.ID!==SA[0]?.ID,NA=CA.length>0&&SA.length>0;DA&&TA&&NA&&PA?.response?.data?.caseInfo?.assignments&&(PA.response.data.caseInfo.assignments=AA(CA,SA[0]?.ID))}const bA=Dd(Fd(EA));let OA=!1;const vA=Fd(_A),xA=cd(vA),wA=Ed(vA);wA&&xA?.items?.[wA]?.key===PA?.actionInPayload?.caseID&&(OA=!0),Ay(SA,{...CA,skipReleaseLockRequest:!0});const MA=Qr(EA),LA={target:Fd(EA),containerItemID:EA,context:EA,containerName:MA};AA.doDeleteCaseSummary=CA.doDeleteCaseSummary;const GA=te(_A),UA=hh(GA),FA=hh(CA.context),jA=UA?.caseInfo?.ID,VA=FA?.caseInfo?.ID,kA=hh(EA)?.caseInfo?.ID;if(bA&&jA===VA||!bA&&(""===TA||"review"===AA.caseViewMode||!DA&&AA.root&&0===Object.keys(AA.root).length&&kA===AA.data?.caseInfo?.ID))(void 0===AA?.data?.caseInfo?.content||void 0!==AA.data.caseInfo.content&&"object"==typeof AA.data.caseInfo.content&&0===Object.keys(AA.data.caseInfo.content).length)&&(AA.root=void 0,delete AA.data?.caseMessages),SA.push(dg(Qh,{...AA,key:TA,resourceType:"",...LA}));else if(DA){const DA=Fd(EA),NA=gd(DA,TA);if(NA)LA.target=DA,LA.context=NA,LA.containerItemID=NA,SA.push(dg(Qh,{...AA,key:TA,resourceType:"",...LA}));else{const EA=Nd(_A)[0];if(CA.target=EA,CA.context=kc(EA,G.WORKAREA,_A),CA?.context){CA.containerItemID=CA.context,SA.push(dg(qh,{...CA,...AA}));const _A=CA.containerItemID;SA.push(dg(ng,{parentContainerTarget:EA,containerItemID:_A}))}}}if(CA.target=Fd(EA),CA.containerName=Qr(EA),CA.context=EA,CA.containerItemID=EA,Dh.setIn(AA,"acName",LA.target),await Mc(NA,AA),OA){const{data:EA,caseViewMode:CA}=AA;_A.includes(G.WORKAREA)&&us(_A)&&(_A=te(_A));const DA={data:EA,caseViewMode:CA,context:_A};Dh.setIn(DA.data,["context_data","caseViewMode"],CA),SA.push({type:lt,payload:{context:_A}}),SA.push(dg(jh,DA))}if(!DA&&AA.caseViewMode===G.PERFORM_MODE){const AA=((EA,AA)=>{const _A=Fd(EA);return gd(_A,AA)})(EA,TA),_A={data:{caseInfo:{headers:RA}},context:AA};SA.push(dg(jh,_A)),SA.push(wn(((EA,AA=!1,_A=!1)=>{const CA=gn.getNextActionMgrId();return{ID:xh.getPropertyValue(B.CASE_INFO.ASSIGNMENT_ID,"",EA),actionID:xh.getPropertyValue(B.CASE_INFO.ASSIGNMENTACTION_ID,"",EA),context:EA,caseWideAction:AA,contextData:_A,options:{actionMgrID:CA}}})(AA)))}}else{Ay(SA,CA);let EA=!1;const TA=Fd(_A),NA=cd(TA),RA=Ed(TA);if(RA&&NA?.items?.[RA]?.key===PA?.actionInPayload?.caseID&&(EA=!0),DA){const EA=Nd(_A)[0];CA.target=EA,CA.context=kc(EA,G.WORKAREA,_A),CA.containerItemID=CA.context,SA.push(dg(qh,{...CA,...AA}));const DA=CA.containerItemID;SA.push(dg(ng,{parentContainerTarget:EA,containerItemID:DA}))}if(EA){const{data:EA,caseViewMode:CA}=AA,DA={data:EA,caseViewMode:CA,context:_A};Dh.setIn(DA.data,["context_data","caseViewMode"],CA),SA.push({type:lt,payload:{context:_A}}),SA.push(dg(jh,DA))}}},Py=async(EA,AA,_A,CA,SA,DA)=>{((EA,AA,_A)=>{if(AA.isProcessAction&&(Ay(_A,{...AA,skipReleaseLockRequest:!0}),EA)){const CA=`${AA?.containerItemID.includes("root")?G.APP.ROOT:G.APP.APP}/${od.PRIMARY}`,SA=kc(CA,od.PRIMARY),DA={insKey:EA.ID,className:EA.content.classID,context:SA,acTargetName:G.PRIMARY,isChild:!0},TA={type:fe,payload:{...DA}};_A.push(TA)}})(EA.data.caseInfo.parentCaseInfo,AA,SA);const TA=EA?.data?.caseInfo?.parentCaseInfo?.ID;if(TA){const _A=Fd(AA?.context),CA=ld(_A,AA?.context)?.parentContext,SA=Fd(CA);AA?.isProcessAction&&hd(SA,TA)&&ep(CA,EA?.data?.caseInfo?.lastUpdateTime)}_A.resourceType=Ey.CASE,_A.directUrlUpdation=!0,AA.isProcessAction||await Cy(SA,{translatedDXAPIResponse:CA,actionInPayload:AA},_A,DA)},Ry=async(EA,AA,_A,CA,SA)=>{EA.doDeleteCaseSummary=AA.doDeleteCaseSummary,EA.caseViewMode===G.REVIEW_MODE&&(EA.flowName=" ",EA.clearView=!0);const{containerItemID:DA}=AA,TA=Rc.getPropertiesToReplace(DA);SA.push(dg(Qh,{...EA,...CA,propertiesToReplace:TA})),Dh.setIn(EA,"acName",CA.target),await Mc(_A,EA),((EA,AA,{data:_A,caseViewMode:CA})=>{const{containerItemID:SA}=AA,DA=Cd(SA);if(DA&&us(SA)){const AA=te(DA),TA={data:_A,caseViewMode:CA,context:AA};Dh.setIn(TA.data,["context_data","caseViewMode"],CA),EA.push({type:lt,payload:{context:AA}});const NA=Rc.getPropertiesToReplace(SA);EA.push(dg(jh,TA,{propertiesToReplace:NA}))}})(SA,AA,EA)},Dy=async(EA,AA,_A,CA,SA,DA,TA,NA,PA)=>{const{isCaseWideAction:RA,isInCreateStage:bA,containerItemID:OA}=EA,vA=K(EA.context),xA=os(SA),wA=as(SA),MA=bA&&!xA&&!RA,LA=Nd(vA)[0],GA=LA?Ed(LA):vA,UA=Qr(OA),FA=Cd(OA),jA=Object.freeze({target:EA.target,containerItemID:OA,context:FA,containerName:UA});MA&&!Sy(EA.context)?await Py(NA,EA,AA,SA,DA,PA):Ty(EA.context,GA)?await Ny(GA,AA,vA,EA,DA,_A,CA,SA,TA):RA&&!Ty(EA.context,GA)?(Ay(DA,EA),((EA,AA,_A)=>{const{containerItemID:CA,caseID:SA}=AA;if(CA&&/^app\/preview_[0-9]*/g.test(CA)){const{caseClassName:AA}=_A,DA=K(CA),TA=Cd(DA);EA.push(dg(kh,{containerItemID:DA,context:TA,container:od.PREVIEW,containerName:od.PREVIEW,caseId:SA,viewName:B.PREVIEW_VIEW_NAME,caseClassName:AA,updateData:!0}))}})(DA,EA,{caseClassName:wA})):await Ry(AA,EA,SA,jA,DA)},by=(EA,AA)=>{const{assignmentID:_A,actionID:CA,caseID:SA,context:DA,additionalHeaders:TA={},isCaseWideAction:NA,outcome:PA,jsActionQueryParams:RA}=EA,{state$:bA}=AA,OA=(EA=>{const{isModalAction:AA,viewType:_A,isInCreateStage:CA,isCaseWideAction:SA}=EA;return AA&&CA&&!SA?bc.PAGE:_A||bc.FORM})(EA),vA=(EA=>{const{isCaseWideAction:AA}=EA;return AA?Ze:"finishAssignment"})(EA),xA={assignmentID:_A,actionID:CA,caseID:SA,viewType:OA};let{restApi:wA}=Og(vA,xA),{reqType:MA}=Og(vA,xA);OA&&!wA?.includes("viewType=")&&(wA=wA?.includes("?")?`${wA}&viewType=${OA}`:`${wA}?viewType=${OA}`),PA&&!wA?.includes("outcome")&&(wA=wA?.includes("?")?`${wA}&outcome=${PA}`:`${wA}?outcome=${PA}`),wA=((EA,AA)=>(EA&&Object.keys(EA).forEach((_A=>{AA+=`&${_A}=${EA[_A]}`})),AA))(RA,wA),NA&&(MA="PATCH"),EA.viewType=OA;const{content:LA,attachmentsExist:GA}=xc(DA);EA.attachmentsExist=GA;const UA=bA.value.data[DA]?.caseInfo?.headers||{},{etag:FA}=UA,jA={"if-match":FA,...TA};return Hi(yc(wA,{method:MA,body:LA,headers:jA},DA)).pipe(ql((AA=>{const{data:_A,headers:CA}=AA;return{response:_A,actionInPayload:EA,headers:vc({...jA,...CA})}})),tu("Error occurred during ajax call at finishAssignment Epic : ",DA))},{RESOURCE_TYPES:Oy}=B,vy=(EA,AA)=>{let _A=0,CA=[],SA={},DA="",TA={},NA=!1,PA=!1;return EA.pipe(Wl(Iy),Hl((EA=>{const RA=fp.isCoexistenceAppOfType(G.APP_TYPE.UIKIT);if(({actionMgrID:_A}=EA.payload),DA=EA.payload.context,Qn({context:DA,stateObj:hh(DA),clearContextMessages:!0}),!pl(DA)){const AA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(_A,!0,AA),Mu.handleDeferredActionCompletion(EA.payload.context),Jl([])}return Jl(EA.payload).pipe(zl((EA=>{((EA,AA)=>{const{containerItemID:_A,context:CA,actionMgrID:SA,isInCreateStage:DA,isModalAction:TA}=AA;if(DA&&TA){const AA=Qr(_A),DA=_t(AA,CA);EA.push(dg(ng,{containerItemID:_A,target:DA,actionMgrID:SA}))}})(CA,EA);const _A={...EA};return by(_A,{state$:AA})})),zl((async EA=>{if(EA&&EA.type===Te){(EA=>{const AA=EA?.payload?.err?.response?.data?.displayButtonsOnErrors||[],_A=EA?.payload?.err?.response?.status;if(Array.isArray(AA)&&AA.length>0&&424===_A){AA.forEach((EA=>{EA.isErrorButton=!0}));const _A=EA.payload.context,CA=hh(_A),SA=((EA,AA)=>(EA.forEach((EA=>{!0!==EA.isErrorButton||AA.some((AA=>AA.actionID===EA.actionID))||(AA=[...AA,EA])})),AA))(AA,CA?.caseInfo?.actionButtons?.secondary||[]),DA={data:{caseInfo:{actionButtons:{secondary:SA}}},target:Fd(_A),context:_A};ph({type:Ae,payload:DA})}})(EA);const AA=jc(EA);return CA.push(AA),CA}vu.clearContextedCache(DA);const{headers:AA,actionInPayload:bA,response:OA}=EA,{containerItemID:vA,context:xA=Cd(vA),isModalAction:wA,isInCreateStage:MA}=bA;NA=bA.isCaseWideAction,PA=bA.isProcessAction;const LA=Fd(vA);bA.target=LA;const GA=Qr(vA),UA=Object.freeze({target:bA.target,containerItemID:vA,context:xA,containerName:GA});Dh.setIn(OA.data,G.CASE_INFO.IS_FIRST_ASSIGNMENT,!1),Dh.setIn(OA.data,G.CASE_INFO_IS_LOCAL_ACTION,!1),OA?.uiResources?.root?.config?.name&&"page"!==bA.viewType&&Dh.setIn(OA.data,G.CASE_INFO.VIEW_NAME,OA?.uiResources?.root?.config?.name),(EA=>{Yr.publish(G.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,EA)})({submitResponse:OA});let FA=vm(OA,{[B.STOPMERGEACTIONS]:!OA.nextAssignmentInfo});const jA=as(FA),VA=K(bA.context),kA=Nd(VA)[0]?Ed(Nd(VA)[0]):VA,BA=os(FA),$A=MA&&!BA;!wA||MA||Ty(bA.context,kA)||(FA=((EA,AA)=>(EA?.data?.caseInfo&&AA?.caseInfo?.content&&(EA.data.caseInfo.content=AA?.caseInfo?.content),EA))(FA,hh(vA)));const WA=wc(FA,{headers:AA,actionMgrID:_A,directUrlUpdation:!1});let HA,qA;ps(WA.data,bA),WA.caseClassName=jA,WA.resourceType=Oy.ASSIGNMENT,WA.headers=AA;const zA=FA?.data?.caseInfo?.assignments?.some((EA=>EA.ID===bA.assignmentID)),YA=((EA,AA)=>{const{assignmentID:_A}=AA;return EA?.data?.caseInfo?.assignments?.some((EA=>EA.ID===_A&&"true"===EA?.canPerform))})(FA,bA),KA=((EA,AA,_A,CA,SA)=>{let DA;const TA=Fd(AA);return DA=bd(TA)?gd(TA,_A.data?.caseInfo?.ID):Ed(TA),CA&&EA&&yh(null,G.CASE_VIEW_MODE_PROP,DA)===G.PERFORM_MODE&&SA})(zA,kA,FA,wA,YA),JA=bA?.actionID===B.LOCAL_ACTIONS.TRANSFER_ASSIGNMENT;if(FA?.data?.nextAssignmentInfo&&!JA)WA.caseViewMode=G.PERFORM_MODE,HA=is(FA),qA=!0;else if(KA&&!JA)WA.caseViewMode=G.PERFORM_MODE,HA=is(FA),WA.flowName=" ",WA.deleteAssignmentSpecificResources=!1,qA=!1;else{WA.caseViewMode=G.REVIEW_MODE;const EA=Dd(Fd(kA));HA=FA?.confirmationNote&&FA?.uiResources?.root?.config?.name===G.PY_CONFIRM&&!EA?is(FA):"",qA=!1}const XA=is(FA);ds(WA,FA,{skipFlowNameUpdate:WA?.caseViewMode===G.REVIEW_MODE||KA});const QA=Dg("createWork",{caseClassName:jA}).replace(/{.+?}/,String(ss(XA)));if(FA.semanticURL=QA,WA.semanticURL=QA,wA?(await Dy(bA,WA,qA,HA,FA,CA,EA,OA,TA),$A&&(SA=(EA=>{if(!_y(EA.context)){let AA;const _A=EA?.caseTypeID,CA=EA?.caseTypeName;return AA=EA.businessID?EA.businessID:EA.workID,{caseID:AA,caseTypeID:_A,caseTypeName:CA}}return{}})(bA))):MA&&RA&&!BA?(fp.setDefaultCasePage("pyDetails"),await(async(EA,AA,_A)=>{const CA={assignmentID:EA?.data?.caseInfo?.assignments[0]?.ID,className:EA?.data?.caseInfo?.content?.classID,containerName:od.PRIMARY,targetContainerName:od.PRIMARY,viewType:bc.PAGE,isLastStepInCreateStage:!0,context:_A},SA={type:Ee,payload:{...CA}};AA.push(SA)})(OA,CA,K(xA))):await Ry(WA,bA,FA,UA,CA),ms(EA,CA),Mu.handleDeferredActionCompletion(DA),((EA,AA,_A)=>{const{isModalAction:CA,isCaseWideAction:SA,caseID:DA}=AA,TA=Ty(AA.context,_A),NA=EA?.data?.caseInfo?.stages||[],PA=EA?.data?.caseInfo?.stageID;Kr({caseID:DA,isModalAction:CA,isModalLaunchedFromPrimaryValue:TA,isCaseWideAction:SA,stages:NA,stageID:PA})})(WA,bA,kA),!FA?.data?.nextAssignmentInfo){const EA=((EA,AA)=>{const{isCaseWideAction:_A,assignmentID:CA,actionID:SA}=AA;return{isCaseWideAction:_A,caseID:is(EA),assignmentID:_A?null:CA,actionID:_A?SA:null}})(FA,bA);(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.END_OF_ASSIGNMENT_PROCESSING,EA)})({...EA,containerItemID:vA})}return((EA,{isModalAction:AA,target:_A,transientItemID:CA})=>{if(AA){const AA=EA.find((({type:EA})=>EA===Ve));AA?.payload&&(_A=AA.payload.target,CA=AA.payload.containerItemID)}const SA=ag({target:_A,containerItemID:CA});SA.payload.transientItems.length&&EA.push(SA)})(CA,{transientItemID:vA,target:LA,isModalAction:wA}),CA})),ql((()=>{const EA=CA.find((EA=>EA.type===Te));return EA?(Mu.handleDeferredActionCompletion(DA),(EA=>{const AA=EA?.payload?.err?.errorDetails,_A=EA?.payload?.context;AA?.forEach((EA=>{EA[G.ERROR_FIELD_IN_PAGE]=EA[G.ERROR_FIELD_IN_PAGE].replace(/(\(\d+\))/g,(EA=>`[${parseInt(EA.substring(1,EA.length-1),10)-1}]`));const AA=EA[G.ERROR_FIELD_IN_PAGE].slice(1),CA=EA[G.ERROR_IN_PAGE_IDENTIFIER],SA=CA.startsWith(".")?CA.slice(1):CA;if(SA){let DA=AA?`caseInfo.content.${AA}`:"caseInfo.content";DA=DA.replace(/\(/g,"[").replace(/\)/g,"]");const TA=zn(SA,DA,G.PROPERTY),NA={type:B.MESSAGES.MESSAGES_TYPE_ERROR,message:EA.localizedValue};vn.mutateField(_A,DA,TA[TA.length-1],{messages:[NA],type:B.MESSAGES.MESSAGES_TYPE_ERROR,fieldName:CA})}}))})(EA),gn.rejectActionByID(_A)):gn.resolveActionByID(_A,SA),TA?.caseId&&(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DONE,EA)})(TA),Kc(CA),(NA||PA)&&Yr.publish(G.PUB_SUB_EVENTS.EVENT_LOCALACTION_SUBMISSION,{updateState:!0}),CA=[],SA={},TA={},CA})))})))},xy="CANCEL_ASSIGNMENT",wy=EA=>{const AA={},{routeKey:_A,isModalAction:CA,caseID:SA,context:DA,RemoteSystemID:TA}=EA;TA&&(AA.RemoteSystemID=TA);const NA=_A||"releaseAssignmentLock",{restApi:PA,reqType:RA}=Og(NA,{ID:SA,caseID:SA,viewType:bc.PAGE});return ac.getPreviewMode()&&(AA[G.SKIPCOREHEADERS]=!0),Hi(yc(PA,{method:RA,headers:AA},DA,{includeRemoteSystemIdIfPresent:!!TA})).pipe(ql((AA=>CA?{actionInPayload:EA}:{response:AA.data,actionInPayload:EA,headers:vc(AA.headers)})),tu(": Error occurred during ajax call at release lock request : ",DA))},My=(EA,AA)=>{const{isModalAction:_A}=AA;return wy({routeKey:"cancelAssignment",isModalAction:_A,...EA})},Ly=EA=>{let AA=0,_A=[];return EA.pipe(Wl(xy),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{isModalAction:_A}=EA;EA.context||(EA.context=Cd(EA.containerItemID));const{context:CA}=EA,SA=(EA=>{const{isModalAction:AA,containerItemID:_A}=EA;return AA?od.MODAL:Qr(_A)})(EA),DA=_t(SA,CA),{continueExecution:TA}=Gc(DA);return TA?(EA.RemoteSystemID=q.getRemoteHeaderByContext(EA.context)??void 0,My(EA,{isModalAction:_A})):(gn.rejectActionByID(AA),eu())})),zl((async EA=>{if(EA&&EA.type===Te)return _A.push(jc(EA)),_A;const{actionInPayload:CA,response:SA}=EA,{containerItemID:DA,isModalAction:TA,isInCreateStage:NA}=CA,PA=Fd(DA),RA=Cd(DA),bA={target:TA?`${G.APP.APP}/${G.MODAL}`:PA,containerItemID:DA,caseViewMode:TA?G.PERFORM_MODE:G.REVIEW_MODE,context:RA,actionMgrID:AA,key:is(SA),skipReleaseLockRequest:!1};return NA&&_A.push(dg(Qh,bA)),!TA&&us(DA)&&(async(EA,AA)=>{const{childContainerItemID:_A,caseViewMode:CA,referencedUsers:SA}=AA,DA=K(_A),TA={context:Cd(DA),data:{referencedUsers:SA,context_data:{caseViewMode:CA}}};TA.data={...AA.response.data,...TA.data},EA.push(dg(jh,TA))})(_A,{childContainerItemID:DA,caseViewMode:G.REVIEW_MODE,referencedUsers:SA?.data.referencedUsers,response:SA}),bA.skipReleaseLockRequest=!0,_A.push(dg(sg,bA)),_A})),ql((()=>(ph(_A),hs(_A,AA),_A=[],_A))))},Uy="NAVIGATE_TO_STEP",Fy=(EA,AA)=>{const{ID:_A,stepID:CA,containerItemID:SA,context:DA=Cd(SA),isInCreateStage:TA}=EA,{state$:NA}=AA,PA={ID:_A,stepID:CA,viewType:TA?bc.PAGE:bc.FORM},{restApi:RA,reqType:bA}=Og("navigateToStep",PA),{content:OA}=xc(DA),vA=NA.value.data[DA].caseInfo.headers;return Hi(yc(`${RA}`,{method:bA,body:OA,headers:{"if-match":vA&&vA.etag}},DA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc({...vA,...AA.headers})}))),tu("Error occurred during ajax call at navigateToStep Epic : ",DA))},{RESOURCE_TYPES:jy}=B,Vy=(EA,AA)=>{let _A=0,CA=[];return EA.pipe(Wl(Uy),Hl((EA=>(({actionMgrID:_A}=EA.payload),Jl(EA.payload).pipe(zl((EA=>(nr(EA.context),Fy(EA,{state$:AA})))),zl((async EA=>{if(EA&&ts(EA.type))return CA.push(jc(EA)),CA;const{actionInPayload:AA,response:_A,headers:SA}=EA,{containerItemID:DA,context:TA=Cd(DA),isModalAction:NA}=AA;vu.clearContextedCache(AA.context);const PA=Fd(DA),RA=Qr(DA),bA=Object.freeze({target:PA,containerItemID:DA,context:TA,containerName:RA}),OA=_A?.data?.caseInfo?.content,vA=_A?.uiResources?.root?.config?.name,xA=_A?.uiResources?.root?.config?.context;OA&&!OA.pyViewName&&vA&&"page"!==AA.viewType&&(Dh.setIn(OA,"pyViewName",vA),Dh.setIn(OA,"pyViewContext",xA));const wA=vm(_A),MA={acName:PA,...bA};await Mc(wA,AA,MA);const LA=wc(wA,{...bA,headers:SA});_A?.nextAssignmentInfo||(LA.caseViewMode=G.REVIEW_MODE),LA.doDeleteCaseSummary=AA.doDeleteCaseSummary,LA.resourceType=jy.ASSIGNMENT,ds(LA,wA),ps(LA.data,AA);const GA=wA.data?.caseInfo?.stages,UA=wA.data?.caseInfo?.stageID;return Kr({caseID:is(wA),isModalAction:NA,stages:GA,stageID:UA}),us(DA)&&Yc(LA,CA),CA.push(dg(Qh,LA)),qc(CA),CA})),ql((()=>(ph(CA),hs(CA,_A),CA=[],CA))))))))},ky=EA=>{const{caseID:AA,context:_A}=EA,{restApi:CA,reqType:SA}=Og("deleteCaseInCreateStage",{ID:AA});return Hi(yc(CA,{method:SA},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc(AA.headers)}))),tu(": Error occurred during ajax call at deleteCaseInCreateStage Epic : ",_A))},$y=EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DELETED,EA)},By=(EA,AA)=>{let _A,CA=0,SA=[];return EA.pipe(Wl(jl),ql((EA=>(({actionMgrID:CA,caseType:_A}=EA.payload),EA.payload))),zl((EA=>EA.ignoreCaseDeletion?Jl({actionInPayload:EA}):ky(EA))),zl((async EA=>{if(EA&&ts(EA.type)){const{payload:AA}=EA,_A=jc({...EA,...AA,actionMgrID:CA});return SA.push(_A),SA}const{actionInPayload:_A}=EA,{context:DA,isModalAction:TA}=_A,NA=TA?od.MODAL:od.PRIMARY,PA=_t(NA,DA);if(!TA&&PA){const EA={acName:PA,target:PA,context:DA},CA=AA.value.containers[PA],{semanticURL:SA}=(EA=>{const{accessedOrder:AA,items:_A}=EA;if(AA&&AA.length>1){const EA=_A[AA[AA.length-2]],{semanticURL:CA}=EA;if(CA)return EA}return{semanticURL:""}})(CA);await Mc({directUrlUpdation:!0,semanticURL:SA},_A,EA)}if(_A.isProcessAction&&_A.parentCaseInfo){const EA={insKey:_A.parentCaseInfo.ID,className:_A.parentCaseInfo.content.classID,context:_A.parentContext,acTargetName:G.PRIMARY,isChild:!0},AA={type:fe,payload:{...EA}};SA.push(AA)}const RA={target:PA,containerItemID:DA,context:DA,caseDeleted:!0};return SA.push(dg(sg,RA)),SA})),ql((()=>(ph(SA),hs(SA,CA)===G.PROMISE_VALUE.RESOLVE&&$y({caseType:_A}),SA=[],SA))))},Gy=(EA,AA)=>{const{assignmentID:_A,actionID:CA,context:SA}=EA,{restApi:DA,reqType:TA}=Og("save",{assignmentID:_A,actionID:CA}),{content:NA}=xc(SA),PA=AA.value.data[SA]?.caseInfo?.headers;return Hi(yc(DA,{method:TA,body:NA,headers:{"if-match":PA&&PA.etag}},SA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc(AA.headers)}))),tu(": Error occurred during ajax call at saveAndCloseAssignment Epic at save action : ",SA))},Wy=(EA,AA=!1)=>{const{action:_A,state$:CA,actionMgrID:SA}=EA;let DA=[];return Jl(_A.payload).pipe(zl((EA=>Gy(EA,CA))),zl((EA=>{if(EA&&ts(EA.type))return Jl(EA);if(EA.actionInPayload.isProcessAction&&EA.response.data.caseInfo.parentCaseInfo){const AA=`${EA.actionInPayload?.containerItemID.includes("root")?G.APP.ROOT:G.APP.APP}/${od.PRIMARY}`,_A=kc(AA,od.PRIMARY),CA={insKey:EA.response.data.caseInfo.parentCaseInfo.ID,className:EA.response.data.caseInfo.parentCaseInfo.content.classID,context:_A,acTargetName:G.PRIMARY,isChild:!0},SA={type:fe,payload:{...CA}};DA.push(SA)}const{containerItemID:AA}=EA&&EA.actionInPayload,CA=K(AA),SA=Fd(CA),TA=cd(SA),NA=Nd(CA)[0]?Ed(Nd(CA)[0]):CA,PA=Ed(SA);if(_A.payload.canUpdateAvailableActions&&Om(EA.response),NA&&DA.push((AA=>dg(jh,{context:AA,data:{caseInfo:{headers:EA.headers}}}))(NA)),TA?.items?.[PA]?.key===EA?.actionInPayload?.caseID){const _A={context:CA,data:{...EA.response.data,caseInfo:{...EA.response.data?.caseInfo||{},headers:EA.headers}}},SA=Rc.getPropertiesToReplace(AA);DA.push(dg(jh,_A,{propertiesToReplace:SA})),DA.push(dg(Qh,{context:AA}))}return ms(EA,DA),EA.actionInPayload.RemoteSystemID=q.getRemoteHeaderByContext(EA.actionInPayload.context)??void 0,wy(EA.actionInPayload)})),zl((async _A=>{if(_A&&ts(_A.type)){const{payload:AA}=_A,CA=jc({..._A,...AA,actionMgrID:SA});DA.push(CA);const TA=EA.action.payload.modalLoadingContainer;if(TA){const EA=TA.context,{context_data:AA}=hh(EA)||{};AA?.isLoading&&jd(EA)}return DA}const{actionInPayload:CA}=_A,{context:TA,containerName:NA}=CA,PA={target:_t(NA,TA),containerItemID:TA,context:TA};return AA||DA.push(dg(sg,PA)),DA})),ql((()=>(ph(DA),hs(DA,SA),AA||(DA=[]),DA))))},Hy=(EA,AA)=>{let _A,CA=0;return EA.pipe(Wl(Vl),Hl((EA=>{const{saveOnly:SA}=EA.payload;return({actionMgrID:CA,caseType:_A}=EA.payload),Wy({action:EA,state$:AA,actionMgrID:CA,caseType:_A},SA)})))},qy=EA=>{const{callbacks:AA}=EA;if(AA?.submit){_A=EA=>{AA.submit(EA),Yr.unsubscribe(G.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,"expressLocalActionSubmit")},Yr.subscribe(G.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,_A,"expressLocalActionSubmit")}var _A},{LOCAL_ACTION_TYPE:zy}=G,{RESOURCE_TYPES:Yy}=B,Ky=(EA,AA)=>{const{actionID:_A,assignmentID:CA,caseID:SA,context:DA,openActionType:TA,modalLoadingContainer:NA,headers:PA}=EA,{isProcessAction:RA}=AA,bA=RA?Qe:(EA=>{const AA=EA.localActionType.toLowerCase();return AA===zy.CASE_WIDE||AA===zy.EXPRESS?Ze:Je})(EA),OA=bc.FORM,{reqType:vA}=Og(bA,{caseID:SA,ID:CA,actionID:_A,viewType:OA});let{restApi:xA}=Og(bA,{caseID:SA,ID:CA,actionID:_A,viewType:OA});EA.actionType=bA===Ze?G.CASE:G.ASSIGNMENT,xA&&!xA.includes("viewType=")&&(xA=xA.includes("?")?`${xA}&viewType=${OA}`:`${xA}?viewType=${OA}`);const wA=NA?.context??DA;return Hi(yc(xA,{method:vA,headers:PA},wA)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc(AA.headers)}))),tu(`: Error occurred during ajax call at ${TA} Epic : `,wA))},Xy=(EA,AA)=>{const{isProcessAction:_A}=AA,CA=_A?Qe:Je;let SA;if(EA.openActionType=CA,"modal"===Jr(CA,EA)){SA=Nd(EA.contextName)[0]?Nd(EA.contextName):Fd(EA.contextName);const _A=SA?Ed(SA):EA.contextName,CA=Cd(_A),DA=Jr(EA.openActionType,EA),TA=_t(DA,EA.context),NA=ee(EA.context,X(DA,EA.context));return ph(qh({target:TA,context:NA,containerItemID:NA,key:EA.caseID,caseViewMode:G.PERFORM_MODE,actionName:EA.name,showProgress:!0,root:{type:"reference",config:{context:G.CASE_INFO.CASE_INFO_CONTENT,type:"view"}},data:{key:EA.caseID,caseInfo:{ID:EA.caseID}}})),ph(Zh({context:NA})),EA.modalLoadingContainer={target:TA,context:NA},Nd(EA.contextName)[0]?EA.continueExecution&&Ol(CA)?(EA.saveActionPayload.modalLoadingContainer=EA.modalLoadingContainer,EA.saveActionPayload.canUpdateAvailableActions=!EA.saveActionPayload.isModalAction,Hi([kl(EA.saveActionPayload)]).pipe(zl((EA=>(EA=>{let AA,_A=0;const CA=[],SA={value:dh()?.getState()};return Jl(EA).pipe(Wl(Vl),Hl((EA=>{const{isFormValid:DA}=EA.payload;if(({actionMgrID:_A,caseType:AA}=EA.payload),!DA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(_A,!0,EA),Jl([])}return Wy({action:EA,state$:SA,actionMgrID:_A,caseType:AA,actionsOut:CA},!0)})))})(EA))),zl((_A=>{if(1===_A.length&&ts(_A[0].type)){const{continueExecution:_A}=Gc(SA);if(!_A)return gn.rejectActionByID(EA.actionMgrID),Zl.pipe(qi((()=>eu()))).toPromise();if(_A)return Ky(EA,AA)}return Ky(EA,AA)})),ql((EA=>EA)))):Ky(EA,AA):Ky(EA,AA)}return Ky(EA,AA)},Jy=async(EA,AA,{headers:_A,actionInPayload:CA})=>{const{context:SA,actionName:DA,openActionType:TA,doDeleteCaseSummary:NA,modalLoadingContainer:PA}=CA,RA=vm(EA),bA=Jr(TA,CA),OA=PA?.target??_t(bA,SA);let vA,xA,wA=!1;!Od(OA)||bd(OA)&&!hd(OA,EA.data.caseInfo.ID)?(xA=X(bA,SA),es(bA)&&(xA=ee(SA,xA)),vA=xA,wA=!0):(vA=bd(OA)?gd(OA,EA.data.caseInfo.ID):Ed(OA),xA=Cd(vA));const MA={acName:OA,target:OA,containerName:bA,context:xA};await Mc(RA,CA,MA),(void 0===RA?.data?.caseInfo?.content||void 0!==RA.data.caseInfo.content&&"object"==typeof RA.data.caseInfo.content&&0===Object.keys(RA.data.caseInfo.content).length)&&delete RA.data?.caseMessages;const LA=RA.uiResources?.root;let GA;GA=LA?G.PERFORM_MODE:G.REVIEW_MODE;const UA=wc(RA,{target:OA,context:xA,containerItemID:vA,caseViewMode:GA,doDeleteCaseSummary:NA,headers:_A,actionName:DA,isMinimizable:!1,isInCreateStage:es(bA),resourceType:Yy.ASSIGNMENT,isProcessAction:CA.isProcessAction,showProgress:CA.showProgress,progressMessage:CA.progressMessage,assignmentID:CA.assignmentID,actionType:CA.actionType});LA&&ds(UA,RA),es(bA)&&delete UA.doDeleteCaseSummary,CA.openActionType===et&&(UA.isBulkAction=!0,UA.data.caseInfo.actionButtons.main[0].jsAction="async"===CA.runningMode?"submitBulkActionAsync":"submitBulkAction",UA.data.caseInfo.actionButtons.secondary[0].jsAction="cancelBulkAction",UA.data.caseInfo.cases=CA.selectedList);const FA=wA?qh:Qh;if(UA.data.context_data.isProcessAction=CA.isProcessAction,AA.push(dg(FA,UA)),wA||AA.push(dg(eg,UA)),wA){const SA=Nd(CA.contextName),DA=gd(SA,EA.data.caseInfo.ID);if(DA){const EA={data:{caseInfo:{headers:_A}},context:DA};AA.push(dg(jh,EA))}}return vA!==Ed(OA)&&AA.push(dg(ng,{target:OA,containerItemID:vA})),us(vA)&&!PA?.context&&Yc(UA,AA),UA.caseViewMode===G.REVIEW_MODE&&AA.push(dg(sg,UA)),AA},Qy="OPEN_LOCAL_ACTION",Zy=(EA,AA)=>Xy(EA,AA),eI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(Qy),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>Zy(EA,{actionMgrID:AA}))),zl((async EA=>{if(!EA)return Zl;if(ts(EA.type)){const AA=jc(EA);_A.push(AA);const{context_data:CA}=hh(EA.payload.context)||{};return CA?.isLoading&&_A.push(dg(eg,EA.payload)),_A}const{actionInPayload:AA,headers:CA,response:SA}=EA,{actionID:DA}=AA;return Dh.setIn(SA,"data.caseInfo.activeActionID",DA),Dh.setIn(SA.data,G.CASE_INFO_IS_LOCAL_ACTION,!0),AA.refreshConditions&&Dh.setIn(SA.data,G.CASE_INFO_REFRESH_CONDITIONS,AA.refreshConditions),await Jy(SA,_A,{headers:CA,actionInPayload:AA}),qy(AA),_A})),ql((()=>(ph(_A),hs(_A,AA),_A=[],_A))))},tI=EA=>{const{actionID:AA,context:_A,openActionType:CA,caseTypeID:SA,bulkContextID:DA="",bulkContextType:TA=""}=EA,NA=et,{reqType:PA,restApi:RA}=Og(NA,{caseTypeID:SA,actionID:AA,bulkContextID:DA,bulkContextType:TA});return Hi(yc(RA,{method:PA},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA,headers:vc(AA.headers)}))),tu(`: Error occurred during ajax call at ${CA} Epic : `,_A))},nI=EA=>{const{callbacks:AA}=EA;if(AA?.submit){_A=EA=>{AA.submit(EA),Yr.unsubscribe(G.PUB_SUB_EVENTS.EVENT_BULKACTION,"bulkActionSubmit")},Yr.subscribe(G.PUB_SUB_EVENTS.EVENT_BULKACTION,_A,"bulkActionSubmit")}var _A},rI="OPEN_BULK_ACTION",sI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(rI),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>((EA,AA)=>{const{context:_A}=EA,{actionMgrID:CA}=AA;EA.openActionType=et;const SA=Jr(et,EA),DA=_t(SA,_A),{continueExecution:TA}=Gc(DA);return TA?tI(EA):(gn.rejectActionByID(CA),eu())})(EA,{actionMgrID:AA}))),zl((async EA=>{if(EA&&ts(EA.type)){const AA=jc(EA);return _A.push(AA),_A}const{actionInPayload:AA,headers:CA,response:SA}=EA,{actionID:DA}=AA;return Dh.setIn(SA,"data.caseInfo.activeActionID",DA),await Jy(SA,_A,{headers:CA,actionInPayload:AA}),nI(AA),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))};var aI=Array.isArray,oI=Object.getPrototypeOf,iI=Object.prototype,cI=Object.keys;function lI(EA){if(1===EA.length){var AA=EA[0];if(aI(AA))return{args:AA,keys:null};if((CA=AA)&&"object"==typeof CA&&oI(CA)===iI){var _A=cI(AA);return{args:_A.map((function(EA){return AA[EA]})),keys:_A}}}var CA;return{args:EA,keys:null}}var uI=Array.isArray;function dI(EA){return ql((function(AA){return function(EA,AA){return uI(AA)?EA.apply(void 0,Yo([],zo(AA))):EA(AA)}(EA,AA)}))}function pI(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];var _A=function(EA){return Zo(Kl(EA))?EA.pop():void 0}(EA),CA=lI(EA),SA=CA.args,DA=CA.keys,TA=new Pi((function(EA){var AA=SA.length;if(AA)for(var _A=new Array(AA),CA=AA,TA=AA,NA=function(AA){var NA=!1;Li(SA[AA]).subscribe(Vi(EA,(function(EA){NA||(NA=!0,TA--),_A[AA]=EA}),(function(){return CA--}),void 0,(function(){CA&&NA||(TA||EA.next(DA?function(EA,AA){return EA.reduce((function(EA,_A,CA){return EA[_A]=AA[CA],EA}),{})}(DA,_A):_A),EA.complete())})))},PA=0;PA<AA;PA++)NA(PA);else EA.complete()}));return _A?TA.pipe(dI(_A)):TA}const hI=EA=>{const{actionID:AA,context:_A,cases:CA,classID:SA}=EA,{content:DA}=xc(_A,{nonEmptyAndChangedData:!0});let TA=5;try{const EA=Hu.getSharedState("D_pySingleExecutionBulkActionsMeta.D_pySingleExecutionBulkActionsMeta.pxResults");EA?.find((EA=>EA.pyClassName===SA))?.pyList.split(",").includes(AA)&&(TA=1)}catch(EA){console.error('Failed to fetch to "D_pySingleExecutionBulkActionsMeta" DP response',EA)}const NA=CA.map((EA=>({ID:EA}))),PA=NA.length/TA,RA=tt,{reqType:bA,restApi:OA}=Og(RA,{actionID:AA}),vA=[],xA=NA.length;for(let wA=0;wA<xA;wA+=PA)DA.cases=NA.slice(wA,wA+PA),DA.cases.length&&vA.push(Hi(yc(OA,{method:bA,body:DA},_A)).pipe(ql((AA=>{const{data:_A,headers:CA}=AA;return{response:_A,actionInPayload:EA,headers:vc({...CA})}})),tu("Error occurred during ajax call at submitbulkaction Epic : ",_A)));return pI(vA)},gI=EA=>{Yr.publish(G.PUB_SUB_EVENTS.EVENT_BULKACTION,EA)},fI="SUBMIT_BULK_ACTION",mI=EA=>{let AA,_A=0,CA=[],SA="";return EA.pipe(Wl(fI),Hl((EA=>{const{isFormValid:DA}=EA.payload;if(({actionMgrID:_A}=EA.payload),!DA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(_A,!0,EA),Jl([])}return Jl(EA.payload).pipe(zl((EA=>(AA=EA,hI(AA)))),zl((EA=>{let _A=0,DA=0;const TA=[],{containerItemID:NA,context:PA}=AA;return EA.map((EA=>{const{response:AA}=EA;_A+=Number(AA.successCount),DA+=Number(AA.failureCount),DA&&AA.results.map((EA=>{"200"!==EA.status&&EA.error&&EA.error.errorDetails&&EA.error.errorDetails.forEach((AA=>{TA.push({ID:EA.BusinessID,message:AA.localizedValue})}))}))})),SA=`${_A} record(s) updated`,gI({submitResponse:EA}),AA.target=`${G.APP.APP}/${od.MODAL}`,CA.push(dg(sg,{containerItemID:NA,context:PA,target:AA.target,skipReleaseLockRequest:!0})),DA&&CA.push(dg(rg,{messages:[{type:"error",message:1===DA?"1 record failed to update":`${DA} records failed to update`,errorDetails:TA,showHeader:!1}],context:K(PA)||PA,category:"HTTP",showHeader:!1})),CA})),ql((()=>(gn.resolveActionByID(_A,SA),ph(CA),CA=[],CA))))})))},yI=EA=>{const{actionID:AA,context:_A,cases:CA}=EA,{content:SA}=xc(_A,{nonEmptyAndChangedData:!0});SA.cases=CA.map((EA=>({ID:EA})));const DA=tt,{reqType:TA,restApi:NA}=Og(DA,{actionID:AA,runningMode:"async"});return Hi(yc(NA,{method:TA,body:SA},_A)).pipe(ql((AA=>{const{data:_A,headers:CA}=AA;return{response:_A,actionInPayload:EA,headers:vc({...CA})}})),tu("Error occurred during ajax call at submitbulkaction Epic : ",_A))},II=EA=>{Yr.publish(G.PUB_SUB_EVENTS.EVENT_BULKACTION,EA)},EI="SUBMIT_BULK_ACTION_ASYNC",AI=EA=>{let AA,_A=0,CA=[],SA="";return EA.pipe(Wl(EI),Hl((EA=>{const{isFormValid:DA}=EA.payload;if(({actionMgrID:_A}=EA.payload),!DA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(_A,!0,EA),Jl([])}return Jl(EA.payload).pipe(Hl((EA=>(AA=EA,yI(AA)))),ql((EA=>{const _A=[],{containerItemID:DA,context:TA}=AA,{response:NA}=EA,PA=Number(NA.failureCount)||0;return PA>0&&NA.results.forEach((({status:EA,error:AA,BusinessID:CA})=>{"200"!==EA&&AA&&AA.errorDetails&&AA.errorDetails.forEach((({localizedValue:EA})=>{_A.push({ID:CA,message:EA})}))})),SA="Processing bulk actions",II({submitResponse:NA}),AA.target=`${G.APP.APP}/${od.MODAL}`,CA.push(dg(sg,{containerItemID:DA,context:TA,target:AA.target,skipReleaseLockRequest:!0})),PA&&CA.push(dg(rg,{messages:[{type:"error",message:1===PA?"1 record failed to update":`${PA} records failed to update`,errorDetails:_A,showHeader:!1}],context:K(TA)||TA,category:"HTTP",showHeader:!1})),CA})),ql((()=>(gn.resolveActionByID(_A,SA),ph(CA),CA=[],CA))))})))},_I=(EA,AA)=>Xy(EA,AA),CI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(Ul),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>(nr(EA.context),_I(EA,{actionMgrID:AA,isProcessAction:!0})))),zl((async EA=>{if(EA&&ts(EA.type)){const AA=jc(EA);return _A.push(AA),_A}const{actionInPayload:AA,headers:CA,response:SA}=EA;return await Jy(SA,_A,{headers:CA,actionInPayload:AA}),_A})),ql((()=>(Kc(_A),hs(_A,AA),_A=[],_A))))},SI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(De,Ve),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{containerItemID:AA,caseID:_A,context:CA,caseDeleted:SA,skipReleaseLockRequest:DA,currentCaseViewMode:TA,isProcessAction:NA,isInCreateStage:PA}=EA,RA=TA===G.PERFORM_MODE,bA=_A&&RA;return NA&&PA?wy(EA):AA!==CA||SA||DA||!bA?AA?.includes(G.MODAL)&&ys(sp(AA))===G.REVIEW_MODE?wy(EA):Jl([]):wy(EA)})),zl((EA=>(EA&&ts(EA.type)&&_A.push(jc(EA)),_A))),ql((()=>(ph(_A),hs(_A,AA),_A=[],_A))))};var TI=new af(tf),NI=TI;function PI(EA,AA,_A){void 0===EA&&(EA=0),void 0===_A&&(_A=NI);var CA=-1;return null!=AA&&(Yl(AA)?_A=AA:CA=AA),new Pi((function(AA){var SA,DA=(SA=EA)instanceof Date&&!isNaN(SA)?+EA-_A.now():EA;DA<0&&(DA=0);var TA=0;return _A.schedule((function(){AA.closed||(AA.next(TA++),0<=CA?this.schedule(void 0,CA):AA.complete())}),DA)}))}function RI(EA,AA){return void 0===EA&&(EA=0),void 0===AA&&(AA=TI),EA<0&&(EA=0),PI(EA,EA,AA)}function DI(EA){return ji((function(AA,_A){var CA=!1,SA=null,DA=null,TA=function(){if(null==DA||DA.unsubscribe(),DA=null,CA){CA=!1;var EA=SA;SA=null,_A.next(EA)}};AA.subscribe(Vi(_A,(function(AA){null==DA||DA.unsubscribe(),CA=!0,SA=AA,DA=Vi(_A,TA,ui),Li(EA(AA)).subscribe(DA)}),(function(){TA(),_A.complete()}),void 0,(function(){SA=DA=null})))}))}const bI=(EA,AA,_A,CA,SA)=>{SA===G.RESOURCE_STATUS.CREATE&&(el.isStateMachineExist(EA,AA,_A)||el.setStateMachine(EA,_A,AA,new hr(_A,AA,EA)),el.getStateMachine(EA,AA,_A).insert({},CA+1,!0,{isDefault:!0}))},OI=EA=>{const{context:AA}=EA;let _A={...xc(AA).content,contextData:!1};const CA=Jc(AA);Dh.isEmpty(CA)||(_A=Xc(CA,_A));const{restApi:SA,reqType:DA}=Og("refreshCaseView",EA);return _A.interestPage=EA.interestPage,Hi(yc(SA,{method:DA,body:_A},AA)).pipe(ql((AA=>({actionInPayload:EA,response:AA.data,headers:vc(AA.headers)}))),tu(": Error occurred during ajax call : ",AA))},vI=EA=>{let AA=0,_A=[],CA="";return EA.pipe(Wl(yt),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>OI(EA))),zl((async EA=>{if(EA&&EA.type===Te)return _A.push(jc(EA)),{actionsOut:_A,actionInPayload:{skipPageInstructions:!0}};const{actionInPayload:AA,response:SA}=EA,DA=AA.containerName,TA=_t(DA,AA.context);let NA=kc(TA,DA,AA.context);NA=ee(AA.context,NA);const PA=vm(SA);PA.key=AA.ID,PA.data?.caseInfo&&(PA.data.caseInfo.ID=AA.ID);const RA={isMultiRecordData:!0,viewName:AA.viewID,parentContext:AA.context,interestPage:AA.interestPage};PA.uiResources.context_data.modalView=RA;const bA=hh(AA.context)?.context_data?.caseInfo,OA=`${AA.pageReference}${AA.targetProperty}`,vA=Yn(bA,OA.replace(G.CASE_INFO.CASE_INFO_CONTENT,"").slice(1),AA.index);PA.uiResources.context_data.caseInfo={...PA.uiResources.context_data.caseInfo,content:Dh.mergeDeep(PA.uiResources.context_data.caseInfo?.content,vA?.content)};const xA=xh.getProperty(".RemoteSystemID",G.CASE_INFO.HEADERS,AA.context),wA={acName:TA,context:NA};await Mc(PA,AA,wA);const MA={target:TA,context:NA,containerItemID:NA};xA&&(MA.headers={RemoteSystemID:xA});const LA=wc(PA,MA);LA.resourceStatus=AA.actionType,LA.isMultiRecordData=!0,LA.parentContext=AA.context,LA.heading=AA.heading;const GA=Vc(TA,LA);return CA=NA,_A.push(GA),qc(_A),{actionsOut:_A,actionInPayload:AA}})),ql((({actionInPayload:EA})=>(ns(_A)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],EA.skipPageInstructions||bI(CA,EA.pageReference,EA.targetProperty,EA.index,EA.actionType),_A))))},xI=EA=>{let AA,_A="",CA=[];return EA.pipe(Wl(It),Hl((EA=>{AA=EA.payload;const{isFormValid:SA}=EA.payload;if(({actionMgrID:_A}=EA.payload),!SA){const AA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(_A,!0,AA),Mu.handleDeferredActionCompletion(EA.payload.context),Jl([])}return Jl(EA.payload).pipe(zl((EA=>(AA=EA,OI(AA)))),zl((async EA=>{if(EA&&EA.type===Te){const AA=jc(EA);return CA.push(AA),CA}const{containerItemID:_A,context:SA}=AA;var DA,TA,NA,PA;return DA=SA,TA=AA.parentContext,NA=B.CASE_INFO.CASE_INFO_CONTENT,PA=!1,_r(DA).forEach((EA=>{const AA=Dh.convertClipboardPageToPageRefNotation(EA.target);el.isStateMachineExist(TA,NA,AA)||el.setStateMachine(TA,AA,NA,new hr(AA,NA,TA));const _A=el.getStateMachine(TA,NA,AA);switch(EA.instruction.toLowerCase()){case"insert":_A.insert(EA.content,EA.listIndex,PA,{});break;case"update":_A.update(EA.content,EA.listIndex,PA,{});break;case"delete":EA.listIndex?_A.delete(EA.listIndex,PA):_A.deletePage();break;case"replace":_A.replacePage(EA.content);break;case"move":_A.move(EA.listIndex,EA.listMoveToIndex);break;case"delete all":_A.deleteAll()}})),CA.push(dg(sg,{containerItemID:_A,context:SA,target:AA.target,skipReleaseLockRequest:!0})),CA})),ql((()=>{if(ns(CA))gn.rejectActionByID(_A),Mu.handleDeferredActionCompletion(AA.context);else{gn.resolveActionByID(_A),Mu.handleDeferredActionCompletion(AA.context);const{pageReference:CA}=EA.payload;if(xh.getPropertyValue(G.CONTEXT_DATA_MODAL_VIEW.IS_MULTI_RECORD_DATA,CA,AA.parentContext)){const EA=xh.getPropertyValue(B.CASE_INFO.CASE_INFO_ID,CA,AA.parentContext),_A=xh.getPropertyValue(G.CONTEXT_DATA_MODAL_VIEW.VIEW_NAME,CA,AA.parentContext),SA=AA.pageReference?.substring(0,AA.pageReference?.lastIndexOf(".")),DA=SA.replace(G.CASE_INFO.CASE_INFO_CONTENT,"");Un(EA,_A,AA.parentContext,DA,{})}else kn(AA.parentContext,G.CASE_INFO.CASE_INFO_CONTENT,{})}return ph(CA),CA=[],CA})))})))},wI=EA=>{const{caseID:AA,headers:_A,debugInfo:CA,context:SA}=EA,DA=Og("getDescendants",{caseID:AA}),{restApi:TA}=DA,{reqType:NA}=DA;return Hi(yc(TA,{method:NA,headers:{..._A,...CA&&{...ic.addDebugHeaders(CA)}}},SA)).pipe(ql((AA=>({actionInPayload:EA,response:AA.data,headers:vc({..._A,...AA.headers})}))),tu("Error ocurred during ajax call at getDescendants Epic : ",SA))},MI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(wu),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>wI(EA))),zl((async EA=>{if(EA&&ts(EA.type))return _A.push(jc(EA)),_A;const{actionInPayload:AA,response:CA}=EA,SA={};Dh.setIn(SA,"caseInfo.childCases",CA?.childCases);const DA={data:SA,context:AA?.context};return _A.push(dg(jh,DA)),_A})),ql((()=>(ph(_A),hs(_A,AA),_A=[],_A))))},LI=[sy,py,yy,eI,sI,mI,AI,CI,vy,Vy,Ly,SI,Hy,By,EA=>EA.pipe(Wl(Xe),DI((()=>RI(100))),ql((EA=>{const{actionMgrID:AA,isChildCase:_A,isModalAction:CA,isProcessAction:SA,isDataObject:DA,skipReleaseLockRequest:TA,isInCreateStage:NA}=EA.payload;return gn.resolveActionByID(AA),Yr.publish(G.PUB_SUB_EVENTS.EVENT_SHOW_CANCEL_ALERT,{isModalAction:CA,hideDelete:!SA&&_A,isDataObject:DA,skipReleaseLockRequest:TA,isInCreateStage:NA}),[]}))),EA=>EA.pipe(Wl(ke),DI((()=>RI(100))),ql((EA=>{const{actionMgrID:AA,context:_A,containerName:CA,containerItemID:SA}=EA.payload,DA=_t(CA,_A);return gn.resolveActionByID(AA),ph(dg(ng,{containerItemID:SA,target:DA,doDeleteCaseSummary:!1})),[]}))),vI,xI,MI],UI=LI;function FI(){return ji((function(EA,AA){EA.subscribe(Vi(AA,ui))}))}const{RESOURCE_TYPES:jI}=B,VI=[EA=>EA.pipe(Wl(oe),ql((EA=>EA.payload)),zl((EA=>{const AA={caseID:EA.caseId,viewID:EA.viewName,caseClassName:EA.caseClassName,RemoteSystemID:EA.RemoteSystemID};if(EA.containerName===od.PREVIEW&&EA.context&&EA.caseId&&!EA.updateData){const AA=_t(od.PREVIEW,EA.context),_A=kc(AA,od.PREVIEW,EA.context,{buildNew:!0}),CA=decodeURI(EA.caseId);ph(qh({...EA,context:_A,target:AA,containerItemID:_A,key:CA,caseViewMode:G.REVIEW_MODE,root:{type:"reference",config:{context:G.CASE_INFO.CASE_INFO_CONTENT,name:EA.viewName,type:"view"}},data:{key:CA,caseInfo:{ID:CA,progress:!0,error:!1,caseTypeID:EA.caseClassName,content:{classID:EA.caseClassName}}}})),EA.viewLoadingContainer={target:AA,context:_A}}const _A={};if(AA.RemoteSystemID)_A.RemoteSystemID=AA.RemoteSystemID;else if(q.isRemoteCase(AA.caseClassName)){const{RemoteSystemID:EA}=q.getRemoteCase(AA.caseClassName);_A.RemoteSystemID=EA}let{restApi:CA,reqType:SA}=Og("loadView",AA);return EA.viewContext===jI.PAGE&&({restApi:CA,reqType:SA}=Og(Ge,{page:EA.viewName,pageClass:EA.pageClass})),Hi(yc(CA,{method:SA,headers:_A},EA.context)).pipe(ql((AA=>{const _A=decodeURI(EA.caseId);let CA="";return"string"==typeof AA.data?AA.data?CA=JSON.parse(AA.data):(console.error("response data is empty!!"),CA={}):CA=AA.data,{response:{...CA,key:_A},actionConfig:EA,headers:vc(AA.headers),rootView:Dh.getIn(CA,G.ROOT)}})),tu(": Error ocurred during ajax call at loadView Epic : ",EA.viewLoadingContainer?.context??EA.context))})),zl((async EA=>{const AA={};if(EA?.type===Te){if(AA.actionsOut=jc(EA),EA?.payload?.context?.includes(od.PREVIEW)){const _A={...hh(EA.payload.context),caseInfo:{progress:!1,error:!0}},CA=_t(od.PREVIEW,EA.payload.context);AA.actionsOut=dg(Qh,{key:_A.key,target:CA,containerName:od.PREVIEW,context:EA.payload.context,containerItemID:EA.payload.context,data:_A})}return AA}try{AA.actionMgrID=EA?.actionConfig?.actionMgrID,AA.rootView=EA?.rootView;const{actionConfig:_A,response:CA,headers:SA}=EA;EA?.actionConfig?.skipAssignmentsUpdate&&(delete CA?.data?.caseInfo?.assignments,delete CA?.data?.caseInfo?.availableActions,delete CA?.data?.caseInfo?.availableProcesses);const{containerItemID:DA,containerName:TA}=_A,{target:NA,context:PA}=(EA=>{const{containerName:AA,updateData:_A,viewLoadingContainer:CA}=EA,SA=AA||Hr.getTargetViewContainerName(Ge),DA=CA?.target??_t(SA,EA.context);return{target:DA,context:CA?.context??(AA===od.PREVIEW&&_A?EA.context:kc(DA,SA,EA.context,{buildNew:!!AA}))}})(_A);_A.context=PA;const RA={acName:NA,context:PA};let bA={};bA=vm(CA),bA.directUrlUpdation=!1,await Mc(bA,_A,RA);const OA={..._A,target:NA,context:PA,containerItemID:DA||PA,headers:SA},vA=wc(bA,OA);if(vA.resourceType=jI.CASE,TA&&!vA.updateData){vA.caseViewMode=G.REVIEW_MODE;const EA=Fd(vA?.context);((EA,AA,_A,CA,SA)=>{EA&&SA===od.PREVIEW?(_A.data.caseInfo.progress=!1,delete _A.root,CA.actionsOut=dg(Qh,{..._A,containerName:SA})):EA?(CA.actionsOut=[],CA.actionsOut.push(dg(ng,{target:AA,containerItemID:EA}))):CA.actionsOut=dg(qh,{..._A,containerName:SA})})(gd(EA,vA.key),EA,vA,AA,TA)}else vA.preserveClientChanges=!0,AA.actionsOut=[],TA===od.PREVIEW&&AA.actionsOut.push({type:lt,payload:{context:PA}}),AA.actionsOut.push(dg(jh,vA))}catch(EA){console.error(EA),AA.rootView={type:"error",payload:EA}}const{caseId:_A,context:CA,viewName:SA}=EA.actionConfig;return"pyCasePreview"===SA&&(EA=>{Yr.publish(G.PUB_SUB_EVENTS.CASE_EVENTS.CASE_PREVIEW,EA)})({caseId:_A,context:CA}),AA})),ql((({rootView:EA,actionsOut:AA,actionMgrID:_A=0})=>(gn.resolveActionByID(_A,EA),AA)))),EA=>{let AA=0,_A=[];return EA.pipe(Wl(ie),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{Yr.publish(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_STARTED);const{debugInfo:_A,context:CA,viewName:SA,className:DA,skipSemanticUrl:TA=!1,containerName:NA=Hr.getTargetViewContainerName(Ge)}=EA,PA=_A&&{...ic.addDebugHeaders(_A)},RA=_t(NA,CA);let bA="",OA={},vA=!0;if(!TA){if(bA=Dg(Ge,{page:SA}),RA&&bA){const{activate:AA,activateContainerActionPayload:_A}=Hc(jI.PAGE,RA,{semanticURL:bA});if(AA)return Jl({type:Ue,activateContainerActionPayload:_A,actionConfig:EA})}if(Ed(RA)&&({continueExecution:vA,removeActionPayload:OA}=Gc(RA)),!vA)return gn.rejectActionByID(AA),eu()}const{restApi:xA,reqType:wA}=Og(Ge,{page:SA,pageClass:DA});return Hi(yc(xA,{method:wA,headers:PA},CA)).pipe(ql((AA=>{let _A={};return _A="string"==typeof AA.data?JSON.parse(AA.data):AA.data,{response:{..._A,key:bA,semanticURL:bA},actionConfig:EA,headers:vc(AA.headers),removeActionPayload:OA,skipSemanticUrl:TA}})),tu(": Error ocurred during ajax call at showPage Epic : ",EA.context))})),zl((async EA=>{if(EA&&EA.type===Te)return _A.push(jc(EA)),_A;let{type:AA}=EA;const{actionConfig:CA,skipSemanticUrl:SA}=EA,DA=CA.containerName||Hr.getTargetViewContainerName(ie),TA=_t(DA,CA.context);Yr.publish(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_INIT,{pageName:EA.actionConfig.viewName,pageClass:EA.actionConfig.className});const{remoteCasePayload:NA,updatedType:PA}=((EA,AA,_A,CA)=>{let SA={},DA=EA;if(_A.isTraditionalRemoteCase){SA={..._A};const EA=gd(CA,SA.insKey);EA&&(AA.activateContainerActionPayload={containerItemID:EA},DA=Ue)}return{remoteCasePayload:SA,updatedType:DA}})(AA,EA,CA,TA);if(AA=PA??AA,AA===Ue){const{activateContainerActionPayload:{semanticURL:AA,containerItemID:SA}}=EA,DA={acName:TA,context:Cd(SA)};CA.isTraditionalRemoteCase||await Mc({directUrlUpdation:!0,semanticURL:AA},CA,DA,!0),_A.push(dg(ng,{target:TA,containerItemID:SA}))}else{const AA=kc(TA,DA,CA.context),{response:PA,headers:RA={},removeActionPayload:bA}=EA,OA=vm(PA,{isCreateDataObject:CA.isCreateDataObject});OA.directUrlUpdation=!SA;const vA={acName:TA,context:AA},xA=ys(AA);await Mc(OA,CA,vA);const wA={target:TA,context:AA,containerItemID:AA,headers:RA,debugInfo:CA.debugInfo,currentCaseViewMode:xA},MA=wc(OA,wA);MA.resourceType=B.PAGE,CA.isCreateDataObject&&(MA.resourceType=B.RESOURCE_TYPES.DATA,MA.resourceStatus=B.RESOURCE_STATUS.CREATE,delete MA.data.caseInfo),((EA,AA,_A)=>{EA.isTraditionalRemoteCase&&(_A.resourceType=B.CASE,_A.key=Rc.getRemoteCaseKey(AA.assignmentID,AA.insKey),_A.data.caseInfo={..._A.data.caseInfo,...AA,classID:AA.className,target:_A.target,containerItemID:_A.containerItemID,caseTypeID:AA.className,content:{pyLabel:AA.name,pyID:ss(Rc.getRemoteCaseKey(AA.assignmentID,AA.insKey))}},_A.isTraditionalRemoteCase=!0,_A.className=AA.className)})(CA,NA,MA),MA.data??={},MA.data.traditionalGadgetId=Rc.getUniqueGadgetId();const LA=Vc(TA,MA);bA.containerItemID&&$c(LA)&&_A.push(dg(sg,{containerItemID:bA.containerItemID,target:TA})),_A.push(LA),qc(_A)}return Yr.publish(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_DONE,{target:TA,pageName:EA.actionConfig.viewName,pageClass:EA.actionConfig.className}),_A})),ql((()=>{gn.resolveActionByID(AA),ph(_A),_A=[]})),FI())}],kI=VI,$I=(EA,AA)=>{const{context:_A,pageName:CA,dataContext:SA,dataContextParameters:DA,semanticURL:TA,skipSemanticUrl:NA,RemoteSystemID:PA}=EA,{removeActionPayload:RA}=AA,{restApi:bA,reqType:OA,body:vA}=Og(We,{pageName:CA,dataContext:SA,dataContextParameters:DA}),xA={};return xA.RemoteSystemID=PA,Hi(yc(bA,{method:OA,headers:xA,body:vA},_A)).pipe(ql((AA=>({response:{...AA.data,key:TA,semanticURL:TA},actionConfig:EA,headers:vc(AA.headers),removeActionPayload:RA,skipSemanticUrl:NA}))),tu("Error occurred during ajax call at showData Epic : ",EA.context))},{RESOURCE_TYPES:BI}=B,GI=EA=>{let AA,_A=0,CA=[];return EA.pipe(Wl(ce),(SA=EA=>(({actionMgrID:_A}=EA.payload),Jl(EA.payload).pipe(zl((EA=>((EA,AA)=>{const{context:_A,pageName:CA,dataContext:SA,dataContextParameters:DA,skipSemanticUrl:TA=!1,isDeferLoaded:NA=!1,parentAction:PA="",resourceType:RA,containerName:bA,RemoteSystemID:OA}=EA,vA=_t(bA,_A);let xA="",wA={},MA=!1;if(!TA){xA=Dg(We,{pageName:CA,dataViewName:SA},DA);const{activate:_A,activateContainerActionPayload:TA}=Hc(BI.PAGE,vA,{semanticURL:xA});if(_A)return Jl({type:Ue,activateContainerActionPayload:TA,actionConfig:EA});if(({continueExecution:MA,removeActionPayload:wA}=Gc(vA)),!MA)return gn.rejectActionByID(AA),eu()}return $I({context:_A,pageName:CA,dataContext:SA,dataContextParameters:DA,semanticURL:xA,skipSemanticUrl:TA,containerName:bA,isDeferLoaded:NA,parentAction:PA,resourceType:RA,RemoteSystemID:OA},{removeActionPayload:wA})})(EA,_A))),zl((async EA=>{if(EA&&EA.type===Te)return CA.push(jc(EA)),CA;const{type:_A,actionConfig:SA,headers:DA,response:TA,skipSemanticUrl:NA}=EA;AA=Dh.getIn(TA,G.ROOT);const{containerName:PA,parentAction:RA,resourceType:bA}=SA,OA=_t(PA,SA.context);let vA;const xA=ys(SA?.context);if(SA.isDeferLoaded){vA=vm(TA),vA.directUrlUpdation=!NA;const AA={acName:OA,context:SA.context};await Mc(vA,SA,AA);const _A={target:OA,headers:DA,context:SA.context,containerItemID:EA.containerItemID},PA=wc(vA,_A);return CA=dg(jh,PA),CA}if(_A===Ue){const{activateContainerActionPayload:{semanticURL:AA,containerItemID:_A}}=EA,DA={acName:OA,context:Cd(_A)};await Mc({directUrlUpdation:!0,semanticURL:AA},SA,DA,!0),CA.push(dg(ng,{target:OA,containerItemID:_A,resourceType:BI.DATA}))}else if("DATA"===bA&&RA===mt){const{context:EA}=SA,AA=TA?.data,_A={context:EA,data:AA};CA.push(dg(jh,_A))}else{const AA=kc(OA,PA,SA.context),{removeActionPayload:_A}=EA;vA=vm(TA),vA.directUrlUpdation=!NA;const RA={acName:OA,context:AA};await Mc(vA,SA,RA);const bA=wc(vA,{target:OA,context:AA,containerItemID:AA,headers:DA,currentCaseViewMode:xA});bA.resourceType=BI.DATA;const wA=Vc(OA,bA);_A.containerItemID&&$c(wA)&&CA.push(dg(sg,{containerItemID:_A.containerItemID,target:OA})),qc(CA),CA.push(wA)}return CA})),ql((()=>(gn.resolveActionByID(_A,AA),ph(CA),CA=[],CA))))),Zo(DA)?zl(SA,DA,1):zl(SA,1)));var SA,DA},WI=EA=>{const{dataViewName:AA,context:_A,dataViewParameters:CA}=EA,SA={data_view_ID:AA,dataViewParameters:encodeURIComponent(JSON.stringify(CA))},{restApi:DA,reqType:TA}=Og("deleteDataObject",SA);return Hi(yc(DA,{method:TA},_A)).pipe(ql((AA=>({response:AA.data,actionInPayload:EA}))),tu("Error occurred during ajax call at deleteDataObject Epic",_A))},HI=EA=>{let AA=0,_A=[];return EA.pipe(Wl(pt),nu(100),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>WI(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}return[]})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))},qI=EA=>{const{dataViewID:AA,dataViewParameters:_A,context:CA}=EA,SA={data_view_ID:AA},{restApi:DA,reqType:TA}=Og("getDataObjectActions",SA);return Hi(yc(DA,{method:TA,body:{dataViewParameters:_A}},CA)).pipe(ql((EA=>({...EA.data}))),tu("Error occurred during ajax call at GET data object actions : ",EA.context))},zI=EA=>{let AA=0,_A=[],CA={};return EA.pipe(Wl(Ce),nu(100),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>qI(EA))),zl((async EA=>EA&&EA.type===Te?(_A.push(jc(EA)),_A):(CA=EA,[]))),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA,CA),ph(_A),_A=[],_A))))},YI=[GI,EA=>{let AA=0,_A=[];return EA.pipe(Wl(dt),nu(100),Hl((EA=>{const{isFormValid:CA}=EA.payload;if(({actionMgrID:AA}=EA.payload),!CA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(AA,!0,EA),Jl([])}return Jl(EA.payload).pipe(zl((EA=>ru(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}const{actionInPayload:CA}=EA,{containerItemID:SA,isModalAction:DA}=CA,TA=DA?od.MODAL:od.PRIMARY,NA={target:_t(TA,SA),containerItemID:SA,context:SA};return _A.push(dg(sg,NA)),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))})))},EA=>{let AA=0,_A=[];return EA.pipe(Wl(ht),nu(100),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>su(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}const{actionInPayload:CA,response:SA,headers:DA={}}=EA,{containerName:TA}=CA,NA=_t(TA,CA.context),PA=kc(NA,TA,CA.context),RA={acName:NA,context:PA};await Mc(SA,CA,RA);const bA=wc(SA,{target:NA,context:PA,containerItemID:PA,headers:DA});return bA.resourceType=B.RESOURCE_TYPES.DATA,bA.resourceStatus=B.RESOURCE_STATUS.UPDATE,bA.key=JSON.stringify(CA.requestPayload),_A.push(dg(qh,bA)),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))},EA=>{let AA=0,_A=[];return EA.pipe(Wl(gt),nu(100),Hl((EA=>{const{isFormValid:CA}=EA.payload;if(({actionMgrID:AA}=EA.payload),!CA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(AA,!0,EA),Jl([])}return Jl(EA.payload).pipe(zl((EA=>au(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}const{actionInPayload:CA}=EA,{containerItemID:SA,isModalAction:DA}=CA,TA=DA?od.MODAL:od.PRIMARY,NA={target:_t(TA,SA),containerItemID:SA,context:SA};return _A.push(dg(sg,NA)),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))})))},HI,zI,EA=>{let AA=0,_A=[];return EA.pipe(Wl(ft),nu(100),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>ou(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}const{actionInPayload:CA,response:SA,headers:DA={}}=EA,{containerName:TA,actionID:NA,context:PA,actionName:RA}=CA,bA=_t(TA,CA.context);let OA=X(TA,PA);OA=ee(PA,OA);const vA={target:bA,context:OA,containerItemID:OA,headers:DA,resourceType:B.RESOURCE_TYPES.DATA,resourceStatus:B.RESOURCE_STATUS.OPEN_FLOW_ACTION,key:JSON.stringify(CA.dataViewParameters),actionID:NA,actionName:RA},xA={acName:bA,context:PA};await Mc(SA,CA,xA);const wA=wc(SA,vA);return _A.push(dg(qh,wA)),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))},EA=>{let AA=0,_A=[];return EA.pipe(Wl(mt),nu(100),Hl((EA=>{const{isFormValid:CA}=EA.payload;({actionMgrID:AA}=EA.payload);const SA=EA.payload.context;if(!CA){const EA={type:B.SUBMISSION_FAILURE_TYPE.FORM_VALIDATION_ERROR};return gn.rejectActionByID(AA,!0,EA),Jl([])}return Qn({context:SA,stateObj:hh(SA),clearContextMessages:!0}),Jl(EA.payload).pipe(zl((EA=>iu(EA))),zl((async EA=>{if(EA&&EA.type===Te){const{payload:CA}=EA,SA=jc({...EA,...CA,actionMgrID:AA});return _A.push(SA),_A}const{actionInPayload:CA,response:SA,headers:DA={}}=EA,{containerName:TA,containerItemID:NA,resourceType:PA,key:RA}=CA,bA=_t(TA,CA.context),OA={acName:bA,context:CA.context};await Mc(SA,CA,OA);const vA={key:RA,target:bA,resourceType:PA,containerItemID:NA,headers:DA,context:CA.context};return _A=((EA,AA,_A,CA)=>{const{resourceType:SA,key:DA,containerItemID:TA}=CA,NA=wc(_A,AA);NA.resourceType=SA||B.RESOURCE_TYPES.DATA;const PA=te(TA);EA.push(dg(sg,NA));const RA=mh(".dataContext","dataInfo",PA),bA=mh(".dataContextParameters","dataInfo",PA),OA={context:PA,skipSemanticUrl:!0,resourceType:SA,parentAction:mt,dataContext:RA,dataContextParameters:bA},vA=RA&&bA&&Dg(We,{pageName:G.PY_DETAILS,dataViewName:RA},bA)||"";if(TA?.includes(G.PREVIEW)){const AA={type:ce,payload:{pageName:G.VIEW_NAMES.PY_DATA_PREVIEW,container:G.PREVIEW,containerName:G.PREVIEW,...OA}};EA.push(AA)}else if(SA!==G.PAGE&&DA===vA&&TA?.includes(G.PRIMARY)){const AA={type:ce,payload:{pageName:G.VIEW_NAMES.PY_DETAILS,containerName:"",...OA}};EA.push(AA)}return EA})(_A,vA,SA,{key:RA,resourceType:PA,containerItemID:NA}),_A})),ql((()=>(1===_A.length&&ts(_A[0].type)?gn.rejectActionByID(AA):gn.resolveActionByID(AA),ph(_A),_A=[],_A))))})))}],KI=YI;function XI(EA,AA){return void 0===AA&&(AA=TI),ji((function(_A,CA){var SA=null,DA=null,TA=null,NA=function(){if(SA){SA.unsubscribe(),SA=null;var EA=DA;DA=null,CA.next(EA)}};function PA(){var _A=TA+EA,DA=AA.now();if(DA<_A)return SA=this.schedule(void 0,_A-DA),void CA.add(SA);NA()}_A.subscribe(Vi(CA,(function(_A){DA=_A,TA=AA.now(),SA||(SA=AA.schedule(PA,EA),CA.add(SA))}),(function(){NA(),CA.complete()}),void 0,(function(){DA=SA=null})))}))}const{RESOURCE_TYPES:{CASE:JI,DATA:QI}}=B;let ZI=[],eE=!1;const tE={},nE=[EA=>EA.pipe(Wl(Se),XI(200),ql((EA=>EA.payload)),zl((EA=>{eE=!1,Yr.subscribe(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_STARTED,(()=>{eE=!0}));const AA=ac.getPreviewMode()&&ic.addDebugHeaders({debugId:Dh.generateUniqueID()});tE.dataContext=EA.payload.dataViewName,tE.dataContextParameters=EA.payload.dataViewKeys;const{context:_A,requestType:CA,routeKey:SA}=EA;let{routeEndpoint:DA}=EA;DA=DA&&DA.indexOf("viewType={viewType}")>0?DA.replace("{viewType}","page"):DA&&DA.indexOf('viewType=""')>0?DA.replace('viewType=""','viewType="page"'):DA;const TA=T()+DA,NA=EA.options.context;let PA;const RA={},bA=EA?.payload?.caseClassName;if(q.isRemoteCase(bA)){const{RemoteSystemID:EA}=q.getRemoteCase(bA);RA.RemoteSystemID=EA}if("POST"===CA){let NA;switch(PA=EA.payload,DA.indexOf("viewType=")<0&&(DA=`${DA}?viewType=page`),zc(SA)){case JI:NA={caseTypeID:PA.caseTypeID,processID:PA.processID,content:{}};break;case QI:NA=tE;break;default:NA=PA}return Hi(yc(TA,{method:CA,body:NA,headers:{...RA,...AA}},_A)).pipe(ql((AA=>({response:{...AA.data},payload:EA,headers:vc(AA.headers)}))),tu(": Error occurred during ajax call at historyEpic : ",EA))}return Hi(yc(TA,{method:"GET",headers:{...RA,...AA}},NA.substring(0,NA.lastIndexOf("/")))).pipe(ql((_A=>({response:_A.data,payload:EA,headers:{...vc(_A.headers),...AA}}))))})),zl((async EA=>{if(eE)return ZI;if(Yr.subscribe(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_STARTED,(()=>{eE=!0})),EA&&EA.type===Te)return jc(EA);const{headers:AA={},response:_A,payload:CA}=EA,SA=vm(_A,{[B.STOPMERGEACTIONS]:!_A.nextAssignmentInfo}),DA=CA.options.acName,TA=Dd(DA)&&Od(DA)?Ed(DA):EA.payload.options.context,NA=TA;AA.RemoteSystemID=CA?.payload?.RemoteSystemID;const PA={target:DA,context:TA,containerItemID:NA,headers:AA,debugInfo:{debugId:AA[G.COREHEADER_APP_DEBUG_ID]}};let RA="";const bA=CA?.payload?.page;let OA=CA?.payload?.pageClass;CA.payload&&CA.payload.caseName&&CA.payload.workID&&(RA=Dg(ze,{caseName:EA.payload.payload.caseName}),RA=RA&&RA.replace("{workID}",EA.payload.payload.workID)||"",OA=CA?.payload?.caseClassName),Yr.publish(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_INIT,{pageName:bA,pageClass:OA});const vA=Dh.getIn(SA,G.LOCALE_REFERENCES);await Ip.loadLocaleResources(vA);const xA=Dh.getIn(SA,G.COMPONENTS);xA&&await Gr(xA),jr(SA,CA.options.actionConfig,!0),Yr.publish(B.PUB_SUB_EVENTS.UI_EVENTS.SHOW_PAGE_DONE,{target:DA,pageName:bA,pageClass:OA});let wA=wc(SA,PA);return wA=((EA,AA,_A)=>{if(EA===Dc.CASE){if(AA?.caseInfo?.assignments&&AA?.caseInfo?.assignments.length>0){const{key:EA,flowName:CA}=Uc(AA.caseInfo.assignments[0].ID);_A.key=EA||AA.caseInfo.ID,_A.flowName=CA}else _A.flowName="",_A.key=AA?.caseInfo?.ID||AA.semanticURL;_A.resourceType=EA,_A.semanticURL=AA.semanticURL,_A.caseViewMode=G.REVIEW_MODE}else _A.resourceType=EA,_A.semanticURL=AA.semanticURL;return _A})(zc(EA.payload.routeKey),{..._A.data,semanticURL:RA,caseViewMode:G.REVIEW_MODE},wA),ZI.push(Vc(DA,wA)),qc(ZI),ZI})),ql((()=>(eE||ph(ZI),ZI=[],eE=!1,ZI))),tu("Error occurred"))],rE=[EA=>{let AA=0,_A=[];return EA.pipe(Wl(le),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{context:AA,skipSemanticUrl:_A=!1,insightID:CA}=EA;let SA,DA="";_A||(DA=Dg(He,{insightID:"{insightID}"}),DA=DA.replace("{insightID}",CA),SA=gp.getEndPointInfo(DA));const{restApi:TA,reqType:NA}=Og(He,{...SA?.payload||[],insightID:CA});return Hi(yc(TA,{method:NA},AA)).pipe(ql((AA=>{let CA={};return CA="string"==typeof AA.data?JSON.parse(AA.data):AA.data,{response:{...CA,key:DA,semanticURL:DA},actionConfig:EA,skipSemanticUrl:_A}})),tu(": Error occurred during ajax call at showPage Epic : ",EA.context))})),zl((async EA=>{if(EA&&EA.type===Te)return _A.push(jc(EA)),_A;const{actionConfig:AA,skipSemanticUrl:CA}=EA,SA=Hr.getTargetViewContainerName(ie),DA=_t(SA,AA.context),TA=kc(DA,SA,AA.context),{response:NA}=EA,PA=vm(NA);PA.directUrlUpdation=!CA;const RA={acName:DA,context:TA},bA=!CA,OA=CA;await Mc(PA,AA,RA,bA,OA);const vA=wc(PA,{target:DA,context:TA,containerItemID:TA});vA.resourceType=B.PAGE;const xA=Vc(DA,vA);return _A.push(xA),qc(_A),_A})),ql((()=>{gn.resolveActionByID(AA),ph(_A),_A=[]})),FI())}],sE=[EA=>{let AA=0,_A=[];return EA.pipe(Wl(ue),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),zl((EA=>{const{context:AA,skipSemanticUrl:_A=!1,dashboardID:CA}=EA;let SA="";_A||(SA=Dg(qe,{dashboardID:CA}),SA=SA.replace("{dashboardID}",CA));const{restApi:DA,reqType:TA}=Og(qe,{dashboardID:CA});return Hi(yc(DA,{method:TA},AA)).pipe(ql((AA=>{let CA={};return CA="string"==typeof AA.data?JSON.parse(AA.data):AA.data,{response:{...CA,key:SA,semanticURL:SA},actionConfig:EA,skipSemanticUrl:_A}})),tu(": Error occurred during ajax call at showPage Epic : ",EA.context))})),zl((async EA=>{if(EA&&EA.type===Te)return _A.push(jc(EA)),_A;const{actionConfig:AA,skipSemanticUrl:CA}=EA,SA=Hr.getTargetViewContainerName(ie),DA=_t(SA,AA.context),TA=kc(DA,SA,AA.context),{response:NA}=EA,PA=vm(NA);PA.directUrlUpdation=!CA;const RA={acName:DA,context:TA},bA=!CA,OA=CA;await Mc(PA,AA,RA,bA,OA);const vA=wc(PA,{target:DA,context:TA,containerItemID:TA});vA.resourceType=B.PAGE;const xA=Vc(DA,vA);return _A.push(xA)})),ql((()=>{gn.resolveActionByID(AA),ph(_A),_A=[]})),FI())}],aE=function(){for(var EA=[],AA=0;AA<arguments.length;AA++)EA[AA]=arguments[AA];var _A=function(){for(var AA=[],_A=0;_A<arguments.length;_A++)AA[_A]=arguments[_A];return bm.apply(void 0,EA.map((function(EA){var _A=EA.apply(void 0,AA);if(!_A)throw new TypeError('combineEpics: one of the provided Epics "'+(EA.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return _A})))};try{Object.defineProperty(_A,"name",{value:"combineEpics("+EA.map((function(EA){return EA.name||"<anonymous>"})).join(", ")+")"})}catch(EA){}return _A}(...Fm,...UI,...kI,...nE,...KI,...Vm,(EA=>{let AA=0;return EA.pipe(Wl(st),ql((EA=>(({actionMgrID:AA}=EA.payload),EA.payload))),ql((()=>{const EA=dh()?.getState(),_A=Rm();return I()(EA,_A)&&AA>0?gn.resolveActionByID(AA,{}):gn.rejectActionByID(AA),[]})),FI())}),...rE,...sE),oE=()=>EA=>AA=>{const{type:_A="",payload:CA={}}=AA||{},{category:SA,context:DA,transientItemID:TA}=CA;"HTTP"!==SA&&[Re,Fe,De,Ve,Oe,Le].includes(_A)&&(rl(DA||TA),vn.removeContextTreeNode(DA||TA)),EA(AA)},iE={},cE=EA=>{const AA=Dh.getIn(iE,[G.CONTEXT,EA],[]),_A=[];AA.forEach((AA=>{const CA=AA.substr(0,AA.lastIndexOf("_")),SA=Dh.getIn(iE,[CA,AA],[]),DA=SA&&SA.length>0&&SA.indexOf(EA);if(DA>-1&&SA.splice(DA,1),!SA||SA&&0===SA.length){Dh.deleteIn(iE,[CA,AA]);const EA=Dh.getIn(iE,[CA]);EA&&0===Object.keys(EA).length&&Dh.deleteIn(iE,[CA]),_A.push({dataPageName:CA,dataPageNameWithHash:AA})}})),Dh.deleteIn(iE,[G.CONTEXT,EA]);const CA=Dh.getIn(iE,[G.CONTEXT]);(!CA||CA&&0===Object.keys(CA).length)&&Dh.deleteIn(iE,[G.CONTEXT]),_A.length>0&&ph(gg({dataPagesToBeRemoved:_A}))},lE=(EA={},AA)=>{Object.keys(EA).forEach((_A=>{const CA=Dh.getIn(EA,[_A],{});Object.keys(CA).forEach((EA=>{((EA,AA,_A)=>{const CA=Dh.getIn(iE,[G.CONTEXT,_A]);if(Dh.getIn(iE,[EA])){const CA=Dh.getIn(iE,[EA,AA],[]);Dh.setIn(iE,[EA,AA],[...new Set([...CA,_A])])}else Dh.setIn(iE,[EA,AA],[_A]);CA?Dh.setIn(iE,[G.CONTEXT,_A],[...new Set([...CA,AA])]):Dh.setIn(iE,[G.CONTEXT,_A],[AA])})(_A,EA,AA)}))}))},uE=()=>EA=>AA=>{const{payload:{data:_A={},context:CA=null,childContainersContexts:SA=[]}={},type:DA}=AA;if(SA&&SA.length>0&&(DA===Ve||DA===De)&&SA.forEach((EA=>{cE(EA)})),DA===Re||DA===Ae||DA===ot){const EA=DA===ot?_A:_A.shared;lE(EA,CA)}else DA===Ve?(cE(CA),lE(_A.shared,CA)):DA===De&&cE(CA);EA(AA)},dE=EA=>AA=>_A=>{const{type:CA,payload:{target:SA,containerItemID:DA,context:TA,childContainersContexts:NA=[],containerInfo:{newAccessedOrder:PA,containerType:RA}={}}={}}=_A,{PUB_SUB_EVENTS:bA}=B;if(CA===De){const{resourceType:AA,key:_A,context:CA}=Dh.getIn(EA.getState(),["containers",SA,"items",DA])||{},TA={resourceType:AA,key:_A,context:CA,containerItemID:DA};Yr.publish(bA.CONTAINER_EVENTS.CLOSE_CONTAINER_ITEM,TA),SA===`${B.APP.APP}/${G.PRIMARY}`&&RA===G.CONTAINER_TYPE.MULTIPLE&&Yr.publish(bA.CONTAINER_EVENTS.CLOSE_MULTI_TYPE_PRIMARY_CONTAINER_ITEM,{key:_A,newAccessedOrder:PA})}NA&&NA.length>0&&(CA===Ve||CA===De)&&NA.forEach((EA=>{xu.cleanCaches(EA)})),CA!==Ve&&CA!==De||xu.cleanCaches(TA),AA(_A)},pE=()=>EA=>AA=>{const{payload:{context:_A=null,transientItemID:CA=null}={},type:SA}=AA;!_A||SA!==Re&&SA!==Fe&&SA!==Ve&&SA!==De||(Sr(_A),Ar(_A)),CA&&SA===we&&(Sr(CA),Ar(CA)),EA(AA)},hE=function(EA){void 0===EA&&(EA={});var AA,_A=new(0,of.constructor)(of.schedulerActionCtor),CA=new lf,SA=function(SA){AA=SA;var DA=new lf,TA=new lf,NA=DA.asObservable().pipe($i(_A)),PA=new pf(TA.pipe($i(_A)),AA.getState());return CA.pipe(ql((function(AA){var _A=AA(NA,PA,EA.dependencies);if(!_A)throw new TypeError('Your root Epic "'+(AA.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return _A})),zl((function(EA){return Hi(EA).pipe(Bi(_A),$i(_A))}))).subscribe(AA.dispatch),function(EA){return function(_A){var CA=EA(_A);return TA.next(AA.getState()),DA.next(_A),CA}}};return SA.run=function(EA){CA.next(EA)},SA}(),gE=EA=>{const AA=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qg;if(null!==dh())Nh();else{const _A=Xg(Dm(EA),AA(hf.reduxBatch,function(...EA){return AA=>(_A,CA)=>{const SA=AA(_A,CA);let DA=()=>{throw new Error(Hg(15))};const TA={getState:SA.getState,dispatch:(EA,...AA)=>DA(EA,...AA)},NA=EA.map((EA=>EA(TA)));return DA=Qg(...NA)(SA.dispatch),{...SA,dispatch:DA}}}(wl,oE,uE,pE,hE,dE),hf.reduxBatch));hE.run(aE),uh(_A)}},fE=new class{#g;constructor(){this.userSettings={},this.componentCache={},this.contextMapToClearOnCancel={},this.#g=!1}getNormalizedKey(EA){return EA?.toString().trim().replace(/\s/g,"-").toLowerCase()}setComponentState=(EA,AA)=>{sessionStorage?sessionStorage.setItem(this.getNormalizedKey(EA),JSON.stringify(AA)):console.error("Session Storage not found")};getComponentState=EA=>{const AA=sessionStorage.getItem(this.getNormalizedKey(EA));return(AA?Dh.isValidJson(AA):void 0)||AA};removeComponentState=EA=>{sessionStorage.removeItem(this.getNormalizedKey(EA))};fetchUserSettings=async()=>{if(Km("getUserSettings")){const{restApi:EA,reqType:AA}=Og("getUserSettings");yc(EA,{method:AA,headers:{}}).then((EA=>{if(200!==EA.status||!EA.data)throw new Error("something went wrong while fetching getUserSettings");this.userSettings=EA.data})).catch((EA=>console.error(EA)))}};init=()=>{fp.getUserSettings()?this.userSettings=fp.getUserSettings():this.fetchUserSettings()};getUserSettings=EA=>{if(!EA)throw new Error("path is required parameter");if("string"!=typeof EA)throw new TypeError("path must be string");return Dh.getIn(this.userSettings,EA,{})};setUserSettings=async(EA,AA)=>{if(!EA)return Promise.reject(new Error("path is required parameter"));if("string"!=typeof EA)return Promise.reject(new TypeError("path must be string"));if(null==AA||""===AA)return Promise.reject(new Error("value is required parameter"));let _A;if(!Km("updateUserSettings"))return Promise.resolve("updateUserSettings route is not available");_A=Og("updateUserSettings");const{restApi:CA,reqType:SA}=_A;return yc(CA,{method:SA,body:Dh.setIn({},EA,AA)}).then((EA=>{if(200!==EA.status||!EA.data)throw new Error("something went wrong");this.userSettings=EA.data})).catch((EA=>{console.error(EA)}))};setComponentCache(EA,AA,_A={}){if("string"!=typeof EA||!EA?.trim())return;const CA=_A.clearOnCancelForContext;if(CA&&(Object.hasOwn(this.contextMapToClearOnCancel,CA)?this.contextMapToClearOnCancel[CA].add(this.getNormalizedKey(EA)):this.contextMapToClearOnCancel[CA]=new Set([this.getNormalizedKey(EA)])),this.componentCache[this.getNormalizedKey(EA)]=AA,!this.#g){this.#g=!0;const EA=EA=>{const{context:AA}=EA||{};(this.contextMapToClearOnCancel[AA]||new Set).forEach((EA=>{this.resetComponentCache(EA)})),delete this.contextMapToClearOnCancel[AA]};Yr.subscribe(G.PUB_SUB_EVENTS.EVENT_CANCEL,EA,"RESET_COMPONENT_CACHE")}}getComponentCache(EA){return"string"==typeof EA&&EA?.trim()?Object.hasOwn(this.componentCache,this.getNormalizedKey(EA))?this.componentCache[this.getNormalizedKey(EA)]:void 0:null}resetComponentCache(EA){return!("string"!=typeof EA||!EA?.trim()||!Object.hasOwn(this.componentCache,this.getNormalizedKey(EA))||(delete this.componentCache[this.getNormalizedKey(EA)],0))}},mE={publishConstellationLoadedEvent:()=>{Yr.publish(G.PUB_SUB_EVENTS.BOOTSTRAP_SHELL_EVENTS.CONSTELLATION_LOADED,{})}},yE=new class{activateContainerItemOnSwitch(EA){const AA=`${G.APP.APP}/${G.PRIMARY}`,_A={target:AA,containerItemID:gd(AA,EA)};td({}).getPConnect().getContainerManager().activateContainerItem(_A)}removeContainerItemOnClose(EA){const AA=`${G.APP.APP}/${G.PRIMARY}`,_A={target:AA,containerItemID:gd(AA,EA)};td({}).getPConnect().getContainerManager().removeContainerItem(_A)}showCasePreview(EA,AA){const _A=td({meta:{type:"PreviewViewContainer",config:{name:G.PREVIEW}},options:{context:G.APP.APP,target:"root/hybrid_preview"}}),CA=_A.getPConnect().getContainerManager();CA.resetContainers({name:G.PRIMARY,context:G.APP.APP}),yd(G.APP.APP,G.PREVIEW)||CA.initializeContainers({type:"multiple",name:G.PREVIEW}),_A.getPConnect().getActionsApi().showCasePreview(EA,{caseClassName:AA})}closeCasePreview(){td({}).getPConnect().getContainerManager().resetContainers({name:G.PREVIEW,context:G.APP.APP})}isFormDirty(EA){const AA=`${G.APP.APP}/${G.PRIMARY}`,_A=tp(AA,EA);return Zc.isStateModified(_A)}getEventUtils(){return mE}getBroadcastUtils(){return $m}isTraditionalUICase(EA){return gs(EA)}},IE=class{static openCase(EA,AA=B.APP.APP,_A={}){return _A.renderInline=!0,_A.pageName?fp.setDefaultCasePage(_A.pageName):(fp.setDefaultCasePage(G.PY_DETAILS),_A.pageName=G.PY_DETAILS),_A?.disableAssignmentHeader?fp.disableAssignmentHeader(_A.disableAssignmentHeader):fp.disableAssignmentHeader(!1),Bu.openCase(EA,AA,G.PRIMARY,_A)}static createCase(EA,AA=B.APP.APP,_A={}){return _A.renderInline=!0,_A.pageName?fp.setDefaultCasePage(_A.pageName):(fp.setDefaultCasePage(G.PY_DETAILS),_A.pageName=G.PY_DETAILS),_A?.disableAssignmentHeader?fp.disableAssignmentHeader(_A.disableAssignmentHeader):fp.disableAssignmentHeader(!1),Bu.createCase(EA,AA,G.PRIMARY,_A)}static getNextWork(EA=B.APP.APP,AA={}){return AA.renderInline=!0,AA.pageName?fp.setDefaultCasePage(AA.pageName):(fp.setDefaultCasePage(G.PY_DETAILS),AA.pageName=G.PY_DETAILS),AA?.disableAssignmentHeader?fp.disableAssignmentHeader(AA.disableAssignmentHeader):fp.disableAssignmentHeader(!1),Bu.getNextWork(EA,G.PRIMARY,AA)}static openAssignment(EA,AA=B.APP.APP,_A={}){return _A.renderInline=!0,_A.pageName?fp.setDefaultCasePage(_A.pageName):(fp.setDefaultCasePage(G.PY_DETAILS),_A.pageName=G.PY_DETAILS),_A?.disableAssignmentHeader?fp.disableAssignmentHeader(_A.disableAssignmentHeader):fp.disableAssignmentHeader(!1),Bu.openAssignment(EA,AA,G.PRIMARY,_A)}static openPage(EA,AA,_A=B.APP.APP,CA={}){const SA=ie;CA?.defaultCasePage?fp.setDefaultCasePage(CA.defaultCasePage):fp.setDefaultCasePage(G.PY_DETAILS),CA?.disableAssignmentHeader?fp.disableAssignmentHeader(CA.disableAssignmentHeader):fp.disableAssignmentHeader(!1);const DA={viewName:EA,className:AA,acTargetName:G.PRIMARY,actionMgrID:gn.getNextActionMgrId(),context:_A},{promise:TA}=gn.actionManagerPromise(SA,DA.actionMgrID);return ph({type:SA,payload:{...DA}}),TA}static getCurrentContextAPI(EA,AA=B.APP.APP){return td({meta:{config:{}},options:{context:AA,pageReference:EA,containerName:G.PRIMARY}}).getPConnect()}},EE=new class{createC11nEnv=EA=>td(EA);getContextUtils=()=>o;getRoutingManager=()=>i;getComponentsRegistry=()=>tn;getStateManager=()=>h;getActionCreators=()=>g;getStreamObservable=()=>l;getActionProcessor=()=>Mh;getActionHandler=()=>wh;renderApp=(EA,AA)=>{const _A={context:G.APP.APP},CA={...Dh.getIn(EA,G.ROOT),options:_A};gE(EA),jr(EA,_A,!0);const SA=this.createC11nEnv({meta:CA,isRoot:!0});Yr.publish(B.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:SA,domContainerID:AA})};updateStoreWithUiRoot=async(EA,AA,_A)=>{const CA=vm(EA),{data:SA,uiResources:DA={}}=EA,TA=Dh.getIn(DA,G.CONTEXT_DATA);await Mc(CA,{},{},!1,!0);const NA={...SA,[G.CONTEXT_DATA]:TA},{root:PA}=DA;Vd(PA,AA,NA,_A)};fetchEndPointResource=(EA,AA,_A)=>{yc(EA,{method:"GET"},G.APP.ROOT).then((async EA=>{const{data:CA,status:SA}=EA;200===SA&&this.updateStoreWithUiRoot(CA,AA,_A)}))};loadComponent=async(EA,AA,_A)=>Gr(_A).then((()=>{const _A=this.createC11nEnv({meta:EA,isRoot:!0});dh()||gE({}),Yr.publish(B.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:_A,domContainerID:AA})}));setStaticServerUrl=(EA,AA,_A)=>{kr.initServer(EA,AA,_A)};loadView=async(EA,AA,_A=[])=>{C();const CA=vm(EA),SA=Dh.getIn(CA,G.VIEWS),DA=Dh.getIn(CA,G.NAVIGATIONS),TA=Dh.getIn(CA,G.COMPONENTS)||[];TA.push(..._A);const NA=Dh.getIn(CA,G.STATIC_SERVER_URL),PA=Dh.getIn(CA,G.APPLICATION_DATA);SA&&$p(SA),DA&&Bp(DA),(EA=>{EA&&(Tg=EA.pyLabel)})(PA),NA&&kr.initServer(NA),await Gr(TA,NA).then((()=>this.renderApp(CA,AA)))};initAppShell=(EA,AA,_A)=>{Gg(EA),Hr.buildActionTargetMap(AA),C(_A)};initRoutingTable=(EA,AA)=>{Gg(EA,!0),C(AA)};setAppAlias=EA=>{kr.setAppAlias(EA)};getHomeRestApi=EA=>{const{restApi:AA}=bg("home",{portalName:EA});return T()+AA};getViewRestApi=(EA,AA)=>{const{restApi:_A}=((EA,AA)=>{let _A={restApi:""};try{if($g()&&!AA){const AA=dp(),CA=gp.processUrl(AA,!0),SA=gp._getMatchedRouteInRoutingTable(CA)||"",DA=gp.getRoutingInfo(),TA=gp.processUrl(AA,!1).split("/"),NA=TA[TA.length-1];let{caseID:PA}=DA&&DA.routes[SA].payload;PA=PA.replace("{workID}",NA),_A=gp.getRestEndPoint("loadView",{caseID:PA,viewID:EA})||{}}else _A=gp.getRestEndPoint("showView",{page:EA,pageClass:AA})||{}}catch(EA){}return _A})(EA,AA);return T()+_A};loadRootComponent=async(EA,AA,_A=[],CA,SA,DA)=>{const{config:{name:TA}={}}=AA;dh()||gE({}),DA&&(Kd(`${G.APP.ROOT}/${TA}`),Yd().deleteContainerItem(`${G.APP.ROOT}/${TA}`)),Yd().getContainerItems()?.length>1&&!TA?.startsWith("hybrid_")&&"authoring-preview"!==TA&&Nh(),ph(jh({data:{},context:G.APP.ROOT}));const NA=this.createC11nEnv({meta:AA,options:{context:G.APP.ROOT,pageReference:"",target:`${G.APP.ROOT}/${TA}`}}),PA=NA.getPConnect(),RA=PA.getContextName(),bA=PA.getContainerName(),OA=PA.getContainerManager();Ed(`${RA}/${bA}`)||"noPortal"===AA.config?.renderingMode||OA.initializeContainers({type:"single"});const vA=["RootContainer","Region","ModalViewContainer","PreviewViewContainer","reference",..._A];return Gr(vA).then((()=>{Yr.publish(B.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:NA,domContainerID:EA,componentName:"RootContainer",portalTarget:CA,styleSheetTarget:SA})}))};loadViewByName=(EA,AA,_A,CA)=>{let SA=this.getViewRestApi(EA,_A);SA===T()&&(SA=this.getHomeRestApi(AA)),this.fetchEndPointResource(SA,CA)};loadPortalView=(EA,AA)=>{const _A=this.getHomeRestApi(EA);this.fetchEndPointResource(_A,AA,!0)};configureForBrowserBookmark=EA=>{Bg(EA)};checkIfSemanticURL=()=>$g();onPCoreReady=EA=>{Yr.subscribe(B.PUB_SUB_EVENTS.EVENT_RENDER_APP,EA,"renderAppCallback")};onPCoreCleanup=EA=>{Yr.subscribe(B.PUB_SUB_EVENTS.EVENT_UNMOUNT_APP,EA,"unmountAppCallback")};setFieldsDefaultConfigs=EA=>{Mr.updateFieldDefaults(EA)};setGoogleMapsAPIKey=EA=>{P(EA)};setFetchDefaultHeaders=EA=>{Cc(EA)};setFetchAuthInfo=EA=>{Sc(EA)};getCaseApi=()=>Bu;getMashupApi=()=>IE;enableAppRouting=EA=>{Pg(EA)};initStore=()=>gE({});getBootstrapConfig=async(EA,AA)=>{const _A=`${AA.token_type} ${AA.access_token}`;return fetch(`${EA}/api/application/v2/data_views/D_pxBootstrapConfig`,{method:"GET",headers:new Headers({Authorization:_A})}).then((EA=>EA.json()))};initCoreContainers=(EA={})=>{const{containerType:AA="single"}=EA,_A=td({meta:{type:"RootContainer",config:{renderingMode:"noPortal"},children:[{type:"ViewContainer",config:{routingInfo:"@ROUTING_INFO",name:"primary"}}]},options:{context:"root",pageReference:"",target:"root"}});return _A.getPConnect().getContainerManager().initializeContainers({type:AA,name:"primary",context:"app"}),{props:{getPConnect:_A.getPConnect}}}},AE=new class{constructor(){this.runtimeParams={},this.runtimeParamsMap={}}setRuntimeParams(EA){this.runtimeParams=EA}getRuntimeParams(){return this.runtimeParams}setRuntimeParam(EA,AA){this.runtimeParamsMap[EA]=AA}getRuntimeParam(EA){return this.runtimeParamsMap[EA]}},_E=class{constructor(EA){this.appAlias=EA.appAlias,this.appAliasWithoutServlet=EA.appAliasWithoutServlet,this.googleMapKey=EA.googleMapKey,this.staticContentServer=EA.staticContentServer,this.appStaticContentServer=EA.appStaticContentServer||null,this.contextPath=EA.contextPath,this.messagingService=EA.messagingService||null,this.reAuthUrl=EA.reAuthUrl||null}},CE=class{constructor(EA){this.routingInfo=EA.routingInfo,this.actionModel=EA.actionModel,this.additionalHeaders=EA.additionalHeaders,this.tokens=EA.tokens,this.semanticUrl=EA.semanticUrl,this.queryParams=EA.queryParams,this.noPortal=EA.noPortal,this.timezone=EA.timezone,this.noHistory=EA.noHistory,this.viewName=EA.viewName,this.theme=EA.theme,this.fieldDefaults=EA.fieldDefaults,this.restServerConfig=EA.restServerConfig,this.dynamicLoadComponents=void 0===EA.dynamicLoadComponents||EA.dynamicLoadComponents,this.dynamicSemanticUrl=void 0===EA.dynamicSemanticUrl||EA.dynamicSemanticUrl,this.enableRouting=void 0===EA.enableRouting||EA.enableRouting,this.locale=EA.locale,this.environmentInfo=EA.environmentInfo,this.renderingMode=EA.renderingMode||"FULL_PORTAL",this.remoteCaseMapping=EA.remoteCaseMapping||{},this.envType=EA.envType,this.serviceConfig=new _E(EA.serviceConfig),this.behaviorOverrides=EA.behaviorOverrides,this.initBroadcast=!!EA.initBroadcast,this.cookieComplianceMethod=EA.cookieComplianceMethod??"none",this.isExtraCallRequiredForDefaultHome=EA.isExtraCallRequiredForDefaultHome??"false"}},SE=async()=>{const EA=fp.getLocale(),AA=fp.getFeatureMap().localizationVersion||1;let _A;if("en-US"!==EA)try{let CA;2===AA?CA=[EA]:(CA=[Ip.GENERIC_BUNDLE_KEY,Ip.MESSAGE_BUNDLE_KEY,Ip.FIELD_LABELS_BUNDLE_KEY,...Ip.getCaseTypeLocaleReferences()],_A=await Ip.isCurrentLocalePackAvailable());const SA=CA.map((async CA=>{2===AA?await(async EA=>{const AA=fp.getFeatureMap().availableLanguagePacks||[];if(!EA||!AA.includes(EA))return void console.warn(`current locale ${EA} is not supported by application.`);const _A={locale:EA},CA=await zm("getLocalizationPack",{queryPayload:_A});if((201===CA.status||200===CA.status)&&CA.data){const EA=CA.data;Object.keys(EA).forEach((AA=>{Ip.setLocaleForRule(EA[AA],AA)}))}})(CA):_A&&await(async(EA,AA)=>{const _A=await kr.getSvcLocale(AA,`${EA}.json`);if(_A?.ok&&EA){const AA=await _A.json();Ip.setLocaleForRule(AA,EA)}})(CA,EA)}));await Promise.allSettled(SA)}catch(EA){console.warn(EA)}},TE="@P .viewConfig";let NE=0;const PE=new class{#f(EA,AA,_A){Gg(EA),Hr.buildActionTargetMap(AA),C(_A)}init(EA){const AA=new CE(EA),_A={...AA.environmentInfo,renderingMode:AA.renderingMode};Pg(AA.enableRouting),gE({}),fp.setTheme(AA.theme),fp.setCookieComplianceMethod(AA.cookieComplianceMethod),fp.setIsExtraCallRequiredForDefaultHome(AA.isExtraCallRequiredForDefaultHome),Mr.updateFieldDefaults(AA.fieldDefaults),ic.setDefaultHeaders(AA.additionalHeaders),this.#f(AA.routingInfo,AA.actionModel,{server:AA.restServerConfig,reAuthUrl:AA.serviceConfig.reAuthUrl}),kr.setAppAlias(AA.serviceConfig.appAliasWithoutServlet||AA.serviceConfig.appAlias),P(AA.serviceConfig.googleMapKey),kr.initServer(AA.serviceConfig.staticContentServer,AA.serviceConfig.appStaticContentServer,AA.tokens.C11NB2S),Ip.setTimezone(AA.timezone),fp.setEnvironmentInfo(_A),fp.setLocale(AA.locale),q.setRemoteCaseMapping(AA.remoteCaseMapping),Iu.setConnectionConfig({messagingService:AA.serviceConfig.messagingService}),fE.init(),AA.initBroadcast&&yE.getBroadcastUtils().init()}getBootstrapConfig=async(EA,AA)=>{const _A=`${AA.token_type} ${AA.access_token}`;return fetch(`${EA}/api/application/v2/data_views/D_pxBootstrapConfig`,{method:"GET",headers:new Headers({Authorization:_A})}).then((EA=>EA.json()))};initCoreContainers=(EA={})=>{const{containerType:AA="single"}=EA,_A=td({meta:{type:"RootContainer",config:{renderingMode:"noPortal"},children:[{type:"ViewContainer",config:{routingInfo:"@ROUTING_INFO",name:"primary"}}]},options:{context:"root",pageReference:"",target:"root"}});return _A.getPConnect().getContainerManager().initializeContainers({type:AA,name:"primary",context:"app"}),{props:{getPConnect:_A.getPConnect}}};importReactRoot=async()=>{const EA=[];return EE.getComponentsRegistry().getComponent("ReactRoot").modules.forEach((AA=>{EA.push(AA())})),Promise.allSettled(EA)};importDesignSystemComponentMap=async(EA,AA,_A)=>{try{await function(EA,AA="true"){return new Promise(((_A,CA)=>{const SA=document.createElement("script");SA.setAttribute("type","text/javascript"),SA.setAttribute("src",EA),SA.setAttribute("async",AA),SA.onload=_A(),SA.onerror=()=>CA(new Error("Failed to load resource from Design System")),document.body.appendChild(SA)}))}(`${EA}component/project/${AA}/designsystems/${_A}/componentsmap.js?v=${Date.now()}`)}catch(EA){console.log(EA)}};buildSemanticUrl=(EA,AA,_A,CA,SA)=>{const DA=new URLSearchParams(AA);let TA=!1;"true"===_A&&(TA=!0);let NA=null,PA=null;if(EA){EA.startsWith("/")&&(EA=EA.substring(1));const AA=EA.split("/");NA=AA[0],AA.length>1&&AA[1]&&(PA=AA[1])}else TA=!1;let RA=CA;NA&&(RA=`${RA}/${NA}`),PA&&(RA=`${RA}/${PA}`),TA&&(DA.has("noPortal")||DA.append("noPortal","true"),PA&&SA&&DA.append("view",SA));const bA=DA.toString();return RA+=bA?`?${bA}`:"",RA};initCoreConfig=EA=>{const{routingInfo:AA,serviceConfig:_A,semanticUrl:CA,queryParams:SA,noPortal:DA,noHistory:TA,viewName:NA,theme:PA,restServerConfig:RA,dynamicLoadComponents:bA=!0,dynamicSemanticUrl:OA=!0,renderingMode:vA="FULL_PORTAL",envType:xA,extras:wA}=EA,{appAlias:MA,contextPath:LA}=_A;let GA=window.location.origin;const UA={};if(void 0!==RA&&(GA=RA),LA&&(GA=`${GA}${LA}`),MA&&"LAUNCHPAD"!==xA&&(GA=`${GA}/${MA}`),EA.restServerConfig=GA,!0===OA){const EA=this.buildSemanticUrl(CA,SA,DA,GA,NA);!TA&&EA&&window.history.pushState({},"home",EA)}else if("HYBRID"!==vA){let EA=window.location.href;EA.indexOf("?")>0&&(EA=EA.substring(0,EA.indexOf("?")),window.history.pushState({},"home",EA)),UA.dynamicSemanticUrl=!1}else console.log(`renderingMode :${vA}`);!0!==bA&&(UA.dynamicLoadComponents=!1);let FA=null;if(MA){const EA=MA.indexOf("/app/");FA=EA>=0?MA.substring(EA+1):MA}if(Object.keys(UA).length>0&&window.PCore.setBehaviorOverrides(UA),EA.appAlias=FA,PA){let AA="object"==typeof PA?PA:null;if(null===AA)try{AA=JSON.parse(PA)}catch{AA={}}EA.theme=AA}const jA={...AA,domain:`${window.location.protocol}//${window.location.host}`,searchParams:window.location.search};EA.routingInfo=jA,EA.initBroadcast="true"===fp.environmentInfoObject?.pxMashupDetails?.pyIsTraditionalCoexistence,!EA.noPortal||"true"!==EA.noPortal&&!0!==EA.noPortal||(EA.renderingMode="EMBED"),wA?.cspNonce&&(window.__webpack_nonce__=wA.cspNonce),this.init(EA)};launchViewByName=(EA,AA,_A,CA,SA,DA,TA,NA)=>{NE+=1;const PA=NA||`mashup${NE}`,RA={type:"RootContainer",config:{viewConfig:TE,renderingMode:"view",name:PA}};EE.loadRootComponent(EA,RA,SA,DA,TA).then((()=>EE.loadViewByName(AA,_A,CA,PA)))};launchView=(EA,AA,_A=[],CA,SA,DA,TA)=>{NE+=1;const NA="hybrid"===TA?`hybrid_${NE}`:TA;NE+=1;const PA=NA||`mashup${NE}`,RA={type:"RootContainer",config:{viewConfig:TE,renderingMode:"portal",name:PA}};AE.setRuntimeParams(CA),EE.loadRootComponent(EA,RA,_A,SA,DA).then((()=>EE.updateStoreWithUiRoot(AA,PA)))};launchPortal=(EA,AA,_A,CA=[])=>{NE+=1;const SA=_A||`portal${NE}`,DA={type:"RootContainer",config:{viewConfig:TE,renderingMode:"portal",skeleton:"LoadingComponent",name:SA}};CA.push(DA.config.skeleton),fp.isPortalLoaded=!0,EE.loadRootComponent(EA,DA,CA).then((()=>EE.loadPortalView(AA,SA)))};launchMashup=(EA,AA=!0)=>{if(AA){const AA=document.getElementsByTagName(EA)[0]?.parentNode;if(AA){const EA=document.createElement("style");EA.setAttribute("id","portal-less-styles"),EA.innerHTML="app-root.mashup > .case-view, app-root.mashup > .page-view { min-height: 0px !important; }",AA.appendChild(EA)}}EE.loadRootComponent(EA,{type:"RootContainer",config:{renderingMode:"noPortal"},children:[{type:"ViewContainer",config:{routingInfoAnnotation:"@ROUTING_INFO",name:"primary"}}]},[PCore.getConstants().LOAD_VIEW_STRING,"ViewContainer"]),window.parent!==window&&s(754)(`${window.PCore.getAssetLoader().getStaticServerUrl()}constellation-mashup-bridge.js`).then((EA=>{EA.mashup.init({resizing:"stretch"})}))};start=async(EA,AA)=>{const{appStaticContentServer:_A}=EA.serviceConfig,{ccV2LibId:CA,environmentId:SA,isAlternateDesignSystemEnabled:DA,alternateDesignSystemName:TA}=EA;this.initCoreConfig(EA);const NA=async()=>(await this.importReactRoot(),CA&&await kr.importCustomComponentMap(CA),"true"===DA&&"other"!==TA&&await this.importDesignSystemComponentMap(_A,SA,TA),AA&&AA(),!0);return new Promise(((EA,AA)=>{SE().then((async()=>{const AA=EE.getComponentsRegistry();"ReactRoot"in AA.getLazyMap()?EA(!0):AA.getComponent("ReactRoot")?EA(await NA()):Yr.subscribe("component-map-loaded",(async()=>{EA(await NA())}))})).catch((EA=>{AA(EA)}))}))};registerForDebugInfo=EA=>{PCore.getEnvironmentInfo().setPreviewMode(),EA&&PCore.getPubSubUtils().subscribe("fetchSuccess",(({debugInfo:AA})=>{const _A=AA?.["X-Pega-App-Debug-ID"];EA.postMessage({appDebugID:_A})}),"fetchSuccess")};toggleTracerHeaders=EA=>{EA.addEventListener("message",(async EA=>{const AA=EA?.data?.enableTracer;AA?PCore.getDebugger().enableTracer():PCore.getDebugger().disableTracer()}))};loadEnvironmentInfo=async EA=>{if(EA.theme&&(!window.pms||"Android"!==window.pms.device.systemName))try{const AA=JSON.parse(EA.theme.definition);PCore.getEnvironmentInfo().setBrandingInfo(AA.Branding),PCore.getEnvironmentInfo().setTheme(AA.Theme)}catch{PCore.getEnvironmentInfo().setBrandingInfo({}),PCore.getEnvironmentInfo().setTheme({})}EA.keyMapping&&PCore.getEnvironmentInfo().setKeyMapping(EA.keyMapping),PCore.getEnvironmentInfo().setCookieComplianceMethod(EA.cookieComplianceMethod??"none")}},RE={createViewRule:(EA,AA)=>{const{restApi:_A,reqType:CA}=Og("createViewRuleByID");return yc(_A,{method:CA,body:EA},AA).then((EA=>EA.data))},getViewRule:(EA,AA)=>{const{restApi:_A,reqType:CA}=Og("getViewRuleByID",{ID:EA});return yc(_A,{method:CA},AA).then((EA=>EA.data))},updateViewRule:(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og("updateViewRuleByID",{ID:EA});return yc(CA,{method:SA,body:AA},_A).then((EA=>EA.data))},deleteViewRule:(EA,AA)=>{const{restApi:_A,reqType:CA}=Og("deleteViewRuleByID",{ID:EA});return yc(_A,{method:CA},AA).then((EA=>EA.data))}},DE={"Content-Type":"application/json"},bE={addCaseFollower:(EA,AA,_A)=>{const CA={caseID:EA},SA=JSON.stringify({users:AA.map((EA=>({ID:EA})))});return zm("addCaseFollower",{body:SA,queryPayload:CA,headers:DE},_A)},deleteCaseFollower:(EA,AA,_A)=>zm("deleteCaseFollower",{queryPayload:{caseID:EA,followerID:AA}},_A),getCaseFollowers:(EA,AA)=>zm("getCaseFollowers",{queryPayload:{caseID:EA}},AA).then((EA=>EA.data.followers))},OE={addRelatedCases:(EA,AA,_A)=>{const CA={caseID:EA},SA=JSON.stringify({cases:AA});return zm("addRelatedCases",{body:SA,queryPayload:CA},_A)},removeRelatedCase:(EA,AA,_A)=>zm("removeRelatedCase",{queryPayload:{caseID:EA,relatedCaseID:AA}},_A),getRelatedCases:(EA,AA)=>zm("getRelatedCases",{queryPayload:{caseID:EA}},AA).then((EA=>EA.data.relatedCases))},vE="operatorDetails",xE={getOperatorDetails:(EA,AA=!1)=>{const{reqType:_A}=Og(vE,{});if("GET"===_A){const AA={encodedOperatorId:encodeURIComponent(`{"opname":"${EA}"}`)};return zm(vE,{queryPayload:AA})}return AA?zm("operatorDetailsByBusinessID",{body:{dataViewParameters:{BusinessID:EA}}}):zm(vE,{body:{dataViewParameters:{ID:EA}}})}},wE=async EA=>{const AA=vm(EA),_A=Dh.getIn(AA,G.COMPONENTS);jr(AA,{},!0);const CA=Dh.getIn(AA,G.LOCALE_REFERENCES);await Ip.loadLocaleResources(CA||[]),await Gr(_A)},ME=(EA,AA,_A)=>xh.resolveView(EA,AA,_A),LE={"Content-Type":"application/json"},UE=new class{constructor(){this.mentionsTagsCancelTokenSource=[],this.mentions=[]}getFeeds=(EA,AA,_A,CA,SA,DA,TA)=>{const{getLocaleValue:NA}=Ip;TA||(this.mentions=[]);let PA="";CA&&Array.isArray(CA)&&CA?.length>0&&(CA.forEach((EA=>{EA.on&&(PA=`${PA}${EA.id},`)})),""===PA&&(PA="ClearFilters"));let RA="";TA&&(RA=DA.getValue("pulse.pageLastEntry"));const bA={filterForContext:EA,feedID:AA,feedClass:_A,filterBy:PA,pageSize:10,olderThan:RA};for(let vA=0;vA<SA.length;vA+=1)SA[vA].cancel();const OA=Xm();return SA.push(OA),zm("getFeedMessages",{queryPayload:bA,cancelTokenSource:OA},DA.getContextName()).then((async EA=>{if(200===EA.status&&EA.data){SA.pop();const AA=[],_A={};let PA=!1;if(EA?.data){if(EA?.data?.data?.FeedList){const CA=EA.data.data.FeedList?.pxResults;Array.isArray(CA)&&CA?.length>0&&CA.forEach(((EA,CA)=>{EA.ID=""!==EA.pzInsKey?EA.pzInsKey:`message${CA}`,AA.push(EA.ID),_A[EA.ID]=EA,EA?.mentions&&Array.isArray(EA?.mentions)&&EA.mentions?.length>0&&this.mentions.push(EA.mentions),EA?.pxResults&&Array.isArray(EA?.pxResults)&&EA.pxResults?.length>0&&EA.pxResults.forEach((EA=>{EA?.mentions&&Array.isArray(EA?.mentions)&&EA.mentions?.length>0&&this.mentions.push(EA.mentions)})),PA||"pzPostDetails"===EA.pyMessageViewReference||"pzPrivatePostDetails"===EA.pyMessageViewReference||(PA=!0)}))}if(PA&&await wE({uiResources:EA.data.uiResources}),!CA&&(CA=[{id:"All",label:NA("All","Pulse"),on:!0,disabled:!1}],EA?.data?.data?.FeedFilters)){const AA=EA.data.data.FeedFilters?.pxResults;let _A=!0;AA&&Array.isArray(AA)&&AA?.length>0&&(AA.forEach((EA=>{const AA={id:EA.pyFeedSourceReference,label:NA(EA.pyLabel,"Pulse"),disabled:!1,on:"true"===EA.pySelected};AA.on||(_A=!1),CA.push(AA)})),CA.find((EA=>"All"===EA.id)).on=_A)}}if(TA&&DA.getValue("pulse.messageIDs")){let CA=DA.getValue("pulse.messageIDs"),SA=DA.getValue("pulse.messages");CA=[...CA,...AA],SA={...SA,..._A},Object.values(SA).forEach((EA=>{EA?.mentions&&Array.isArray(EA?.mentions)&&EA.mentions?.length>0&&this.mentions.push(EA.mentions),EA?.pxResults&&Array.isArray(EA?.pxResults)&&EA.pxResults?.length>0&&EA.pxResults.forEach((EA=>{EA?.mentions&&Array.isArray(EA?.mentions)&&EA.mentions?.length>0&&this.mentions.push(EA.mentions)}))})),DA.updateState({pulse:{messages:SA,messageIDs:CA,nextPageFirstEntry:EA?.data?.nextPageFirstEntry||"",pageLastEntry:EA?.data?.pageLastEntry||"",hideAttachment:EA?.data?.hideAttachment||!1}})}else DA.updateState({pulse:{messages:_A,messageIDs:AA,nextPageFirstEntry:EA?.data?.nextPageFirstEntry||"",pageLastEntry:EA?.data?.pageLastEntry||"",hideAttachment:EA?.data?.hideAttachment||!1}});const RA=[...new Map(this.mentions.flat()?.map((EA=>[EA.mentionsID,EA]))).values()]?.filter((EA=>Object.prototype.hasOwnProperty.call(EA,"mentionsType")))?.filter((EA=>!EA?.mentionsType?.toLowerCase().includes("user")))||[];return{feedFilters:CA,caseMentions:RA}}return DA.reportError(`getFeeds call failed ${EA.status}`,EA.data),""})).catch((EA=>{Jm(EA)||DA.reportError(": Error occurred during ajax call at getFeeds API : ",EA.response)}))};postMessage=(EA,AA,_A=[],CA=!1,SA)=>{const DA=JSON.stringify({context:EA,parentMessageId:CA?EA:"",message:AA,attachments:_A});return zm("postFeedMessages",{body:DA,headers:LE},SA.getContextName()).then((AA=>{if((201===AA.status||200===AA.status)&&AA.data){const DA=AA?.data;if(CA){DA.parentMessageID=EA;const{pxResults:AA,caseMentions:TA}=this.buildMessageObject(DA,CA,SA,_A.length>0);return SA.updateState({pulse:{messages:{[EA]:{pxResults:AA}}}}),TA}const{messages:TA,messageIDs:NA,caseMentions:PA}=this.buildMessageObject(DA,CA,SA,_A.length>0);return SA.updateState({pulse:{messages:TA,messageIDs:NA}}),PA}return SA.reportError(`postMessage call failed with status ${AA.status}`,AA),""})).catch((EA=>{SA.reportError(": Error occurred during ajax call at postMessage API : ",EA.response)}))};editMessage=({messageID:EA,parentMessageID:AA,message:_A,c11nEnv:CA,isReply:SA=!1})=>{const DA=JSON.stringify({message:_A});return zm("editFeedMessage",{queryPayload:{messageID:EA},body:DA,headers:LE},CA.getContextName()).then((EA=>{if(200===EA?.status&&EA?.data){const _A=EA?.data;if(SA){_A.parentMessageID=AA;const{pxResults:EA,caseMentions:DA}=this.buildMessageObject(_A,SA,CA,!1);return CA.updateState({pulse:{messages:{[AA]:{pxResults:EA}}}}),DA}const{messages:DA,caseMentions:TA}=this.buildMessageObject(_A,SA,CA,!1);return CA.updateState({pulse:{messages:DA}}),TA}return CA.reportError(`editMessage call failed with status ${EA.status}`,EA),""})).catch((EA=>{CA.reportError(": Error occurred during ajax call at editMessage API : ",EA.response)}))};buildMessageObject=(EA,AA,_A,CA=!1)=>{const SA={ID:EA?.ID||"",tags:EA?.tags||[],pyHasAttachment:CA,pzInsKey:EA?.ID||"",pyMessage:EA?.message||"",mentions:EA?.mentions||[],postedByUser:EA?.postedByUser,pxCreateDateTime:EA?.postedTime||"",pxUpdateDateTime:EA?.updatedTime||"",parentMessageID:EA?.parentMessageID||"",pyIsEdited:"string"==typeof EA?.isEdited?"true"===EA?.isEdited:EA?.isEdited||!1,pyFeed:{pyPostedOn:EA?.postedTime||"",pyFeedTitle:EA?.postedByUser?.name||"",pyIconType:"user",pyCommentContext:"pzInsKey",pyIconReference:"pi pi-case"},pyContext:"",pxIcon:"globe",pyMessageViewReference:"pzPostDetails"},DA=_A.getValue("pulse.messages");if(AA){let{pxResults:EA=[]}=Object.values(DA)?.find((EA=>EA?.ID===SA?.parentMessageID))||{};const AA=EA?.findIndex((EA=>EA?.pzInsKey===SA?.ID));if(-1!==AA){const _A=[...EA];_A[AA]={..._A[AA],...SA},EA=_A}else EA=[...EA,SA];return{pxResults:EA,messages:{},messageIDs:[],caseMentions:this.getCaseMentions(EA)}}const TA=_A.getValue("pulse.messageIDs");if(TA){const EA=TA.includes(SA.ID)?{...DA[SA.ID],...SA}:SA,AA={...DA,[SA.ID]:EA};return{messages:AA,messageIDs:TA.includes(SA.ID)?TA:[SA.ID,...TA],caseMentions:this.getCaseMentions(Object.values(AA))}}};getCaseMentions=EA=>{const AA=EA?.filter((EA=>EA?.mentions&&Array.isArray(EA?.mentions)&&EA.mentions?.length>0))?.map((EA=>EA.mentions))?.concat(this.mentions);return[...new Map(AA.flat()?.map((EA=>[EA.mentionsID,EA]))).values()]?.filter((EA=>Object.prototype.hasOwnProperty.call(EA,"mentionsType")))?.filter((EA=>!EA?.mentionsType?.toLowerCase().includes("user")))||[]};likeMessage=({pulseContext:EA,likedBy:AA,messageID:_A,isReply:CA,c11nEnv:SA})=>{const DA=AA?"unlikeFeedMessages":"likeFeedMessages",TA=JSON.stringify({ContextClass:EA});zm(DA,{body:TA,queryPayload:{pulseContext:EA},headers:LE},SA.getContextName()).then((DA=>{if(200===DA.status)if(CA){const CA=SA.getValue(`pulse.messages.${_A}`),DA=CA?.pxResults&&Array.isArray(CA?.pxResults)&&CA.pxResults?.length>0&&CA.pxResults?.map((_A=>{if((_A={..._A}).pzInsKey===EA){let EA=0,CA=!1;const SA=_A.pyLikes?_A?.pyLikes?.pxLikeCount:0;AA?(EA=SA-1,CA=!1):(EA=SA+1,CA=!0),_A.pyLikes={pxLikeCount:EA,pxIsLiked:CA}}return _A}));SA.updateState({pulse:{messages:{[_A]:{pxResults:DA}}}})}else{const CA={...SA.getValue(`pulse.messages.${_A}`)},DA=CA.pyLikes?CA.pyLikes.pxLikeCount:0;let TA=0,NA=!1;AA?(TA=DA-1,NA=!1):(TA=DA+1,NA=!0),CA.pyLikes={pxLikeCount:TA,pxIsLiked:NA},SA.updateState({pulse:{messages:{[EA]:CA}}})}else SA.reportError(`likeMessage call failed with status ${DA.status}`,DA)})).catch((EA=>{SA.reportError(": Error occurred during ajax call at likeMessage API : ",EA.response.data)}))};deleteMessage=(EA,AA,_A,CA)=>{let SA=EA;AA&&(SA=_A),zm("deleteFeedMessage",{queryPayload:{messageID:SA}},CA.getContextName()).then((SA=>{if(200===SA.status)if(AA){const AA=CA.getValue(`pulse.messages.${EA}`),SA=AA?.pxResults&&Array.isArray(AA?.pxResults)&&AA.pxResults?.length>0&&AA.pxResults?.filter((EA=>EA.pzInsKey!==_A));CA.updateState({pulse:{messages:{[EA]:{pxResults:SA}}}})}else{const AA=CA.getValue("pulse.messageIDs"),_A=AA&&Array.isArray(AA)&&AA?.length>0&&AA?.filter((AA=>AA!==EA)),SA={...CA.getValue("pulse.messages")};delete SA[EA],CA.updateState({pulse:{messageIDs:_A,messages:SA}})}else CA.reportError(`deleteMessage call failed with status ${SA.status}`,SA)})).catch((EA=>{CA.reportError(": Error occurred during ajax call at deleteMessage API : ",EA.response)}))};getLikedUsers=(EA,AA)=>zm("getFeedMessageLikes",{queryPayload:{messageID:EA}},AA.getContextName()).then((EA=>EA?.data?.users)).catch((EA=>{AA.reportError(": Error occurred during ajax call at getLikedUsers API : ",EA.response)}));getMentionSuggestions=(EA,AA)=>{const{pulseContext:_A,searchFor:CA,mentionsType:SA,listSize:DA=5}=EA,TA={pulseContext:_A,searchFor:CA,mentionsType:SA,listSize:DA};for(let PA=0;PA<this.mentionsTagsCancelTokenSource.length;PA+=1)this.mentionsTagsCancelTokenSource[PA].cancel();const NA=Xm();return this.mentionsTagsCancelTokenSource.push(NA),zm("getMentionSuggestions",{queryPayload:TA,cancelTokenSource:NA},AA.getContextName()).then((EA=>(this.mentionsTagsCancelTokenSource=[],200===EA.status&&EA.data?EA?.data:(AA.reportError(`Get mention suggestions call failed ${EA.status}`,EA.data),[])))).catch((EA=>{Jm(EA)||AA.reportError(": Error occurred during ajax call at getMentionSuggestions API : ",EA.response.data)}))};getMentionTypes=EA=>zm("getMentionTypes",{},EA.getContextName()).then((EA=>EA?.data)).catch((AA=>{EA.reportError(": Error occurred during ajax call at getMentionTypes API : ",AA.response.data)}));getTagSuggestions=(EA,AA)=>{const{searchFor:_A,listSize:CA=5}=EA,SA={searchFor:_A,listSize:CA};for(let TA=0;TA<this.mentionsTagsCancelTokenSource.length;TA+=1)this.mentionsTagsCancelTokenSource[TA].cancel();const DA=Xm();return this.mentionsTagsCancelTokenSource.push(DA),zm("getTagSuggestions",{queryPayload:SA,cancelTokenSource:DA},AA.getContextName()).then((EA=>{this.mentionsTagsCancelTokenSource=[];let _A=[];return 200===EA.status&&EA?.data?_A=EA?.data?.tags&&Array.isArray(EA?.data?.tags)&&EA.data.tags.length>0&&EA.data.tags?.map((EA=>`#${EA}`)):AA.reportError(`Get tag suggestions call failed ${EA.status}`,EA.data),_A})).catch((EA=>{Jm(EA)||AA.reportError(": Error occurred during ajax call at getTagSuggestions API : ",EA.response.data)}))}},FE={getTaggedCases:(EA,AA)=>zm("loadView",{queryPayload:{caseID:EA,viewID:"pyTaggedCases"}},AA.getContextName()).then((EA=>EA?.data)).catch((EA=>{AA.reportError(": Error occurred during ajax call at fetchTaggedcases API : ",EA.response)})),getTags:(EA,AA)=>zm("getCaseTags",{queryPayload:{caseID:EA}},AA.getContextName()).then((EA=>EA?.data?.tagsList)).catch((EA=>{AA.reportError(": Error occurred during ajax call at fetchTags API : ",EA.response)})),postTags:(EA,AA,_A)=>{const CA={caseID:EA},SA=JSON.stringify({tags:AA});return zm("addTagsToCase",{body:SA,queryPayload:CA},_A.getContextName()).then((EA=>EA?.data?.results)).catch((EA=>{_A.reportError(": Error occurred during ajax call at postTags API : ",EA.response)}))},removeTag:(EA,AA,_A)=>zm("deleteCaseTag",{queryPayload:{caseID:EA,tagID:AA}},_A.getContextName()).catch((EA=>{_A.reportError(": Error occurred during ajax call at removeTag API : ",EA.response)})),getTagsLandingPageURL:EA=>Au.getPageDataAsync("D_pxGetTagsLandingPageURL",EA.getContextName(),{},{invalidateCache:!0}).catch((AA=>{EA.reportError(": Error occurred during ajax call getTagsLandingPageURL API : ",AA.response)}))},jE=(EA,AA)=>{Xd(AA.getContextName(),EA.etag),Jd(AA.getContextName(),EA.etag)},VE={getParticipants:(EA,AA)=>zm("getAllParticipants",{queryPayload:{caseID:EA}},AA.getContextName()).then((EA=>EA?.data?.data.content.pyParticipants)).catch((EA=>{AA.reportError(": Error occurred during ajax call at getParticipants API : ",EA.response)})),getRoleView:(EA,AA,_A)=>zm("getParticipantRoleView",{queryPayload:{caseID:EA,participant_roleID:AA}},_A.getContextName()).then((EA=>EA?.data)).catch((EA=>{_A.reportError(": Error occurred during ajax call at fetchTaggedcases API : ",EA.response)})),getParticipantRoles:(EA,AA)=>zm("getParticipantRoles",{queryPayload:{caseID:EA}},AA.getContextName()).then((EA=>EA?.data?.participant_roles)).catch((EA=>{AA.reportError(": Error occurred during ajax call at getParticipantRoles API : ",EA.response)})),getParticipant:(EA,AA,_A)=>zm("getParticipant",{queryPayload:{caseID:EA,participantID:AA}},_A.getContextName()).then((EA=>EA?.data)).catch((EA=>{_A.reportError(": Error occurred during ajax call at getParticipant API : ",EA.response)})),createParticipant:async(EA,AA,_A,CA)=>{const SA={caseID:EA},DA={..._A,participantRoleID:AA},TA={"if-match":CA.getCaseSummary().headers.etag};return new Promise(((EA,AA)=>{zm("createParticipant",{body:DA,queryPayload:SA,headers:TA},CA.getContextName()).then((AA=>{jE(AA.headers,CA),EA()})).catch((EA=>{CA.reportError(": Error occurred during ajax call at createParticipant API : ",EA.response),AA(EA.response)}))}))},updateParticipant:async(EA,AA,_A,CA)=>{const SA={caseID:EA,participantID:AA},DA={"if-match":CA.getCaseSummary().headers.etag};return new Promise(((EA,AA)=>{zm("updateParticipant",{body:_A,queryPayload:SA,headers:DA},CA.getContextName()).then((AA=>{jE(AA.headers,CA),EA()})).catch((EA=>{CA.reportError(": Error occurred during ajax call at updateParticipant API : ",EA.response),AA(EA.response)}))}))},deleteParticipant:(EA,AA,_A)=>{const CA={caseID:EA,participantID:AA},SA={"if-match":_A.getCaseSummary().headers.etag};return new Promise(((EA,AA)=>{zm("deleteParticipant",{queryPayload:CA,headers:SA},_A.getContextName()).then((AA=>{jE(AA.headers,_A),EA()})).catch((EA=>{_A.reportError(": Error occurred during ajax call at deleteParticipant API : ",EA.response),AA(EA.response)}))}))}};function kE(EA=[]){return EA.reduce(((EA,AA)=>(EA[AA.personalizationID]={name:AA.name,personalizationState:JSON.parse(AA.personalizationState||"{}")},EA)),{})}const $E="create",BE="update",GE="delete";function WE(EA,AA,_A,CA){const SA=Yp(AA);if(SA){switch(EA){case $E:case BE:{const{markAsDefault:EA,...AA}=CA;Object.entries(AA).length>0&&(SA.allPersonalizations[_A]=AA),EA&&(SA.defaultPersonalization=_A);break}case GE:delete SA.allPersonalizations[_A],SA.defaultPersonalization===_A&&(SA.defaultPersonalization="");break;default:return null}return SA}return null}const HE={},qE=EA=>{const AA=Yp(EA);if(AA)return Array.isArray(AA.allPersonalizations)&&(AA.allPersonalizations=kE(AA.allPersonalizations)),Promise.resolve(AA);const{restApi:_A,reqType:CA}=Og("getUIListPersonalizations",{listID:EA});return yc(_A,{method:CA,body:{}}).then((EA=>{const{data:AA}=EA;return{allPersonalizations:kE(AA.allPersonalizations),defaultPersonalization:AA.defaultPersonalization}}))},zE=(EA,AA,_A)=>{const{restApi:CA,reqType:SA}=Og("createListPersonalization",{listID:EA});return WE($E,EA,AA,_A),yc(CA,{method:SA,body:{..._A,personalizationState:JSON.stringify(_A.personalizationState)}}).then((EA=>{const _A=EA.data;return HE[AA]=_A,EA}))},YE=(EA,AA,_A)=>{const CA=HE[AA]||AA;WE(BE,EA,AA,_A);const{restApi:SA,reqType:DA}=Og("updateListPersonalization",{listID:EA,personalizationID:CA})||{};return yc(SA,{method:DA,body:{..._A,personalizationState:JSON.stringify(_A.personalizationState)}})},KE=(EA,AA)=>{const _A=HE[AA]||AA;WE(GE,EA,AA);const{restApi:CA,reqType:SA}=Og("deleteListPersonalization",{listID:EA,personalizationID:_A});return yc(CA,{method:SA,body:{}}).then((EA=>(HE[AA]&&delete HE[AA],EA)))},XE=function(EA){return EA?{createPersonalization:zE.bind(null,EA),updatePersonalization:YE.bind(null,EA),deletePersonalization:KE.bind(null,EA),fetchPersonalizations:qE.bind(null,EA)}:{createPersonalization:()=>Promise.resolve(""),updatePersonalization:()=>Promise.resolve(),deletePersonalization:()=>Promise.resolve(),fetchPersonalizations:()=>Promise.resolve({})}},JE="getDataObjects",QE="getInsightByID",ZE=["LocalList","RemoteList","PromptList","DataPage"];let eA=null;const tA={},nA=EA=>uu.getAppCacheKey(`PrimaryFields-${EA}`);function rA(EA){let AA;return EA[1].category?AA=EA[1].category:EA[0].indexOf(":")>0&&(AA=EA[0].substring(0,EA[0].indexOf(":"))),AA}const sA={getDataObjects:function(){const EA=uu.getAppCacheKey(JE);if(window.sessionStorage.getItem(EA))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(EA)));const{restApi:AA,reqType:_A}=Og(JE,{}),CA=yc(AA,{method:_A});return CA.then((AA=>{window.sessionStorage.setItem(EA,JSON.stringify(AA))})),CA},getDataPageObjects:function(EA=!0){if(eA)return eA;const AA=uu.getAppCacheKey("getDataPageObjects");if(EA&&window.sessionStorage.getItem(AA))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(AA)));const{restApi:_A,reqType:CA}=Og("getDataPages",{datapageRequestType:"explorable"});return eA=yc(_A,{method:CA,datapageRequestType:"explorable"}),eA.then((EA=>{eA=null,window.sessionStorage.setItem(AA,JSON.stringify(EA))})),eA},getDataViewMetadata:function(EA,AA,_A){if(!AA){const{sourceMetadata:AA,sourceFields:_A}=function(EA){const AA=zp(EA);if(AA&&AA.classID){let EA=Xp(AA.classID);const _A=new Set(AA.primaryFields),CA=AA.rdFields?.fields?.filter((EA=>EA.indexOf(".")>0));if(CA&&!Dh.isEmpty(CA)){const _A=CA.reduce(((EA,_A)=>{const CA=kp(_A,AA.classID);return EA[_A]=CA,EA}),{});EA={...EA,..._A}}if(EA&&Object.keys(EA).length>0){const CA=new Set(Array.isArray(AA?.rdFields)?AA?.rdFields:AA?.rdFields?.fields),SA=CA.size>0||_A.size>0;for(const AA in EA)EA[AA].type.startsWith("Page")||SA&&!(CA.size>0&&CA.has(AA)||_A.size>0&&_A.has(AA))?delete EA[AA]:EA[AA]?.datasource&&ZE.includes(EA[AA].datasource.tableType)&&(EA[AA].fieldType="Picklist");return{sourceFields:EA,sourceMetadata:AA}}}return{}}(EA);if(AA&&_A&&Object.keys(_A).length>0){const EA={data:{...AA,fields:Object.entries(_A).map((EA=>({...EA[1],fieldID:EA[0],fieldType:EA[1].fieldType?EA[1].fieldType:EA[1].isUserReference?"User reference":void 0,category:rA(EA),classID:EA[1].associationClassID?EA[1].associationClassID:EA[1].classID})))}};return Promise.resolve(EA)}}const CA={dataSource:EA,columns:[],parameters:{},associationFilter:_A,matchPosition:"",ignoreCase:!1};return vu.init(CA).then((({dataSourceMetaData:EA})=>Promise.resolve({data:EA})))},getDefaultColumns:function(EA){const AA=uu.getAppCacheKey(`DefaultColumns_${Object.values(EA).join("_")}`);if(window.sessionStorage.getItem(AA))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(AA)));const{restApi:_A,reqType:CA}=Og("getListData",{dataViewName:"D_pzGetDefaultColumns"}),SA=yc(_A,{method:CA,body:{dataViewParameters:EA}});return SA.then((EA=>{window.sessionStorage.setItem(AA,JSON.stringify(EA))})),SA},getFieldsForDataSource:function(EA,AA,_A){if(!AA){const AA=zp(EA),_A=Array.isArray(AA?.rdFields)?AA?.rdFields:AA?.rdFields?.fields;return _A?Promise.resolve({data:{data:_A.map((EA=>({pyFieldName:EA})))}}):Promise.resolve({data:{data:[]}})}const CA=uu.getAppCacheKey(`RDColumns-${EA}`);if(window.sessionStorage.getItem(CA))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(CA)));const SA=uu.getData("D_pxFieldsForDataSource",{dataViewParameters:{DataPageName:EA}},_A);return SA.then((EA=>{window.sessionStorage.setItem(CA,JSON.stringify(EA))})),SA},getPrimaryFieldsForDataSource:function(EA="",AA=""){const _A=uu.getAppCacheKey(`PFColumns-${EA}${AA}`);if(window.sessionStorage.getItem(_A))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(_A)));const CA=uu.getData("D_pxGetInitialFieldsForDataSource",{dataViewParameters:{DataPageName:EA,ClassName:AA}});return CA.then((EA=>{window.sessionStorage.setItem(_A,JSON.stringify(EA))})),CA},getPrimaryFieldsForInsights:async function(EA,AA,_A){const{allClasses:CA,promisesToAwait:SA,classesToFetch:DA,isTopLevelClassPresent:TA,joinedClassesToFetch:NA}=function(EA,AA){const _A=[],CA=[];let SA=!1;const DA=[],TA=[];return EA&&TA.push(EA),AA&&AA.length>0&&TA.push(...AA),TA.forEach((AA=>{const TA=nA(AA);window.sessionStorage.getItem(TA)||(tA[AA]?CA.push(tA[AA]):(_A.push(AA),AA===EA?SA=!0:DA.push(AA)))})),{allClasses:TA,promisesToAwait:CA,classesToFetch:_A,isTopLevelClassPresent:SA,joinedClassesToFetch:DA}}(EA,_A);return DA.length&&SA.push((async(EA,AA,_A,CA)=>{const SA=uu.getData("D_pxGetPrimaryFieldsForInsights",{dataViewParameters:{...AA&&{topLevelClassID:AA},...CA&&{joinedClassIDs:CA.join(",")},..._A&&{topLevelDataPageID:_A}}}).then((AA=>{const _A=AA.data?.data||[],CA={};EA.forEach((EA=>{CA[EA]=[]})),_A.forEach((({classID:EA,pyFieldName:AA})=>{CA[EA].push(AA)})),Object.entries(CA).forEach((([EA,AA])=>{const _A=nA(EA);window.sessionStorage.setItem(_A,JSON.stringify(AA))}))})).finally((()=>{EA.forEach((EA=>{delete tA[EA]}))}));return EA.forEach((EA=>{tA[EA]=SA})),SA})(DA,TA?EA:void 0,TA?AA:void 0,NA.length>0?NA:void 0)),Promise.allSettled(SA).then((()=>{const EA={};return CA.forEach((AA=>{const _A=nA(AA);if(window.sessionStorage.getItem(_A))try{EA[AA]=JSON.parse(window.sessionStorage.getItem(_A))}catch{}})),{data:EA}}))},getInsightIDs:function(){const{restApi:EA,reqType:AA}=Og("getInsightIDs");return yc(EA,{method:AA})},getInsightByID:function(EA){const AA=Kp(EA);if(AA)return Promise.resolve({data:{pyInsights:[AA]}});const _A={insightID:EA},{restApi:CA,reqType:SA}=Og(QE,_A);return yc(CA,{method:SA})},getInsightsByID:function(EA){const AA={insightID:EA.join(",")},{restApi:_A,reqType:CA}=Og(QE,AA);return yc(_A,{method:CA})},createInsight:function(EA){const{restApi:AA,reqType:_A}=Og("createInsight");return yc(AA,{method:_A,body:JSON.stringify(EA),headers:{"Content-Type":"application/json"}})},updateInsight:function(EA,AA){const _A={insightID:EA},{restApi:CA,reqType:SA}=Og("updateInsight",_A),DA=AA.UpdateDateTime;return yc(CA,{method:SA,body:JSON.stringify(AA),headers:{"if-match":DA,"Content-Type":"application/json"}})},deleteInsight:function(EA){const AA={insightID:EA},{restApi:_A,reqType:CA}=Og("deleteInsight",AA);return yc(_A,{method:CA})},exportToExcel:function(EA){const{restApi:AA,reqType:_A}=Og("exportToExcel");return yc(AA,{method:_A,body:JSON.stringify(EA)})},exportToCSV:function(EA){const{restApi:AA,reqType:_A}=Og("exportToCSV");return yc(AA,{method:_A,body:JSON.stringify(EA)})},scheduleInsight:(EA,AA)=>{const _A={insightID:EA},{restApi:CA,reqType:SA}=Og("scheduleInsight",_A);return yc(CA,{method:SA,body:JSON.stringify(AA)})},updateScheduledInsight:(EA,AA,_A)=>{const CA={insightID:EA,scheduleID:AA},{restApi:SA,reqType:DA}=Og("updateScheduledInsight",CA);return yc(SA,{method:DA,body:JSON.stringify(_A)})},deleteScheduledInsight:(EA,AA)=>{const _A={insightID:EA,scheduleID:AA},{restApi:CA,reqType:SA}=Og("deleteScheduledInsight",_A);return yc(CA,{method:SA})},translateStrings:function(EA){const{restApi:AA,reqType:_A}=Og("translateStrings");return yc(AA,{method:_A,body:JSON.stringify(EA)})}},aA=new class{addRoutes=EA=>{return AA=EA,void gp.addRoutes(AA);var AA}},oA=class{static registerModule(EA,AA,_A){_A[EA]=()=>AA}},iA=class{static getCaseEvent=()=>Object.freeze(B.PUB_SUB_EVENTS.CASE_EVENTS);static getDataEvent=()=>Object.freeze(B.PUB_SUB_EVENTS.DATA_EVENTS);static getTransientEvent=()=>Object.freeze(B.PUB_SUB_EVENTS.EVENT_TRANSIENT_ITEMS);static getBootstrapShellEvent=()=>Object.freeze(B.PUB_SUB_EVENTS.BOOTSTRAP_SHELL_EVENTS)},cA={getResolvedSemanticURL:(EA,AA,_A)=>gp.getResolvedSemanticURL(EA,AA,_A),getActions:()=>({ACTION_OPENWORKBYHANDLE:ze,ACTION_SHOWDATA:We,ACTION_SHOWVIEW:Ge}),updateSemanticURLAndDocumentTitle:EA=>gp.updateSemanticURLAndDocumentTitle(EA)},lA=new class{constructor(){this.genericFailedMessage="Failed to display content. Contact the application administrator."}getGenericFailedMessage(){return this.genericFailedMessage}setGenericFailedMessage(EA){this.genericFailedMessage=EA}},uA={setTokens:EA=>{Sc({tokenInfo:EA}),Cc(EA?.csrf&&!EA?.access_token?{pzCTkn:EA?.csrf}:{Authorization:`${EA?.token_type} ${EA?.access_token}`}),setTimeout((()=>Yr.publish("updateSession",{updateStatus:"success"})),0)},revokeTokens:async()=>Ki(),getAuthInstance:EA=>Yi.init(EA),setAuthorizationHeader:EA=>{Cc({Authorization:EA}),setTimeout((()=>Yr.publish("updateSession",{updateStatus:"success"})),0)}},dA=new class{getDebouncedSubject(EA){return(new lf).pipe(XI(EA))}};Ur.register("email",(EA=>{let AA=null;return EA&&!function(EA){const AA="[^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+",_A="\\x5c[\\x00-\\x7f]",CA=`(${AA}|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|${_A})*\\x5d)`,SA=`(${AA}|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|${_A})*\\x22)`;return new RegExp(`^${SA}(\\x2e${SA})*\\x40${CA}(\\x2e${CA})*$`).test(EA)}(EA)&&(AA=Ip.getLocaleValue("Enter a valid email address","Messages")),AA})),Ur.register("integer",(EA=>{let AA=null;return EA&&!/^(-)?\d+$/.test(EA)&&(AA=Ip.getLocaleValue("Invalid number","Messages")),AA})),Ur.register("required",(EA=>Array.isArray(EA)&&0===EA.length||null==EA||""===EA?Ip.getLocaleValue("Cannot be blank","Messages"):null)),Ur.register("url",(EA=>{let AA=null;return EA&&!function(EA){let AA;try{AA=new URL(EA)}catch{return!1}return"http:"===AA.protocol||"https:"===AA.protocol||"ftp:"===AA.protocol}(EA)&&(AA=Ip.getLocaleValue("Enter a valid url","Messages")),AA})),setTimeout((()=>{const EA=Ip.getLocaleValue("Enter a valid phone number","Messages");s.e(664).then(s.bind(s,654)).then((({parsePhoneNumberFromString:AA})=>{Ur.register("phone",(_A=>{let CA=null;_A&&!/^\+?\d+$/.test(_A)&&(CA=EA);const SA=_A?.startsWith("+");if(_A&&SA){const SA=AA(_A);SA?.isPossible()&&_A===SA?.number||(CA=EA)}return CA}))}))}),G.PRIORITY.TRIVIAL);const pA=(EA,AA)=>{switch(AA){case"invalid":return Ip.getLocaleValue(`Incorrect ${EA}`,"Messages");case"incomplete":return Ip.getLocaleValue(`Incomplete ${EA}`,"Messages");default:return null}};Ur.register("datetime",(EA=>pA("DateTime",EA))),Ur.register("date",(EA=>pA("Date",EA))),Ur.register("time",(EA=>pA("Time",EA))),Ur.register("attachment",((EA,AA)=>(mh(`.attachmentsList${AA.pageReference?.replace("caseInfo.content","")}${AA.property}`,"context_data",AA.context)||[]).some((EA=>EA.props?.error))?Ip.getLocaleValue("Error with one or more files"):null));const hA={createConversation:(EA,AA,_A,CA=[])=>{for(const NA of CA)NA?.cancel&&"function"==typeof NA.cancel&&NA.cancel();const SA=Xm();CA.push(SA);const DA={assistantID:AA},TA=JSON.stringify({contextID:EA});return zm("createConversation",{body:TA,cancelTokenSource:SA,queryPayload:DA},_A).then((EA=>(CA.pop(),EA)))},sendMessage:(EA,AA,_A,CA)=>{const SA={assistantID:EA,conversationID:AA},DA=JSON.stringify({request:_A});return zm("sendMessage",{body:DA,queryPayload:SA},CA)}},gA=class{caseTypeAccessMap=new Map;constructor(){this.caseTypeAccessMap=fp.getCaseTypeList().reduce(((EA,AA)=>(EA.set(AA.pyWorkTypeImplementationClassName,AA.hasCreateAccess??!0),EA)),new Map)}hasCreateAccess(EA){return this.caseTypeAccessMap.get(EA)}static getInstance(){return this.instance||(this.instance=new this),this.instance}};class fA{constructor(){fA.behaviorOverrides={}}static behaviorOverrides={};getPCoreVersion=()=>"24.2.2";onPCoreReady=EA=>EE.onPCoreReady(EA);onPCoreCleanup=EA=>EE.onPCoreCleanup(EA);getComponentsRegistry=()=>EE.getComponentsRegistry();checkIfSemanticURL=()=>EE.checkIfSemanticURL();isValidSemanticURL=()=>(()=>{if($g()){const EA=gp.processUrl(dp(),!0);return!!gp._getMatchedRouteInRoutingTable(EA)}return!1})();getRoutingUtils=()=>aA;getViewResources=()=>m;configureForBrowserBookmark=EA=>EE.configureForBrowserBookmark(EA);getStore=()=>dh();resetStore=()=>Nh();getMessageManager=()=>sr;getCoexistenceManager=()=>yE;getStoreValue=(EA,AA,_A)=>mh(EA,AA,_A);getContainerUtils=()=>d;getAnnotationUtils=()=>fl;getFieldUtils=()=>Hn;getFieldDefaultUtils=()=>Mr;getAssetLoader=()=>kr;getAttachmentUtils=()=>Rp;getViewRuleApi=()=>RE;getFeedUtils=()=>UE;getTagUtils=()=>FE;getGenAIAssistantUtils=()=>hA;getStakeholderUtils=()=>VE;getUserApi=()=>xE;getCaseFollowerApi=()=>bE;getCaseUtils=()=>Rc;getStateUtils=()=>Hu;getRelatedCasesApi=()=>OE;getPersonalizationUtils=XE;getDataApi=()=>vu;getDataApiUtils=()=>uu;getAnalyticsUtils=()=>sA;getLocaleUtils=()=>Ip;registerLocaleManager=EA=>{const AA=this.getLocaleUtils();Object.keys(EA).forEach((_A=>{AA[_A]=EA[_A]}))};setBehaviorOverrides=EA=>{fA.behaviorOverrides=EA};setBehaviorOverride=(EA,AA)=>{fA.behaviorOverrides[EA]=AA};getBehaviorOverrides=()=>fA.behaviorOverrides;getBehaviorOverride=EA=>fA.behaviorOverrides[EA];getAsynchronousUtils=()=>dA;createPConnect=EA=>td(EA);getPubSubUtils=()=>Yr;registerComponentCreator=EA=>{nd(EA)};getConstants=()=>Object.freeze(B);getEvents=()=>iA;getRestClient=()=>f;getMashupApi=()=>IE;getEnvironmentInfo=()=>fp;getRuntimeParamsAPI=()=>AE;getSemanticUrlUtils=()=>cA;getRemoteCaseUtils=()=>q;getNavigationUtils=()=>fE;registerModule=(EA,AA)=>oA.registerModule(EA,AA,this);getErrorHandler=()=>lA;getFormUtils=()=>Zc;getMessagingServiceManager=()=>Iu;getMetadataUtils=()=>p;getDataPageUtils=()=>Au;getDataTypeUtils=()=>$l;getCascadeManager=()=>ih;isDeepEqual=(EA,AA)=>I()(EA,AA);getAuthUtils=()=>uA;getDebugger=()=>ac;getDeferLoadManager=()=>cu;getExpressionEngine=()=>c;getActionsSequencer=()=>Mu;getRefreshManager=()=>Il;getInitialiser=()=>PE;getAllStateMachines=(EA,AA,_A)=>AA&&_A?el.getAllStateMachines(EA,AA,_A):el.getAllStateMachinesByContext(EA);getBootstrapUtils=()=>EE;getContextTreeManager=()=>vn;getAccessPrivilege=()=>gA.getInstance()}const mA=new fA;s.g.PCore=mA;const yA=mA;var IA=a.A;export{IA as default};
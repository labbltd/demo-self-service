"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[266],{7266:(e,n,a)=>{a.r(n),a.d(n,{default:()=>s});var t=a(5882),r=a(4041),i=a(3927),l=a(1085);function c(e){const[n,a]=(0,r.useState)(null),[t,i]=(0,r.useState)(!1),[c,s]=(0,r.useState)(!1),[o,d]=(0,r.useState)(e.value);return(0,r.useEffect)((()=>{var n;d(null==(n=e.value)?void 0:n.toUpperCase())}),[e.value]),(0,l.jsxs)("div",{className:"f-item kenteken",children:[(0,l.jsx)("label",{htmlFor:"Licence",className:"f-item__label",children:e.label}),(0,l.jsx)("div",{className:"f-items-wrap",children:(0,l.jsxs)("div",{className:"licence-plate-field",children:[(0,l.jsx)("input",{name:"Licence",id:"Licence",type:"text",className:"field-valid",value:o,onChange:e=>{var n;d(null==(n=e.target.value)?void 0:n.toUpperCase())},onBlur:n=>{!async function(n){s(!0);const t=await fetch("https://www.mkb-brandstof.nl/api/aanmelden/license",{headers:{accept:"application/json","content-type":"application/json"},referrer:"https://www.mkb-brandstof.nl/aanmelden/formulier/passen",body:JSON.stringify({license:n}),method:"POST"});if(s(!1),t.ok){const r=await t.json();if("success"===r.result&&"FOUND"===r.vehicle.RDWStatus){const{Brand:t,CommercialName:i,MainColor:l}=r.vehicle.VehicleInformation;a({brand:t,name:i,color:l}),e.onChange(n)}else i(!0)}}(n.target.value)}}),n&&(0,l.jsx)("span",{className:"icon-check"}),(0,l.jsx)("div",{className:"field-loader",style:{display:c?"inline":"none"},children:(0,l.jsx)("span",{className:"loading-icon"})})]})}),n&&(0,l.jsxs)("span",{className:"confirm-message",children:[n.brand," ",n.name,(0,l.jsx)("br",{}),"Kleur: ",n.color]}),(0,l.jsx)("span",{className:"notice-message",style:{display:"none"},children:"Geef een kenteken op zodat je ook kunt straatparkeren. Het kenteken beheer je via jouw Dashboard. Hier kun je ook meerdere kentekens toevoegen."}),t&&(0,l.jsx)("span",{"data-errorfield-id":"Licence",className:"error-message",children:"We kunnen dit kenteken (nog) niet vinden bij de RDW. Controleer 'm alsjeblieft. Met het juiste kenteken kun je ook gebruikmaken van straatparkeren."})]})}function s(e){const[n,a]=(0,r.useState)(e.container.config.value);function s(){var n,a;switch(null==(n=e.container.config.fieldMetadata)?void 0:n.type){case"Decimal":case"Integer":return"number";case"True-False":return"checkbox";case"Date Time":return"datetime-local";case"Date":return"date";case"TimeOfDay":return"time";case"Text":return"pxEmail"===(null==(a=e.container.config.fieldMetadata)?void 0:a.displayAs)?"email":"text";default:return"text"}}function o(e){var n;const a=e;switch(s()){case"number":return a.valueAsNumber;case"date":return(null==(n=a.valueAsDate)?void 0:n.toISOString().split("T")[0])||"";case"checkbox":return a.checked;default:return a.value}}var d;if(e.container.config.readOnly)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("dt",{children:e.container.config.label}),(0,l.jsx)("dd",{children:null!=(d=function(n){return"date"===s()?t._J.Date(n):"datetime-local"===s()?t._J.DateTime(n):"time"===s()?t._J.Time(n):"number"===s()&&e.container.config.currencyISOCode?t._J.Currency(n):n}(e.container.config.value))?d:"--"})]});return".VehicleLicensePlateNumber"===e.container.pconnect.getStateProps().value?(0,l.jsx)(c,{label:e.container.config.label,value:e.container.config.value,onChange:n=>{e.container.updateFieldValue(n),e.container.triggerFieldChange(n)}}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.ks,{name:e.container.id,value:n,label:e.container.config.label,type:s(),onChange:n=>{return t=n,"date"!==s()&&e.container.updateFieldValue(o(t.target)),void a(o(t.target));var t},onBlur:n=>{return a=n,"date"===s()&&e.container.updateFieldValue(o(a.target)),void e.container.triggerFieldChange(o(a.target));var a},placeholder:e.container.config.placeholder,required:e.container.config.required,error:e.container.config.validatemessage,disabled:e.container.config.disabled,id:e.container.id})})}}}]);
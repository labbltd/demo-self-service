"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[62],{5062:(e,s,n)=>{n.r(s),n.d(s,{default:()=>i});var l=n(4041),a=n(1085);function i(e){const[s,n]=(0,l.useState)(),{container:i}=e,t=(0,l.useRef)(null);const r=e.container.config.validatemessage;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"nhsuk-form-group"+(i.config.validatemessage?" nhsuk-form-group--error":""),children:[(0,a.jsxs)("label",{className:"nhsuk-label",htmlFor:i.id,children:[i.config.label,i.config.required?"":" (Optional)"]}),i.config.helperText&&(0,a.jsx)("div",{className:"nhsuk-hint",children:i.config.helperText}),i.config.validatemessage&&(0,a.jsxs)("p",{className:"nhsuk-error-message",children:[(0,a.jsx)("span",{className:"nhsuk-visually-hidden",children:"Error:"})," ",i.config.validatemessage]}),(0,a.jsx)("input",{className:"nhsuk-input nhsuk-file-upload"+(r?" nhsuk-file-upload--error":""),id:e.container.id,name:e.container.id,type:"file",multiple:"true"===e.container.config.allowMultiple,onChange:s=>e.container.uploadFile(s)})]}),i.files.length>0&&(0,a.jsx)("table",{className:"nhsuk-table",children:(0,a.jsx)("tbody",{className:"nhsuk-table__body",children:i.files.map((e=>(0,a.jsxs)("tr",{className:"nhsuk-table__row",children:[(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:i.formatBytes(e.size)}),(0,a.jsx)("td",{children:e.type}),(0,a.jsxs)("td",{children:[e.progress,"%"]}),(0,a.jsxs)("td",{children:[(0,a.jsx)("button",{type:"button",className:"nhsuk-button--secondary",onClick:()=>i.removeFile(e.id),children:"Delete"}),e.type.startsWith("image")&&(0,a.jsx)("button",{type:"button",className:"nhsuk-button--secondary",onClick:async()=>async function(e){var s;e.linked?n("data:image/png;base64,"+await i.downloadFile(e.id)):n(e.src),null==(s=t.current)||s.showModal()}(e),children:"Preview"})]})]},e.id)))})}),(0,a.jsxs)("dialog",{ref:t,children:[(0,a.jsx)("button",{type:"button",onClick:async()=>{var e;return null==(e=t.current)?void 0:e.close()},children:"Close"}),(0,a.jsx)("img",{width:"100%",src:s})]})]})}}}]);